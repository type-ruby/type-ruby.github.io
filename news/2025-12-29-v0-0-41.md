---
slug: v0-0-41-release
title: T-Ruby v0.0.41 Released
authors: [yhk1038]
tags: [release, feature]
date: 2025-12-29T01:00:00
---

T-Ruby v0.0.41 introduces keyword arguments syntax, bringing more expressive type annotations to your Ruby code. ([PR#27](https://github.com/type-ruby/t-ruby/pull/27))

<!-- truncate -->

## Keyword Arguments Syntax

> üìñ See also: [Optional & Rest Parameters](/docs/learn/functions/optional-rest-parameters)

This release adds new syntax for keyword arguments that distinguishes them from positional arguments:

### Keyword Arguments with Destructuring

```ruby
def create_user({ name: String, email: String }): User
  User.new(name: name, email: email)
end

# Call with keyword arguments
create_user(name: "Alice", email: "alice@example.com")
```

### Hash Literal Parameters

```ruby
def configure(config: { host: String, port: Integer }): void
  # config is a Hash parameter, not destructured keywords
end
```

### Double Splat for Forwarding

```ruby
def forward_options(**opts: Symbol): void
  other_method(**opts)
end
```

## Syntax Summary

| Syntax | Meaning |
|--------|---------|
| `{ name: String }` | Keyword arguments (destructured) |
| `config: { host: String }` | Hash literal parameter |
| `**opts: Type` | Double splat for forwarding |

## Bug Fixes

### Fixed Return Type Erasure for Parentheses-less Methods ([PR#24](https://github.com/type-ruby/t-ruby/pull/24), [Issue#23](https://github.com/type-ruby/t-ruby/issues/23))

Previously, methods defined without parentheses would retain their type annotations after compilation, resulting in invalid Ruby code:

```ruby
# Before (T-Ruby source)
def greet: String
  "Hello!"
end

# ‚ùå Bug: Type annotation was not removed
def greet: String
  "Hello!"
end

# ‚úÖ Fixed: Now correctly compiles to valid Ruby
def greet
  "Hello!"
end
```

This fix ensures that all method signatures‚Äîwith or without parentheses‚Äîare properly transformed into valid Ruby code.

## Internal Improvements

- Extracted common string utilities to `StringUtils` module

## Upgrade

```bash
gem update t-ruby
```
