<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/generics/constraints" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Constraints | T-Ruby</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://type-ruby.github.io/img/t-ruby-social-card.png"><meta data-rh="true" name="twitter:image" content="https://type-ruby.github.io/img/t-ruby-social-card.png"><meta data-rh="true" property="og:url" content="https://type-ruby.github.io/docs/learn/generics/constraints"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ko_KR"><meta data-rh="true" property="og:locale:alternate" content="ja_JP"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Constraints | T-Ruby"><meta data-rh="true" name="description" content="Constraining generic type parameters"><meta data-rh="true" property="og:description" content="Constraining generic type parameters"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://type-ruby.github.io/docs/learn/generics/constraints"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/docs/learn/generics/constraints" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/ko/docs/learn/generics/constraints" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/ja/docs/learn/generics/constraints" hreflang="ja-JP"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/docs/learn/generics/constraints" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Constraints","item":"https://type-ruby.github.io/docs/learn/generics/constraints"}]}</script><link rel="stylesheet" href="/assets/css/styles.9b9d9a8c.css">
<script src="/assets/js/runtime~main.186a84d5.js" defer="defer"></script>
<script src="/assets/js/main.220479fb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_k978" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="T-Ruby Logo" class="themedComponent_beCX themedComponent--light_Hbs7"><img src="/img/logo.svg" alt="T-Ruby Logo" class="themedComponent_beCX themedComponent--dark_a98I"></div><b class="navbar__title text--truncate">T-Ruby</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/what-is-t-ruby">Docs</a><a class="navbar__item navbar__link" href="/playground">Playground</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_xWnT"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/learn/generics/constraints" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/ko/docs/learn/generics/constraints" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko-KR">한국어</a></li><li><a href="/ja/docs/learn/generics/constraints" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja-JP">日本語</a></li></ul></div><a href="https://github.com/type-ruby/t-ruby" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Cy_U"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_lwka colorModeToggle_SVpo"><button class="clean-btn toggleButton_Mbg6 toggleButtonDisabled_dsJi" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_LX0_ lightToggleIcon_iZ7o"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_LX0_ darkToggleIcon_sbHe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_LX0_ systemToggleIcon_rNLr"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bxl4"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_CSSr"><div class="docsWrapper_b3o4"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ngaE" type="button"></button><div class="docRoot_vnET"><aside class="theme-doc-sidebar-container docSidebarContainer_lkE3"><div class="sidebarViewport_l_GY"><div class="sidebar_rAVx"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_V6cO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/introduction/what-is-t-ruby"><span title="Introduction" class="categoryLinkLabel_ExjS">Introduction</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/what-is-t-ruby"><span title="What is T-Ruby?" class="linkLabel_ElBB">What is T-Ruby?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/why-t-ruby"><span title="Why T-Ruby?" class="linkLabel_ElBB">Why T-Ruby?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/t-ruby-vs-others"><span title="T-Ruby vs Others" class="linkLabel_ElBB">T-Ruby vs Others</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/getting-started/installation"><span title="Getting Started" class="categoryLinkLabel_ExjS">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/installation"><span title="Installation" class="linkLabel_ElBB">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/quick-start"><span title="Quick Start" class="linkLabel_ElBB">Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/first-trb-file"><span title="Your First .trb File" class="linkLabel_ElBB">Your First .trb File</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/editor-setup"><span title="Editor Setup" class="linkLabel_ElBB">Editor Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/project-configuration"><span title="Project Configuration" class="linkLabel_ElBB">Project Configuration</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/learn/basics/type-annotations"><span title="Learn" class="categoryLinkLabel_ExjS">Learn</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/learn/basics/type-annotations"><span title="The Basics" class="categoryLinkLabel_ExjS">The Basics</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/learn/everyday-types/primitives"><span title="Everyday Types" class="categoryLinkLabel_ExjS">Everyday Types</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/learn/functions/parameter-return-types"><span title="Functions" class="categoryLinkLabel_ExjS">Functions</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/learn/classes/class-annotations"><span title="Classes &amp; Modules" class="categoryLinkLabel_ExjS">Classes &amp; Modules</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/learn/interfaces/defining-interfaces"><span title="Interfaces" class="categoryLinkLabel_ExjS">Interfaces</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/learn/generics/generic-functions-classes"><span title="Generics" class="categoryLinkLabel_ExjS">Generics</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/generics/generic-functions-classes"><span title="Generic Functions &amp; Classes" class="linkLabel_ElBB">Generic Functions &amp; Classes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/learn/generics/constraints"><span title="Constraints" class="linkLabel_ElBB">Constraints</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/generics/built-in-generics"><span title="Built-in Generics" class="linkLabel_ElBB">Built-in Generics</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/learn/advanced/type-aliases"><span title="Advanced Types" class="categoryLinkLabel_ExjS">Advanced Types</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/cli/commands"><span title="CLI Reference" class="categoryLinkLabel_ExjS">CLI Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tooling/rbs-integration"><span title="Tooling" class="categoryLinkLabel_ExjS">Tooling</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/cheatsheet"><span title="Reference" class="categoryLinkLabel_ExjS">Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/project/roadmap"><span title="Project" class="categoryLinkLabel_ExjS">Project</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_WeUM"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_qoff"><div class="docItemContainer_phNv"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_q0fI" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_UB4j"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Learn</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Generics</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Constraints</span></li></ul></nav><div class="tocCollapsible_Jjm_ theme-doc-toc-mobile tocMobile_KLro"><button type="button" class="clean-btn tocCollapsibleButton_ibvO">On this page</button></div><div class="theme-doc-markdown markdown"><div style="display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;background-color:rgba(34, 197, 94, 0.1);color:#16a34a;border:1px solid rgba(34, 197, 94, 0.2);margin-bottom:16px"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-badge-check" aria-hidden="true"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg><span>Examples Verified (<!-- -->100<!-- -->%)</span></div>
<header><h1>Constraints</h1></header>
<p>While generics allow you to write code that works with any type, sometimes you need to ensure that the types used have certain properties or capabilities. Constraints let you restrict generic type parameters to types that meet specific requirements, giving you access to their methods and properties while maintaining type safety.</p>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="why-constraints">Why Constraints?<a href="#why-constraints" class="hash-link" aria-label="Direct link to Why Constraints?" title="Direct link to Why Constraints?" translate="no">​</a></h2>
<p>Without constraints, generic code can only perform operations that work on all types. Constraints allow you to:</p>
<ol>
<li class="">Access specific methods or properties on generic types</li>
<li class="">Ensure types implement certain interfaces</li>
<li class="">Require types to extend specific classes</li>
<li class="">Combine multiple requirements</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="the-problem-unconstrained-generics">The Problem: Unconstrained Generics<a href="#the-problem-unconstrained-generics" class="hash-link" aria-label="Direct link to The Problem: Unconstrained Generics" title="Direct link to The Problem: Unconstrained Generics" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Without constraints, you can&#x27;t use type-specific methods</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def print_length&lt;T&gt;(value: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  puts value.length  # Error: T might not have a length method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Without constraints, you can&#x27;t rely on specific behavior</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def compare&lt;T&gt;(a: T, b: T): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a &lt;=&gt; b  # Error: T might not be comparable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="the-solution-with-constraints">The Solution: With Constraints<a href="#the-solution-with-constraints" class="hash-link" aria-label="Direct link to The Solution: With Constraints" title="Direct link to The Solution: With Constraints" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Constrain T to types that have a length method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def print_length&lt;T: Lengthable&gt;(value: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  puts value.length  # OK: T is guaranteed to have length</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Constrain T to comparable types</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def compare&lt;T: Comparable&gt;(a: T, b: T): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a &lt;=&gt; b  # OK: T is guaranteed to support &lt;=&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="basic-constraint-syntax">Basic Constraint Syntax<a href="#basic-constraint-syntax" class="hash-link" aria-label="Direct link to Basic Constraint Syntax" title="Direct link to Basic Constraint Syntax" translate="no">​</a></h2>
<p>Constraints are specified using a colon (<code>:</code>) after the type parameter:</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Single constraint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def process&lt;T: Interface&gt;(value: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # T must implement Interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Multiple type parameters with constraints</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def merge&lt;K: Hashable, V: Serializable&gt;(key: K, value: V): Hash&lt;K, V&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # K must be Hashable, V must be Serializable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="interface-constraints">Interface Constraints<a href="#interface-constraints" class="hash-link" aria-label="Direct link to Interface Constraints" title="Direct link to Interface Constraints" translate="no">​</a></h2>
<p>The most common constraint is requiring a type to implement an interface.</p>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="defining-an-interface-for-constraints">Defining an Interface for Constraints<a href="#defining-an-interface-for-constraints" class="hash-link" aria-label="Direct link to Defining an Interface for Constraints" title="Direct link to Defining an Interface for Constraints" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Define an interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Printable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def to_s: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Constrain T to types that implement Printable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def print_items&lt;T: Printable&gt;(items: Array&lt;T&gt;): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.each do |item|</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    puts item.to_s  # Safe: T is guaranteed to have to_s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Usage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  implements Printable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @name: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(name: String): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @name = name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def to_s: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;User: #{@name}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">users = [User.new(&quot;Alice&quot;), User.new(&quot;Bob&quot;)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">print_items(users)  # OK: User implements Printable</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="common-interface-constraints">Common Interface Constraints<a href="#common-interface-constraints" class="hash-link" aria-label="Direct link to Common Interface Constraints" title="Direct link to Common Interface Constraints" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Comparable interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Comparable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def &lt;=&gt;(other: self): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def max&lt;T: Comparable&gt;(a: T, b: T): T</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a &lt;=&gt; b &gt; 0 ? a : b</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Numeric interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Numeric</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def +(other: self): self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def -(other: self): self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def *(other: self): self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def /(other: self): self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def average&lt;T: Numeric&gt;(numbers: Array&lt;T&gt;): T</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sum = numbers.reduce { |acc, n| acc + n }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sum / numbers.length</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Enumerable interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Enumerable&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def each(&amp;block: Proc&lt;T, void&gt;): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def map&lt;U&gt;(&amp;block: Proc&lt;T, U&gt;): Array&lt;U&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def count_items&lt;T, C: Enumerable&lt;T&gt;&gt;(collection: C): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  counter = 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  collection.each { |_| counter += 1 }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  counter</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="class-constraints">Class Constraints<a href="#class-constraints" class="hash-link" aria-label="Direct link to Class Constraints" title="Direct link to Class Constraints" translate="no">​</a></h2>
<p>You can constrain a type parameter to be a specific class or a subclass of it.</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Constrain to a specific class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Animal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @name: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(name: String): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @name = name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def speak: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Some sound&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Dog &lt; Animal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def speak: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Woof!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Cat &lt; Animal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def speak: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Meow!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># T must be Animal or a subclass of Animal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def make_speak&lt;T: Animal&gt;(animal: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  puts animal.speak  # Safe: Animal has speak method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Usage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dog = Dog.new(&quot;Buddy&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cat = Cat.new(&quot;Whiskers&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make_speak(dog)  # OK: Dog is an Animal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make_speak(cat)  # OK: Cat is an Animal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make_speak(&quot;string&quot;)  # Error: String is not an Animal</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="working-with-class-hierarchies">Working with Class Hierarchies<a href="#working-with-class-hierarchies" class="hash-link" aria-label="Direct link to Working with Class Hierarchies" title="Direct link to Working with Class Hierarchies" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Vehicle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @brand: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(brand: String): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @brand = brand</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def brand: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @brand</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Car &lt; Vehicle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @doors: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(brand: String, doors: Integer): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    super(brand)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @doors = doors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def doors: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @doors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Repository that works with any Vehicle subclass</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Repository&lt;T: Vehicle&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @items: Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items = []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def add(item: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.push(item)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def find_by_brand(brand: String): T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.find { |item| item.brand == brand }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def all: Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.dup</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Usage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">car_repo = Repository&lt;Car&gt;.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">car_repo.add(Car.new(&quot;Toyota&quot;, 4))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">car_repo.add(Car.new(&quot;Honda&quot;, 2))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">found = car_repo.find_by_brand(&quot;Toyota&quot;)  # Car | nil</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="multiple-constraints">Multiple Constraints<a href="#multiple-constraints" class="hash-link" aria-label="Direct link to Multiple Constraints" title="Direct link to Multiple Constraints" translate="no">​</a></h2>
<div class="theme-admonition theme-admonition-caution admonition_LeLL alert alert--warning"><div class="admonitionHeading_uXiR"><span class="admonitionIcon_IOyl"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Coming Soon</div><div class="admonitionContent_Drhn"><p>This feature is planned for a future release.</p></div></div>
<p>In the future, T-Ruby will support multiple constraints using the <code>&amp;</code> operator:</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Type must implement both interfaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def process&lt;T: Printable &amp; Comparable&gt;(value: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  puts value.to_s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Can use methods from both interfaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Type must extend class and implement interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def save&lt;T: Entity &amp; Serializable&gt;(entity: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Can use methods from Entity class and Serializable interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="union-type-constraints">Union Type Constraints<a href="#union-type-constraints" class="hash-link" aria-label="Direct link to Union Type Constraints" title="Direct link to Union Type Constraints" translate="no">​</a></h2>
<p>You can constrain a type to be one of several specific types using union types:</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># T must be either String or Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def format&lt;T: String | Integer&gt;(value: T): String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  case value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  when String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;String: #{value}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  when Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Number: #{value}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">format(&quot;hello&quot;)  # OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">format(42)       # OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">format(3.14)     # Error: Float is not String | Integer</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="practical-union-constraint-example">Practical Union Constraint Example<a href="#practical-union-constraint-example" class="hash-link" aria-label="Direct link to Practical Union Constraint Example" title="Direct link to Practical Union Constraint Example" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># A flexible ID type</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">type StringOrInt = String | Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def find_user&lt;T: StringOrInt&gt;(id: T): User | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  case id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  when String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    User.find_by_username(id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  when Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    User.find_by_id(id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Both work</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user1 = find_user(123)        # Find by integer ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user2 = find_user(&quot;alice&quot;)    # Find by username string</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="constrained-generic-classes">Constrained Generic Classes<a href="#constrained-generic-classes" class="hash-link" aria-label="Direct link to Constrained Generic Classes" title="Direct link to Constrained Generic Classes" translate="no">​</a></h2>
<p>Generic classes can have constrained type parameters:</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Queue that only works with comparable items</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class PriorityQueue&lt;T: Comparable&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @items: Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items = []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def enqueue(item: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.push(item)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.sort! { |a, b| b &lt;=&gt; a }  # Highest priority first</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def dequeue: T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.shift</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def peek: T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.first</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Works with any comparable type</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Task</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  implements Comparable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @priority: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @name: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(name: String, priority: Integer): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @name = name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @priority = priority</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def &lt;=&gt;(other: Task): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @priority &lt;=&gt; other.priority</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">queue = PriorityQueue&lt;Task&gt;.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">queue.enqueue(Task.new(&quot;Low priority&quot;, 1))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">queue.enqueue(Task.new(&quot;High priority&quot;, 10))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">queue.enqueue(Task.new(&quot;Medium priority&quot;, 5))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Dequeues in priority order: High -&gt; Medium -&gt; Low</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="generic-class-with-multiple-constrained-parameters">Generic Class with Multiple Constrained Parameters<a href="#generic-class-with-multiple-constrained-parameters" class="hash-link" aria-label="Direct link to Generic Class with Multiple Constrained Parameters" title="Direct link to Generic Class with Multiple Constrained Parameters" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Map that requires hashable keys and serializable values</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Hashable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def hash: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def ==(other: self): Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serializable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def to_json: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def self.from_json(json: String): self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class SerializableMap&lt;K: Hashable, V: Serializable&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @data: Hash&lt;K, V&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @data = {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def set(key: K, value: V): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @data[key] = value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def get(key: K): V | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @data[key]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def to_json: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    pairs = @data.map { |k, v| &quot;#{k.hash}: #{v.to_json}&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;{ #{pairs.join(&#x27;, &#x27;)} }&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="constraints-with-default-types">Constraints with Default Types<a href="#constraints-with-default-types" class="hash-link" aria-label="Direct link to Constraints with Default Types" title="Direct link to Constraints with Default Types" translate="no">​</a></h2>
<p>You can provide default types for generic parameters with constraints:</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default to String if not specified</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Cache&lt;K: Hashable = String, V = Any&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @data: Hash&lt;K, V&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @data = {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def set(key: K, value: V): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @data[key] = value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def get(key: K): V | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @data[key]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Uses default: Cache&lt;String, Any&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache1 = Cache.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache1.set(&quot;key&quot;, &quot;value&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Explicit types</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache2 = Cache&lt;Integer, User&gt;.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cache2.set(1, User.new(&quot;Alice&quot;))</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="practical-examples">Practical Examples<a href="#practical-examples" class="hash-link" aria-label="Direct link to Practical Examples" title="Direct link to Practical Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="sortable-collection">Sortable Collection<a href="#sortable-collection" class="hash-link" aria-label="Direct link to Sortable Collection" title="Direct link to Sortable Collection" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Comparable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def &lt;=&gt;(other: self): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class SortedList&lt;T: Comparable&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @items: Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items = []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def add(item: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.push(item)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.sort! { |a, b| a &lt;=&gt; b }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def remove(item: T): Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if index = @items.index(item)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      @items.delete_at(index)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def first: T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.first</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def last: T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.last</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def to_a: Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.dup</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Usage with integers (naturally comparable)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numbers = SortedList&lt;Integer&gt;.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numbers.add(5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numbers.add(2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numbers.add(8)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numbers.add(1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">puts numbers.to_a  # [1, 2, 5, 8] - always sorted</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="repository-pattern-with-constraints">Repository Pattern with Constraints<a href="#repository-pattern-with-constraints" class="hash-link" aria-label="Direct link to Repository Pattern with Constraints" title="Direct link to Repository Pattern with Constraints" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Base entity class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Entity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @id: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(id: Integer): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @id = id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def id: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Generic repository constrained to Entity subclasses</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Repository&lt;T: Entity&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @items: Hash&lt;Integer, T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items = {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def save(entity: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items[entity.id] = entity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def find(id: Integer): T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items[id]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def all: Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @items.values</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def delete(id: Integer): Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    !!@items.delete(id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Domain models</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User &lt; Entity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @name: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @email: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(id: Integer, name: String, email: String): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    super(id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @name = name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @email = email</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def name: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Product &lt; Entity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @title: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @price: Float</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(id: Integer, title: String, price: Float): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    super(id)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @title = title</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @price = price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def title: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @title</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Usage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user_repo = Repository&lt;User&gt;.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user_repo.save(User.new(1, &quot;Alice&quot;, &quot;alice@example.com&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user_repo.save(User.new(2, &quot;Bob&quot;, &quot;bob@example.com&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">product_repo = Repository&lt;Product&gt;.new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">product_repo.save(Product.new(1, &quot;Laptop&quot;, 999.99))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">found_user = user_repo.find(1)  # User | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">all_products = product_repo.all  # Array&lt;Product&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="builder-pattern-with-constraints">Builder Pattern with Constraints<a href="#builder-pattern-with-constraints" class="hash-link" aria-label="Direct link to Builder Pattern with Constraints" title="Direct link to Builder Pattern with Constraints" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Buildable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def build: self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Builder&lt;T: Buildable&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @instance: T</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(instance: T): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @instance = instance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def build: T</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @instance.build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class QueryBuilder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  implements Buildable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @table: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @conditions: Array&lt;String&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize(table: String): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @table = table</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @conditions = []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def where(condition: String): self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @conditions.push(condition)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def build: self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # In real implementation, would create SQL query</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def to_sql: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sql = &quot;SELECT * FROM #{@table}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    unless @conditions.empty?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      sql += &quot; WHERE #{@conditions.join(&#x27; AND &#x27;)}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Usage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">query = Builder.new(QueryBuilder.new(&quot;users&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  .build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  .where(&quot;age &gt; 18&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  .where(&quot;active = true&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">puts query.to_sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># SELECT * FROM users WHERE age &gt; 18 AND active = true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="type-inference-with-constraints">Type Inference with Constraints<a href="#type-inference-with-constraints" class="hash-link" aria-label="Direct link to Type Inference with Constraints" title="Direct link to Type Inference with Constraints" translate="no">​</a></h2>
<p>T-Ruby can infer constrained types from usage:</p>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">def sort_and_first&lt;T: Comparable&gt;(items: Array&lt;T&gt;): T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sorted = items.sort { |a, b| a &lt;=&gt; b }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sorted.first</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Type inferred as Integer (which is Comparable)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">numbers = [3, 1, 4, 1, 5]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">first = sort_and_first(numbers)  # Integer | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Type inferred as String (which is Comparable)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">words = [&quot;zebra&quot;, &quot;apple&quot;, &quot;mango&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">first_word = sort_and_first(words)  # String | nil</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="1-use-the-least-restrictive-constraint">1. Use the Least Restrictive Constraint<a href="#1-use-the-least-restrictive-constraint" class="hash-link" aria-label="Direct link to 1. Use the Least Restrictive Constraint" title="Direct link to 1. Use the Least Restrictive Constraint" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Good: Only requires what&#x27;s needed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def print_all&lt;T: Printable&gt;(items: Array&lt;T&gt;): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.each { |item| puts item.to_s }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Less good: Too restrictive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def print_all&lt;T: User&gt;(items: Array&lt;T&gt;): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.each { |item| puts item.to_s }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="2-create-small-focused-interfaces-for-constraints">2. Create Small, Focused Interfaces for Constraints<a href="#2-create-small-focused-interfaces-for-constraints" class="hash-link" aria-label="Direct link to 2. Create Small, Focused Interfaces for Constraints" title="Direct link to 2. Create Small, Focused Interfaces for Constraints" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Good: Small, focused interfaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Identifiable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def id: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Timestamped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def created_at: Time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def updated_at: Time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def find_by_id&lt;T: Identifiable&gt;(items: Array&lt;T&gt;, id: Integer): T | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.find { |item| item.id == id }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Less good: Large, monolithic interface</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def id: Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def save: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def delete: void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def created_at: Time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def updated_at: Time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Too many methods - hard to implement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="3-document-constraint-requirements">3. Document Constraint Requirements<a href="#3-document-constraint-requirements" class="hash-link" aria-label="Direct link to 3. Document Constraint Requirements" title="Direct link to 3. Document Constraint Requirements" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Good: Clear documentation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Processes items that can be converted to strings</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># @param items [Array&lt;T&gt;] Array of printable items</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># @return [void]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def log_items&lt;T: Printable&gt;(items: Array&lt;T&gt;): void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.each { |item| puts item.to_s }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="common-constraint-patterns">Common Constraint Patterns<a href="#common-constraint-patterns" class="hash-link" aria-label="Direct link to Common Constraint Patterns" title="Direct link to Common Constraint Patterns" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="identity-constraint">Identity Constraint<a href="#identity-constraint" class="hash-link" aria-label="Direct link to Identity Constraint" title="Direct link to Identity Constraint" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Identifiable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def id: Integer | String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def find_duplicates&lt;T: Identifiable&gt;(items: Array&lt;T&gt;): Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  seen = {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  duplicates = []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.each do |item|</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if seen[item.id]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      duplicates.push(item)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      seen[item.id] = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  duplicates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="validation-constraint">Validation Constraint<a href="#validation-constraint" class="hash-link" aria-label="Direct link to Validation Constraint" title="Direct link to Validation Constraint" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Validatable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def valid?: Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def errors: Array&lt;String&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def save_if_valid&lt;T: Validatable&gt;(item: T): Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if item.valid?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Save logic here</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    puts &quot;Validation errors: #{item.errors.join(&#x27;, &#x27;)}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_BB1v" id="conversion-constraint">Conversion Constraint<a href="#conversion-constraint" class="hash-link" aria-label="Direct link to Conversion Constraint" title="Direct link to Conversion Constraint" translate="no">​</a></h3>
<div class="language-trb codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-trb codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Convertible&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def convert: T</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def batch_convert&lt;S: Convertible&lt;T&gt;, T&gt;(items: Array&lt;S&gt;): Array&lt;T&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items.map { |item| item.convert }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_BB1v" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">​</a></h2>
<p>Now that you understand constraints, explore:</p>
<ul>
<li class=""><a class="" href="/docs/learn/generics/built-in-generics">Built-in Generics</a> to see how constraints work with <code>Array&lt;T&gt;</code>, <code>Hash&lt;K, V&gt;</code>, and other built-in types</li>
<li class=""><a class="" href="/docs/learn/interfaces/defining-interfaces">Interfaces</a> to create interfaces for use as constraints</li>
<li class=""><a class="" href="/docs/learn/advanced/type-aliases">Advanced Types</a> for more complex type patterns</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_LFcd"><a href="https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/learn/generics/constraints.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_cm6n" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_o2CG"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn/generics/generic-functions-classes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Generic Functions &amp; Classes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn/generics/built-in-generics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Built-in Generics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Odgc thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-constraints" class="table-of-contents__link toc-highlight">Why Constraints?</a><ul><li><a href="#the-problem-unconstrained-generics" class="table-of-contents__link toc-highlight">The Problem: Unconstrained Generics</a></li><li><a href="#the-solution-with-constraints" class="table-of-contents__link toc-highlight">The Solution: With Constraints</a></li></ul></li><li><a href="#basic-constraint-syntax" class="table-of-contents__link toc-highlight">Basic Constraint Syntax</a></li><li><a href="#interface-constraints" class="table-of-contents__link toc-highlight">Interface Constraints</a><ul><li><a href="#defining-an-interface-for-constraints" class="table-of-contents__link toc-highlight">Defining an Interface for Constraints</a></li><li><a href="#common-interface-constraints" class="table-of-contents__link toc-highlight">Common Interface Constraints</a></li></ul></li><li><a href="#class-constraints" class="table-of-contents__link toc-highlight">Class Constraints</a><ul><li><a href="#working-with-class-hierarchies" class="table-of-contents__link toc-highlight">Working with Class Hierarchies</a></li></ul></li><li><a href="#multiple-constraints" class="table-of-contents__link toc-highlight">Multiple Constraints</a></li><li><a href="#union-type-constraints" class="table-of-contents__link toc-highlight">Union Type Constraints</a><ul><li><a href="#practical-union-constraint-example" class="table-of-contents__link toc-highlight">Practical Union Constraint Example</a></li></ul></li><li><a href="#constrained-generic-classes" class="table-of-contents__link toc-highlight">Constrained Generic Classes</a><ul><li><a href="#generic-class-with-multiple-constrained-parameters" class="table-of-contents__link toc-highlight">Generic Class with Multiple Constrained Parameters</a></li></ul></li><li><a href="#constraints-with-default-types" class="table-of-contents__link toc-highlight">Constraints with Default Types</a></li><li><a href="#practical-examples" class="table-of-contents__link toc-highlight">Practical Examples</a><ul><li><a href="#sortable-collection" class="table-of-contents__link toc-highlight">Sortable Collection</a></li><li><a href="#repository-pattern-with-constraints" class="table-of-contents__link toc-highlight">Repository Pattern with Constraints</a></li><li><a href="#builder-pattern-with-constraints" class="table-of-contents__link toc-highlight">Builder Pattern with Constraints</a></li></ul></li><li><a href="#type-inference-with-constraints" class="table-of-contents__link toc-highlight">Type Inference with Constraints</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-use-the-least-restrictive-constraint" class="table-of-contents__link toc-highlight">1. Use the Least Restrictive Constraint</a></li><li><a href="#2-create-small-focused-interfaces-for-constraints" class="table-of-contents__link toc-highlight">2. Create Small, Focused Interfaces for Constraints</a></li><li><a href="#3-document-constraint-requirements" class="table-of-contents__link toc-highlight">3. Document Constraint Requirements</a></li></ul></li><li><a href="#common-constraint-patterns" class="table-of-contents__link toc-highlight">Common Constraint Patterns</a><ul><li><a href="#identity-constraint" class="table-of-contents__link toc-highlight">Identity Constraint</a></li><li><a href="#validation-constraint" class="table-of-contents__link toc-highlight">Validation Constraint</a></li><li><a href="#conversion-constraint" class="table-of-contents__link toc-highlight">Conversion Constraint</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/what-is-t-ruby">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/basics/basic-types">Basic Types</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/playground">Playground</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/cheatsheet">Type Cheatsheet</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cli/commands">CLI Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/type-ruby/t-ruby" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Cy_U"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/project/contributing">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/project/roadmap">Roadmap</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 T-Ruby. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>