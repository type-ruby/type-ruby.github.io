---
slug: v0-0-40-release
title: T-Ruby v0.0.40 ë¦´ë¦¬ìŠ¤
authors: [yhk1038]
tags: [release, parser]
---

T-Ruby v0.0.40ì—ì„œëŠ” ì ‘ê·¼ì œí•œì ì§€ì›ê³¼ heredoc ê°ì§€ ë“± íŒŒì„œê°€ í¬ê²Œ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤. ([PR#22](https://github.com/type-ruby/t-ruby/pull/22))

<!-- truncate -->

## ì ‘ê·¼ì œí•œì ì§€ì›

> ğŸ“– ì°¸ê³ : [í´ë˜ìŠ¤ ì–´ë…¸í…Œì´ì…˜](/docs/learn/classes/class-annotations)

ì´ì œ Rubyì˜ ì ‘ê·¼ì œí•œìë¥¼ ë©”ì„œë“œ ì •ì˜ì™€ í•¨ê»˜ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ruby
private def secret_method(key: String): String
  # ...
end

protected def internal_method(data: Hash): Boolean
  # ...
end
```

T-RubyëŠ” ì´ëŸ¬í•œ íŒ¨í„´ì„ ì˜¬ë°”ë¥´ê²Œ íŒŒì‹±í•˜ê³  íƒ€ì… ì œê±° ì‹œ ì ‘ê·¼ì œí•œì í‚¤ì›Œë“œë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

## Heredoc ê°ì§€

ìƒˆë¡œìš´ `HeredocDetector`ê°€ heredoc ë¬¸ìì—´ ë‚´ë¶€ì—ì„œ ë©”ì„œë“œë¥¼ ì˜ëª» ê°ì§€í•˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤:

```ruby
message = <<~SQL
  def fake_method  # ë©”ì„œë“œë¡œ íŒŒì‹±ë˜ì§€ ì•ŠìŒ
    SELECT * FROM users
  end
SQL
```

ëª¨ë“  heredoc ë³€í˜•ì„ ì§€ì›í•©ë‹ˆë‹¤: `<<DELIM`, `<<-DELIM`, `<<~DELIM`, `<<'DELIM'`, `<<"DELIM"`.

## ë¸”ë¡ ì£¼ì„ ì§€ì›

íŒŒì„œê°€ ì´ì œ `=begin`/`=end` ë¸”ë¡ ì£¼ì„ì„ ì˜¬ë°”ë¥´ê²Œ ê±´ë„ˆëœë‹ˆë‹¤.

## RBS ì ‘ê·¼ì œí•œì ì§€ì›

ìƒì„±ëœ `.rbs` íŒŒì¼ì— ì ‘ê·¼ì œí•œìê°€ í¬í•¨ë©ë‹ˆë‹¤:

```rbs
private def secret_method: (key: String) -> String
```

## ë ˆê±°ì‹œ ì½”ë“œ ì œê±°

ì´ë²ˆ ë¦´ë¦¬ìŠ¤ì—ì„œëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë ˆê±°ì‹œ ì»´íŒŒì¼ëŸ¬ ì½”ë“œê°€ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤:
- `LegacyParser` í´ë˜ìŠ¤ ì œê±°
- `LegacyCompiler` í´ë˜ìŠ¤ ì œê±°
- `TRuby::RBSGenerator` ì œê±° (`IR::RBSGenerator` ì‚¬ìš©)
- `use_ir` ë° `use_combinator` ë§¤ê°œë³€ìˆ˜ ì œê±° (í•­ìƒ IR ì‚¬ìš©)

## ì—…ê·¸ë ˆì´ë“œ

```bash
gem update t-ruby
```
