<!doctype html>
<html lang="ja-JP" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cli/compiler-options" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">コンパイラオプション | T-Ruby</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://type-ruby.github.io/ja/img/t-ruby-social-card.png"><meta data-rh="true" name="twitter:image" content="https://type-ruby.github.io/ja/img/t-ruby-social-card.png"><meta data-rh="true" property="og:url" content="https://type-ruby.github.io/ja/docs/cli/compiler-options"><meta data-rh="true" property="og:locale" content="ja_JP"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ko_KR"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="コンパイラオプション | T-Ruby"><meta data-rh="true" name="description" content="利用可能なすべてのコンパイラオプション"><meta data-rh="true" property="og:description" content="利用可能なすべてのコンパイラオプション"><link data-rh="true" rel="icon" href="/ja/img/logo.svg"><link data-rh="true" rel="canonical" href="https://type-ruby.github.io/ja/docs/cli/compiler-options"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/docs/cli/compiler-options" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/ja/docs/cli/compiler-options" hreflang="ja-JP"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/ko/docs/cli/compiler-options" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://type-ruby.github.io/docs/cli/compiler-options" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"コンパイラオプション","item":"https://type-ruby.github.io/ja/docs/cli/compiler-options"}]}</script><link rel="alternate" type="application/rss+xml" href="/ja/blog/rss.xml" title="T-Ruby RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ja/blog/atom.xml" title="T-Ruby Atom Feed">




<link rel="alternate" type="application/rss+xml" href="/ja/news/rss.xml" title="T-Ruby RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ja/news/atom.xml" title="T-Ruby Atom Feed"><link rel="stylesheet" href="/ja/assets/css/styles.58e058c5.css">
<script src="/ja/assets/js/runtime~main.d8d707a0.js" defer="defer"></script>
<script src="/ja/assets/js/main.bff4c22a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ja/img/logo.svg"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_sMx8" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ja/"><div class="navbar__logo"><img src="/ja/img/logo.svg" alt="T-Ruby Logo" class="themedComponent_S11l themedComponent--light_Ppvn"><img src="/ja/img/logo.svg" alt="T-Ruby Logo" class="themedComponent_S11l themedComponent--dark_rxjX"></div><b class="navbar__title text--truncate">T-Ruby</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ja/docs/introduction/what-is-t-ruby">Docs</a><a class="navbar__item navbar__link" href="/ja/playground">Playground</a><a class="navbar__item navbar__link" href="/ja/blog">Blog</a><a class="navbar__item navbar__link" href="/ja/news">News</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_BlYN"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/docs/cli/compiler-options" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/ja/docs/cli/compiler-options" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja-JP">日本語</a></li><li><a href="/ko/docs/cli/compiler-options" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko-KR">한국어</a></li></ul></div><a href="https://github.com/type-ruby/t-ruby" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_D_J1"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_dLLr colorModeToggle_hA6r"><button class="clean-btn toggleButton_C68K toggleButtonDisabled_wegG" type="button" disabled="" title="システムモード" aria-label="ダークモードを切り替える(現在はシステムモード)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_eNSM lightToggleIcon_A9Uz"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_eNSM darkToggleIcon_JwuD"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_eNSM systemToggleIcon_ttUC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_tUVS"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_VpH6"><div class="docsWrapper_dyGy"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_ldzG" type="button"></button><div class="docRoot_Ytal"><aside class="theme-doc-sidebar-container docSidebarContainer_RV2B"><div class="sidebarViewport_aNEj"><div class="sidebar_ZOvC"><nav aria-label="ドキュメントサイドバー" class="menu thin-scrollbar menu_u5gP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/ja/docs/introduction/what-is-t-ruby"><span title="Introduction" class="categoryLinkLabel_OS8T">Introduction</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/introduction/what-is-t-ruby"><span title="T-Rubyとは？" class="linkLabel_ie_g">T-Rubyとは？</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/introduction/why-t-ruby"><span title="なぜT-Rubyなのか？" class="linkLabel_ie_g">なぜT-Rubyなのか？</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/introduction/t-ruby-vs-others"><span title="T-Ruby vs 他のツール" class="linkLabel_ie_g">T-Ruby vs 他のツール</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/ja/docs/getting-started/installation"><span title="Getting Started" class="categoryLinkLabel_OS8T">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/getting-started/installation"><span title="インストール" class="linkLabel_ie_g">インストール</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/getting-started/quick-start"><span title="クイックスタート" class="linkLabel_ie_g">クイックスタート</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/getting-started/understanding-trb-files"><span title=".trbファイルを理解する" class="linkLabel_ie_g">.trbファイルを理解する</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/getting-started/editor-setup"><span title="エディタ設定" class="linkLabel_ie_g">エディタ設定</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/getting-started/project-configuration"><span title="プロジェクト設定" class="linkLabel_ie_g">プロジェクト設定</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/ja/docs/learn/basics/type-annotations"><span title="Learn" class="categoryLinkLabel_OS8T">Learn</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/basics/type-annotations"><span title="The Basics" class="categoryLinkLabel_OS8T">The Basics</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/everyday-types/primitives"><span title="Everyday Types" class="categoryLinkLabel_OS8T">Everyday Types</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/functions/parameter-return-types"><span title="Functions" class="categoryLinkLabel_OS8T">Functions</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/classes/class-annotations"><span title="Classes &amp; Modules" class="categoryLinkLabel_OS8T">Classes &amp; Modules</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/interfaces/defining-interfaces"><span title="Interfaces" class="categoryLinkLabel_OS8T">Interfaces</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/generics/generic-functions-classes"><span title="Generics" class="categoryLinkLabel_OS8T">Generics</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ja/docs/learn/advanced/type-aliases"><span title="Advanced Types" class="categoryLinkLabel_OS8T">Advanced Types</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/ja/docs/cli/commands"><span title="CLI Reference" class="categoryLinkLabel_OS8T">CLI Reference</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/cli/commands"><span title="コマンド" class="linkLabel_ie_g">コマンド</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/docs/cli/configuration"><span title="設定" class="linkLabel_ie_g">設定</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ja/docs/cli/compiler-options"><span title="コンパイラオプション" class="linkLabel_ie_g">コンパイラオプション</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ja/docs/tooling/rbs-integration"><span title="Tooling" class="categoryLinkLabel_OS8T">Tooling</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ja/docs/reference/cheatsheet"><span title="Reference" class="categoryLinkLabel_OS8T">Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_IU3f menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ja/docs/project/roadmap"><span title="Project" class="categoryLinkLabel_OS8T">Project</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer__f5L"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_qDDO"><div class="docItemContainer_M12z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_P307" aria-label="パンくずリスト"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="ホーム" class="breadcrumbs__link" href="/ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_AnNP"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CLI Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">コンパイラオプション</span></li></ul></nav><div class="tocCollapsible_RhNx theme-doc-toc-mobile tocMobile_WMVP"><button type="button" class="clean-btn tocCollapsibleButton_spcx">このページの内容</button></div><div class="theme-doc-markdown markdown"><div style="display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;background-color:rgba(34, 197, 94, 0.1);color:#16a34a;border:1px solid rgba(34, 197, 94, 0.2);margin-bottom:16px"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-badge-check" aria-hidden="true"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg><span>Examples Verified (<!-- -->100<!-- -->%)</span></div>
<header><h1>コンパイラオプション</h1></header>
<p>T-Rubyのコンパイラは、コンパイル、型チェック、コード生成を制御するための豊富なオプションを提供します。このリファレンスでは、利用可能なすべてのコマンドラインフラグとその効果について説明します。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="概要">概要<a href="#概要" class="hash-link" aria-label="概要への直接リンク" title="概要への直接リンク" translate="no">​</a></h2>
<p>コンパイラオプションは3つの方法で指定できます：</p>
<ol>
<li class=""><strong>コマンドラインフラグ</strong>: <code>trc --strict compile src/</code></li>
<li class=""><strong>設定ファイル</strong>: <code>trbconfig.yml</code>の<code>compiler:</code>セクション</li>
<li class=""><strong>環境変数</strong>: <code>TRC_STRICT=true trc compile src/</code></li>
</ol>
<p>コマンドラインフラグは設定ファイルの設定より優先されます。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="型チェックオプション">型チェックオプション<a href="#型チェックオプション" class="hash-link" aria-label="型チェックオプションへの直接リンク" title="型チェックオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--strict">--strict<a href="#--strict" class="hash-link" aria-label="--strictへの直接リンク" title="--strictへの直接リンク" translate="no">​</a></h3>
<p>厳格な型チェックモードを有効にします。設定の<code>strictness: strict</code>と同等です。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--strict</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>厳格モードでは：</p>
<ul>
<li class="">すべての関数パラメータと戻り型が必須</li>
<li class="">すべてのインスタンス変数に型指定が必須</li>
<li class="">暗黙の<code>any</code>型は不可</li>
<li class="">厳格なnil検査が有効</li>
</ul>
<div class="language-trb codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-trb codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 厳格モードでは完全な型指定が必要</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def process(data: String[]): Hash&lt;String, Integer&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @count: Integer = 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  result: Hash&lt;String, Integer&gt; = {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  result</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--permissive">--permissive<a href="#--permissive" class="hash-link" aria-label="--permissiveへの直接リンク" title="--permissiveへの直接リンク" translate="no">​</a></h3>
<p>寛容な型チェックモードを有効にします。段階的な型付けを許可します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--permissive</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>寛容モードでは：</p>
<ul>
<li class="">型はオプション</li>
<li class="">暗黙の<code>any</code>を許可</li>
<li class="">明示的な型エラーのみをキャッチ</li>
</ul>
<div class="language-ruby codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-ruby codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 寛容モードでは型なしコードを許可</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">@count</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  result</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-implicit-any">--no-implicit-any<a href="#--no-implicit-any" class="hash-link" aria-label="--no-implicit-anyへの直接リンク" title="--no-implicit-anyへの直接リンク" translate="no">​</a></h3>
<p>暗黙の<code>any</code>型を禁止します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-implicit-any src/</span><br></span></code></pre></div></div>
<div class="language-trb codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-trb codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># --no-implicit-any使用時はエラー</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def process(data)  # エラー: 暗黙のany</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 明示的に指定が必要</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def process(data: Any)  # OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--strict-nil">--strict-nil<a href="#--strict-nil" class="hash-link" aria-label="--strict-nilへの直接リンク" title="--strict-nilへの直接リンク" translate="no">​</a></h3>
<p>厳格なnil検査を有効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --strict-nil src/</span><br></span></code></pre></div></div>
<div class="language-trb codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-trb codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># --strict-nil使用時はエラー</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def find_user(id: Integer): User  # エラー: nilを返す可能性あり</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  users.find { |u| u.id == id }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 型にnilを含める必要あり</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def find_user(id: Integer): User | nil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  users.find { |u| u.id == id }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-unused-vars">--no-unused-vars<a href="#--no-unused-vars" class="hash-link" aria-label="--no-unused-varsへの直接リンク" title="--no-unused-varsへの直接リンク" translate="no">​</a></h3>
<p>未使用の変数とパラメータに対して警告します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-unused-vars src/</span><br></span></code></pre></div></div>
<div class="language-trb codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-trb codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># --no-unused-vars使用時は警告</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def calculate(x: Integer, y: Integer): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  x * 2  # 警告: yが未使用</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 意図的に未使用であることを示すにはアンダースコア接頭辞を使用</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def calculate(x: Integer, _y: Integer): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  x * 2  # 警告なし</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-unchecked-indexed-access">--no-unchecked-indexed-access<a href="#--no-unchecked-indexed-access" class="hash-link" aria-label="--no-unchecked-indexed-accessへの直接リンク" title="--no-unchecked-indexed-accessへの直接リンク" translate="no">​</a></h3>
<p>配列/ハッシュアクセス前の検査を要求します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-unchecked-indexed-access src/</span><br></span></code></pre></div></div>
<div class="language-trb codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-trb codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># --no-unchecked-indexed-access使用時はエラー</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">users: User[] = get_users()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user = users[0]  # エラー: nilの可能性あり</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># まず検査が必要</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if users[0]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user = users[0]  # OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--require-return-types">--require-return-types<a href="#--require-return-types" class="hash-link" aria-label="--require-return-typesへの直接リンク" title="--require-return-typesへの直接リンク" translate="no">​</a></h3>
<p>すべての関数に明示的な戻り型を要求します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --require-return-types src/</span><br></span></code></pre></div></div>
<div class="language-trb codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-trb codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># --require-return-types使用時はエラー</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def calculate(x: Integer)  # エラー: 戻り型が不足</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  x * 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 戻り型の指定が必要</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def calculate(x: Integer): Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  x * 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="出力オプション">出力オプション<a href="#出力オプション" class="hash-link" aria-label="出力オプションへの直接リンク" title="出力オプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--output--o">--output, -o<a href="#--output--o" class="hash-link" aria-label="--output, -oへの直接リンク" title="--output, -oへの直接リンク" translate="no">​</a></h3>
<p>コンパイルされたRubyファイルの出力ディレクトリを指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--output</span><span class="token plain"> build/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-o</span><span class="token plain"> build/</span><br></span></code></pre></div></div>
<p>デフォルト: <code>build/</code></p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--rbs-dir">--rbs-dir<a href="#--rbs-dir" class="hash-link" aria-label="--rbs-dirへの直接リンク" title="--rbs-dirへの直接リンク" translate="no">​</a></h3>
<p>RBSシグネチャファイルの出力ディレクトリを指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ --rbs-dir sig/</span><br></span></code></pre></div></div>
<p>デフォルト: <code>sig/</code></p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-rbs">--no-rbs<a href="#--no-rbs" class="hash-link" aria-label="--no-rbsへの直接リンク" title="--no-rbsへの直接リンク" translate="no">​</a></h3>
<p>RBSファイル生成をスキップします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ --no-rbs</span><br></span></code></pre></div></div>
<p>以下の場合に便利：</p>
<ul>
<li class="">Ruby出力のみが必要な場合</li>
<li class="">RBSファイルが別の場所で生成される場合</li>
<li class="">高速なコンパイルが必要な場合</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--rbs-only">--rbs-only<a href="#--rbs-only" class="hash-link" aria-label="--rbs-onlyへの直接リンク" title="--rbs-onlyへの直接リンク" translate="no">​</a></h3>
<p>RBSファイルのみを生成し、Ruby出力をスキップします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ --rbs-only</span><br></span></code></pre></div></div>
<p>以下の場合に便利：</p>
<ul>
<li class="">型シグネチャの更新</li>
<li class="">コンパイルなしの型チェック</li>
<li class="">既存Rubyコードの型生成</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--preserve-structure">--preserve-structure<a href="#--preserve-structure" class="hash-link" aria-label="--preserve-structureへの直接リンク" title="--preserve-structureへの直接リンク" translate="no">​</a></h3>
<p>出力でソースディレクトリ構造を保持します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ --preserve-structure</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-text codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">src/models/user.trb → build/models/user.rb</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-preserve-structure">--no-preserve-structure<a href="#--no-preserve-structure" class="hash-link" aria-label="--no-preserve-structureへの直接リンク" title="--no-preserve-structureへの直接リンク" translate="no">​</a></h3>
<p>出力ディレクトリ構造をフラット化します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ --no-preserve-structure</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-text codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">src/models/user.trb → build/user.rb</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--clean">--clean<a href="#--clean" class="hash-link" aria-label="--cleanへの直接リンク" title="--cleanへの直接リンク" translate="no">​</a></h3>
<p>コンパイル前に出力ディレクトリをクリーンアップします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--clean</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>コンパイル前に<code>output</code>と<code>rbs_dir</code>のすべてのファイルを削除します。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="ターゲットオプション">ターゲットオプション<a href="#ターゲットオプション" class="hash-link" aria-label="ターゲットオプションへの直接リンク" title="ターゲットオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--target-ruby">--target-ruby<a href="#--target-ruby" class="hash-link" aria-label="--target-rubyへの直接リンク" title="--target-rubyへの直接リンク" translate="no">​</a></h3>
<p>生成コードのターゲットRubyバージョンを指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --target-ruby </span><span class="token number">3.2</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>サポート: <code>2.7</code>, <code>3.0</code>, <code>3.1</code>, <code>3.2</code>, <code>3.3</code></p>
<p>影響：</p>
<ul>
<li class="">使用される構文機能</li>
<li class="">標準ライブラリの互換性</li>
<li class="">メソッドの利用可能性</li>
</ul>
<p>例：</p>
<p><strong>パターンマッチング (Ruby 3.0+):</strong></p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># ターゲット3.0+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --target-ruby </span><span class="token number">3.0</span><span class="token plain"> src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ネイティブパターンマッチングを使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> name: n </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  puts n</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># ターゲット2.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --target-ruby </span><span class="token number">2.7</span><span class="token plain"> src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 互換コードにコンパイル</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">when value.is_a?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">:name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  n </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">:name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  puts n</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--experimental">--experimental<a href="#--experimental" class="hash-link" aria-label="--experimentalへの直接リンク" title="--experimentalへの直接リンク" translate="no">​</a></h3>
<p>実験的機能を有効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--experimental</span><span class="token plain"> pattern_matching_types src/</span><br></span></code></pre></div></div>
<p>複数の機能：</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--experimental</span><span class="token plain"> pattern_matching_types </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--experimental</span><span class="token plain"> refinement_types </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<p>利用可能な実験的機能：</p>
<ul>
<li class=""><code>pattern_matching_types</code> - パターンマッチングからの型推論</li>
<li class=""><code>refinement_types</code> - リファインメントベースの型絞り込み</li>
<li class=""><code>variadic_generics</code> - 可変長ジェネリックパラメータ</li>
<li class=""><code>higher_kinded_types</code> - 型パラメータとしての型コンストラクタ</li>
<li class=""><code>dependent_types</code> - 値に依存する型</li>
</ul>
<p><strong>警告:</strong> 実験的機能は変更または削除される可能性があります。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="最適化オプション">最適化オプション<a href="#最適化オプション" class="hash-link" aria-label="最適化オプションへの直接リンク" title="最適化オプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--optimize">--optimize<a href="#--optimize" class="hash-link" aria-label="--optimizeへの直接リンク" title="--optimizeへの直接リンク" translate="no">​</a></h3>
<p>コード最適化を有効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--optimize</span><span class="token plain"> basic src/</span><br></span></code></pre></div></div>
<p>レベル：</p>
<ul>
<li class=""><code>none</code> - 最適化なし（デフォルト）</li>
<li class=""><code>basic</code> - 安全な最適化</li>
<li class=""><code>aggressive</code> - 最大最適化</li>
</ul>
<p><strong>none:</strong></p>
<div class="language-ruby codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-ruby codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># コード構造の変更なし</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token constant" style="color:rgb(189, 147, 249)">CONSTANT</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">42</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">calculate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">CONSTANT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p><strong>basic:</strong></p>
<div class="language-ruby codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-ruby codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 定数のインライン化、デッドコードの削除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">calculate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token number">84</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 定数畳み込み</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p><strong>aggressive:</strong></p>
<div class="language-ruby codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-ruby codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 関数のインライン化、コードの並べ替えの可能性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">calculate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token number">84</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-optimize">--no-optimize<a href="#--no-optimize" class="hash-link" aria-label="--no-optimizeへの直接リンク" title="--no-optimizeへの直接リンク" translate="no">​</a></h3>
<p>すべての最適化を無効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-optimize src/</span><br></span></code></pre></div></div>
<p>出力がソース構造と正確に一致することを保証します。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="ソースオプション">ソースオプション<a href="#ソースオプション" class="hash-link" aria-label="ソースオプションへの直接リンク" title="ソースオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--include">--include<a href="#--include" class="hash-link" aria-label="--includeへの直接リンク" title="--includeへの直接リンク" translate="no">​</a></h3>
<p>追加のソースファイルやディレクトリを含めます。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--include</span><span class="token plain"> lib/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--include</span><span class="token plain"> config/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--exclude">--exclude<a href="#--exclude" class="hash-link" aria-label="--excludeへの直接リンク" title="--excludeへの直接リンク" translate="no">​</a></h3>
<p>コンパイルからファイルやパターンを除外します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--exclude</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;**/*_test.trb&quot;</span><br></span></code></pre></div></div>
<p>複数の除外：</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--exclude</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;**/*_test.trb&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--exclude</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;**/*_spec.trb&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--exclude</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;**/fixtures/**&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--extensions">--extensions<a href="#--extensions" class="hash-link" aria-label="--extensionsへの直接リンク" title="--extensionsへの直接リンク" translate="no">​</a></h3>
<p>処理するファイル拡張子を指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--extensions</span><span class="token plain"> .trb,.truby</span><br></span></code></pre></div></div>
<p>デフォルト: <code>.trb</code></p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="型オプション">型オプション<a href="#型オプション" class="hash-link" aria-label="型オプションへの直接リンク" title="型オプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--type-paths">--type-paths<a href="#--type-paths" class="hash-link" aria-label="--type-pathsへの直接リンク" title="--type-pathsへの直接リンク" translate="no">​</a></h3>
<p>型定義を含むディレクトリを追加します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/ --type-paths types/,vendor/types/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-stdlib">--no-stdlib<a href="#--no-stdlib" class="hash-link" aria-label="--no-stdlibへの直接リンク" title="--no-stdlibへの直接リンク" translate="no">​</a></h3>
<p>標準ライブラリの型定義を含めません。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-stdlib src/</span><br></span></code></pre></div></div>
<p>カスタムstdlib型を提供する場合に便利です。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--external-types">--external-types<a href="#--external-types" class="hash-link" aria-label="--external-typesへの直接リンク" title="--external-typesへの直接リンク" translate="no">​</a></h3>
<p>外部の型定義をインポートします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --external-types rails,rspec src/</span><br></span></code></pre></div></div>
<p>複数のライブラリ：</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --external-types rails </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --external-types activerecord </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --external-types rspec </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="ウォッチオプション">ウォッチオプション<a href="#ウォッチオプション" class="hash-link" aria-label="ウォッチオプションへの直接リンク" title="ウォッチオプションへの直接リンク" translate="no">​</a></h2>
<p>（<code>trc watch</code>コマンド用）</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--debounce">--debounce<a href="#--debounce" class="hash-link" aria-label="--debounceへの直接リンク" title="--debounceへの直接リンク" translate="no">​</a></h3>
<p>デバウンス遅延をミリ秒単位で設定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--debounce</span><span class="token plain"> </span><span class="token number">300</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>デフォルト: 100ms</p>
<p>最後のファイル変更後300ms待機してから再コンパイルします。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--clear">--clear<a href="#--clear" class="hash-link" aria-label="--clearへの直接リンク" title="--clearへの直接リンク" translate="no">​</a></h3>
<p>各再コンパイル時にターミナル画面をクリアします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--clear</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--exec">--exec<a href="#--exec" class="hash-link" aria-label="--execへの直接リンク" title="--execへの直接リンク" translate="no">​</a></h3>
<p>成功したコンパイル後にコマンドを実行します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--exec</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bundle exec rspec&quot;</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--on-success">--on-success<a href="#--on-success" class="hash-link" aria-label="--on-successへの直接リンク" title="--on-successへの直接リンク" translate="no">​</a></h3>
<p><code>--exec</code>のエイリアスです。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> --on-success </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;rake test&quot;</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--on-failure">--on-failure<a href="#--on-failure" class="hash-link" aria-label="--on-failureへの直接リンク" title="--on-failureへの直接リンク" translate="no">​</a></h3>
<p>失敗したコンパイル後にコマンドを実行します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> --on-failure </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;notify-send &#x27;Build failed&#x27;&quot;</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--watch-paths">--watch-paths<a href="#--watch-paths" class="hash-link" aria-label="--watch-pathsへの直接リンク" title="--watch-pathsへの直接リンク" translate="no">​</a></h3>
<p>追加のディレクトリを監視します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> src/ --watch-paths config/,types/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--ignore">--ignore<a href="#--ignore" class="hash-link" aria-label="--ignoreへの直接リンク" title="--ignoreへの直接リンク" translate="no">​</a></h3>
<p>ウォッチモードでファイルパターンを無視します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--ignore</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;**/tmp/**&quot;</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--once">--once<a href="#--once" class="hash-link" aria-label="--onceへの直接リンク" title="--onceへの直接リンク" translate="no">​</a></h3>
<p>一度コンパイルして終了します（変更を監視しません）。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--once</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>ウォッチモード設定のテストに便利です。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="チェックオプション">チェックオプション<a href="#チェックオプション" class="hash-link" aria-label="チェックオプションへの直接リンク" title="チェックオプションへの直接リンク" translate="no">​</a></h2>
<p>（<code>trc check</code>コマンド用）</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--format">--format<a href="#--format" class="hash-link" aria-label="--formatへの直接リンク" title="--formatへの直接リンク" translate="no">​</a></h3>
<p>型チェック結果の出力形式を指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc check </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--format</span><span class="token plain"> json src/</span><br></span></code></pre></div></div>
<p>形式：</p>
<ul>
<li class=""><code>text</code> - 人間が読みやすい形式（デフォルト）</li>
<li class=""><code>json</code> - JSON形式</li>
<li class=""><code>junit</code> - JUnit XML形式</li>
</ul>
<p><strong>text:</strong></p>
<div class="language-text codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-text codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Error: src/user.trb:15:10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Type mismatch: expected String, got Integer</span><br></span></code></pre></div></div>
<p><strong>json:</strong></p>
<div class="language-json codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-json codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;files_checked&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;errors&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;file&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;src/user.trb&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;line&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">15</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;column&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;severity&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;error&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Type mismatch: expected String, got Integer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><strong>junit:</strong></p>
<div class="language-xml codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-xml codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">testsuites</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">testsuite</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">T-Ruby Type Check</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">tests</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">10</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">failures</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">testcase</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">src/user.trb</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">failure</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">message</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">Type mismatch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">...</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">failure</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">testcase</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">testsuite</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">testsuites</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--output-file">--output-file<a href="#--output-file" class="hash-link" aria-label="--output-fileへの直接リンク" title="--output-fileへの直接リンク" translate="no">​</a></h3>
<p>チェック結果をファイルに書き込みます。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc check </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--format</span><span class="token plain"> json --output-file results.json src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--max-errors">--max-errors<a href="#--max-errors" class="hash-link" aria-label="--max-errorsへの直接リンク" title="--max-errorsへの直接リンク" translate="no">​</a></h3>
<p>表示するエラー数を制限します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc check --max-errors </span><span class="token number">10</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>デフォルト: 50</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-error-limit">--no-error-limit<a href="#--no-error-limit" class="hash-link" aria-label="--no-error-limitへの直接リンク" title="--no-error-limitへの直接リンク" translate="no">​</a></h3>
<p>すべてのエラーを表示します（制限なし）。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc check --no-error-limit src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--warnings">--warnings<a href="#--warnings" class="hash-link" aria-label="--warningsへの直接リンク" title="--warningsへの直接リンク" translate="no">​</a></h3>
<p>エラーに加えて警告も表示します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc check </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--warnings</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="初期化オプション">初期化オプション<a href="#初期化オプション" class="hash-link" aria-label="初期化オプションへの直接リンク" title="初期化オプションへの直接リンク" translate="no">​</a></h2>
<p>（<code>trc --init</code>コマンド用）</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--template">--template<a href="#--template" class="hash-link" aria-label="--templateへの直接リンク" title="--templateへの直接リンク" translate="no">​</a></h3>
<p>プロジェクトテンプレートを使用します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--template</span><span class="token plain"> rails</span><br></span></code></pre></div></div>
<p>テンプレート：</p>
<ul>
<li class=""><code>basic</code> - 基本プロジェクト（デフォルト）</li>
<li class=""><code>rails</code> - Railsアプリケーション</li>
<li class=""><code>gem</code> - Ruby gem</li>
<li class=""><code>sinatra</code> - Sinatraアプリケーション</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--interactive">--interactive<a href="#--interactive" class="hash-link" aria-label="--interactiveへの直接リンク" title="--interactiveへの直接リンク" translate="no">​</a></h3>
<p>対話型プロジェクトセットアップ。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--interactive</span><br></span></code></pre></div></div>
<p>すべての設定オプションをプロンプトします。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--yes--y">--yes, -y<a href="#--yes--y" class="hash-link" aria-label="--yes, -yへの直接リンク" title="--yes, -yへの直接リンク" translate="no">​</a></h3>
<p>プロンプトなしですべてのデフォルトを受け入れます。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--yes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-y</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--name">--name<a href="#--name" class="hash-link" aria-label="--nameへの直接リンク" title="--nameへの直接リンク" translate="no">​</a></h3>
<p>プロジェクト名を設定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--name</span><span class="token plain"> my-awesome-project</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--create-dirs">--create-dirs<a href="#--create-dirs" class="hash-link" aria-label="--create-dirsへの直接リンク" title="--create-dirsへの直接リンク" translate="no">​</a></h3>
<p>ディレクトリ構造を作成します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> --create-dirs</span><br></span></code></pre></div></div>
<p><code>src/</code>, <code>build/</code>, <code>sig/</code>ディレクトリを作成します。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--git">--git<a href="#--git" class="hash-link" aria-label="--gitへの直接リンク" title="--gitへの直接リンク" translate="no">​</a></h3>
<p>gitリポジトリを初期化します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--init</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--git</span><br></span></code></pre></div></div>
<p><code>.git/</code>と<code>.gitignore</code>を作成します。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="ロギングとデバッグオプション">ロギングとデバッグオプション<a href="#ロギングとデバッグオプション" class="hash-link" aria-label="ロギングとデバッグオプションへの直接リンク" title="ロギングとデバッグオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--verbose--v">--verbose, -v<a href="#--verbose--v" class="hash-link" aria-label="--verbose, -vへの直接リンク" title="--verbose, -vへの直接リンク" translate="no">​</a></h3>
<p>詳細な出力を表示します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--verbose</span><span class="token plain"> src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-v</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>表示内容：</p>
<ul>
<li class="">処理中のファイル</li>
<li class="">型解決の詳細</li>
<li class="">コンパイル手順</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--quiet--q">--quiet, -q<a href="#--quiet--q" class="hash-link" aria-label="--quiet, -qへの直接リンク" title="--quiet, -qへの直接リンク" translate="no">​</a></h3>
<p>エラー以外の出力を抑制します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--quiet</span><span class="token plain"> src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-q</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>エラーのみを表示します。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--log-level">--log-level<a href="#--log-level" class="hash-link" aria-label="--log-levelへの直接リンク" title="--log-levelへの直接リンク" translate="no">​</a></h3>
<p>ロギングレベルを設定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --log-level debug src/</span><br></span></code></pre></div></div>
<p>レベル：</p>
<ul>
<li class=""><code>debug</code> - すべてのメッセージ</li>
<li class=""><code>info</code> - 情報メッセージ（デフォルト）</li>
<li class=""><code>warn</code> - 警告とエラー</li>
<li class=""><code>error</code> - エラーのみ</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--stack-trace">--stack-trace<a href="#--stack-trace" class="hash-link" aria-label="--stack-traceへの直接リンク" title="--stack-traceへの直接リンク" translate="no">​</a></h3>
<p>エラー時にスタックトレースを表示します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --stack-trace src/</span><br></span></code></pre></div></div>
<p>コンパイラの問題のデバッグに便利です。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--profile">--profile<a href="#--profile" class="hash-link" aria-label="--profileへの直接リンク" title="--profileへの直接リンク" translate="no">​</a></h3>
<p>パフォーマンスプロファイリング情報を表示します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--profile</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>出力：</p>
<div class="language-text codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-text codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Compilation completed in 2.4s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Phase breakdown:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Parse:        0.8s (33%)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Type check:   1.2s (50%)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Code gen:     0.3s (12%)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Write files:  0.1s (5%)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="設定オプション">設定オプション<a href="#設定オプション" class="hash-link" aria-label="設定オプションへの直接リンク" title="設定オプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--config--c">--config, -c<a href="#--config--c" class="hash-link" aria-label="--config, -cへの直接リンク" title="--config, -cへの直接リンク" translate="no">​</a></h3>
<p>特定の設定ファイルを使用します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--config</span><span class="token plain"> trc.production.yaml src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-c</span><span class="token plain"> trc.production.yaml src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-config">--no-config<a href="#--no-config" class="hash-link" aria-label="--no-configへの直接リンク" title="--no-configへの直接リンク" translate="no">​</a></h3>
<p>設定ファイルを無視します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-config src/</span><br></span></code></pre></div></div>
<p>コマンドラインオプションとデフォルトのみを使用します。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--print-config">--print-config<a href="#--print-config" class="hash-link" aria-label="--print-configへの直接リンク" title="--print-configへの直接リンク" translate="no">​</a></h3>
<p>有効な設定を出力して終了します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --print-config src/</span><br></span></code></pre></div></div>
<p>ファイル、環境、コマンドラインからマージされた設定を表示します。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="出力制御オプション">出力制御オプション<a href="#出力制御オプション" class="hash-link" aria-label="出力制御オプションへの直接リンク" title="出力制御オプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--color">--color<a href="#--color" class="hash-link" aria-label="--colorへの直接リンク" title="--colorへの直接リンク" translate="no">​</a></h3>
<p>カラー出力を強制します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--color</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-color">--no-color<a href="#--no-color" class="hash-link" aria-label="--no-colorへの直接リンク" title="--no-colorへの直接リンク" translate="no">​</a></h3>
<p>カラー出力を無効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-color src/</span><br></span></code></pre></div></div>
<p>以下の場合に便利：</p>
<ul>
<li class="">CI/CD環境</li>
<li class="">ログファイル出力</li>
<li class="">非ターミナル出力</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--progress">--progress<a href="#--progress" class="hash-link" aria-label="--progressへの直接リンク" title="--progressへの直接リンク" translate="no">​</a></h3>
<p>コンパイル中にプログレスバーを表示します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--progress</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-text codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Compiling: [████████████████░░░░] 80% (40/50 files)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-progress">--no-progress<a href="#--no-progress" class="hash-link" aria-label="--no-progressへの直接リンク" title="--no-progressへの直接リンク" translate="no">​</a></h3>
<p>プログレスバーを無効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-progress src/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="並列コンパイルオプション">並列コンパイルオプション<a href="#並列コンパイルオプション" class="hash-link" aria-label="並列コンパイルオプションへの直接リンク" title="並列コンパイルオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--parallel">--parallel<a href="#--parallel" class="hash-link" aria-label="--parallelへの直接リンク" title="--parallelへの直接リンク" translate="no">​</a></h3>
<p>並列コンパイルを有効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--parallel</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>複数のファイルを同時にコンパイルします。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--jobs--j">--jobs, -j<a href="#--jobs--j" class="hash-link" aria-label="--jobs, -jへの直接リンク" title="--jobs, -jへの直接リンク" translate="no">​</a></h3>
<p>並列ジョブ数を指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--parallel</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--jobs</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--parallel</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-j</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>デフォルト: CPUコア数</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-parallel">--no-parallel<a href="#--no-parallel" class="hash-link" aria-label="--no-parallelへの直接リンク" title="--no-parallelへの直接リンク" translate="no">​</a></h3>
<p>並列コンパイルを無効にします（シリアルコンパイル）。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-parallel src/</span><br></span></code></pre></div></div>
<p>以下の場合に便利：</p>
<ul>
<li class="">デバッグ</li>
<li class="">メモリ制約環境</li>
<li class="">再現可能な出力順序</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="キャッシングオプション">キャッシングオプション<a href="#キャッシングオプション" class="hash-link" aria-label="キャッシングオプションへの直接リンク" title="キャッシングオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--cache">--cache<a href="#--cache" class="hash-link" aria-label="--cacheへの直接リンク" title="--cacheへの直接リンク" translate="no">​</a></h3>
<p>コンパイルキャッシュを有効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--cache</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>型情報とパースされたASTをキャッシュして、後続のコンパイルを高速化します。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--no-cache">--no-cache<a href="#--no-cache" class="hash-link" aria-label="--no-cacheへの直接リンク" title="--no-cacheへの直接リンク" translate="no">​</a></h3>
<p>コンパイルキャッシュを無効にします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --no-cache src/</span><br></span></code></pre></div></div>
<p>完全な再コンパイルを強制します。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--cache-dir">--cache-dir<a href="#--cache-dir" class="hash-link" aria-label="--cache-dirへの直接リンク" title="--cache-dirへの直接リンク" translate="no">​</a></h3>
<p>キャッシュディレクトリを指定します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--cache</span><span class="token plain"> --cache-dir .trc-cache/ src/</span><br></span></code></pre></div></div>
<p>デフォルト: <code>.trc-cache/</code></p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--clear-cache">--clear-cache<a href="#--clear-cache" class="hash-link" aria-label="--clear-cacheへの直接リンク" title="--clear-cacheへの直接リンク" translate="no">​</a></h3>
<p>実行前にコンパイルキャッシュをクリアします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --clear-cache src/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="高度なオプション">高度なオプション<a href="#高度なオプション" class="hash-link" aria-label="高度なオプションへの直接リンク" title="高度なオプションへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--ast">--ast<a href="#--ast" class="hash-link" aria-label="--astへの直接リンク" title="--astへの直接リンク" translate="no">​</a></h3>
<p>Rubyコードの代わりに抽象構文木を出力します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--ast</span><span class="token plain"> src/user.trb</span><br></span></code></pre></div></div>
<p>以下の場合に便利：</p>
<ul>
<li class="">パーサーの問題のデバッグ</li>
<li class="">コード構造の理解</li>
<li class="">ツールの構築</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--tokens">--tokens<a href="#--tokens" class="hash-link" aria-label="--tokensへの直接リンク" title="--tokensへの直接リンク" translate="no">​</a></h3>
<p>レキサーからのトークンストリームを出力します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--tokens</span><span class="token plain"> src/user.trb</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--trace">--trace<a href="#--trace" class="hash-link" aria-label="--traceへの直接リンク" title="--traceへの直接リンク" translate="no">​</a></h3>
<p>型チェックプロセスをトレースします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--trace</span><span class="token plain"> src/</span><br></span></code></pre></div></div>
<p>詳細な型推論とチェックの手順を表示します。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--dump-types">--dump-types<a href="#--dump-types" class="hash-link" aria-label="--dump-typesへの直接リンク" title="--dump-typesへの直接リンク" translate="no">​</a></h3>
<p>推論された型をファイルにダンプします。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --dump-types types.json src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--allow-errors">--allow-errors<a href="#--allow-errors" class="hash-link" aria-label="--allow-errorsへの直接リンク" title="--allow-errorsへの直接リンク" translate="no">​</a></h3>
<p>型エラーがあってもコンパイルを続行します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --allow-errors src/</span><br></span></code></pre></div></div>
<p>型エラーにもかかわらずRuby出力を生成します。以下の場合に便利：</p>
<ul>
<li class="">生成されたコードのデバッグ</li>
<li class="">段階的な移行</li>
<li class="">テスト</li>
</ul>
<p><strong>警告:</strong> 生成されたコードにランタイムエラーがある可能性があります。</p>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="--source-maps">--source-maps<a href="#--source-maps" class="hash-link" aria-label="--source-mapsへの直接リンク" title="--source-mapsへの直接リンク" translate="no">​</a></h3>
<p>デバッグ用のソースマップを生成します。</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile --source-maps src/</span><br></span></code></pre></div></div>
<p>RubyコードをT-Rubyソースにマッピングする<code>.rb.map</code>ファイルを作成します。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="組み合わせ例">組み合わせ例<a href="#組み合わせ例" class="hash-link" aria-label="組み合わせ例への直接リンク" title="組み合わせ例への直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="厳格なプロダクションビルド">厳格なプロダクションビルド<a href="#厳格なプロダクションビルド" class="hash-link" aria-label="厳格なプロダクションビルドへの直接リンク" title="厳格なプロダクションビルドへの直接リンク" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--strict</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --no-implicit-any </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --strict-nil </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--optimize</span><span class="token plain"> aggressive </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--clean</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --target-ruby </span><span class="token number">3.2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="ウォッチモードで開発">ウォッチモードで開発<a href="#ウォッチモードで開発" class="hash-link" aria-label="ウォッチモードで開発への直接リンク" title="ウォッチモードで開発への直接リンク" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc </span><span class="token function" style="color:rgb(80, 250, 123)">watch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--permissive</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--clear</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--debounce</span><span class="token plain"> </span><span class="token number">200</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--exec</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bundle exec rspec&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="cicd型チェック">CI/CD型チェック<a href="#cicd型チェック" class="hash-link" aria-label="CI/CD型チェックへの直接リンク" title="CI/CD型チェックへの直接リンク" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc check </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--strict</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--format</span><span class="token plain"> junit </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --output-file test-results.xml </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --no-color </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--quiet</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="高速なインクリメンタルビルド">高速なインクリメンタルビルド<a href="#高速なインクリメンタルビルド" class="hash-link" aria-label="高速なインクリメンタルビルドへの直接リンク" title="高速なインクリメンタルビルドへの直接リンク" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--cache</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--parallel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--jobs</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --no-rbs </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="コンパイルの問題をデバッグ">コンパイルの問題をデバッグ<a href="#コンパイルの問題をデバッグ" class="hash-link" aria-label="コンパイルの問題をデバッグへの直接リンク" title="コンパイルの問題をデバッグへの直接リンク" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--verbose</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --stack-trace </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--profile</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --log-level debug </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --no-parallel </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  src/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="環境変数">環境変数<a href="#環境変数" class="hash-link" aria-label="環境変数への直接リンク" title="環境変数への直接リンク" translate="no">​</a></h2>
<p>多くのオプションは環境変数で設定できます：</p>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_STRICT</span><span class="token operator">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_TARGET_RUBY</span><span class="token operator">=</span><span class="token number">3.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_OUTPUT_DIR</span><span class="token operator">=</span><span class="token plain">build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_CACHE</span><span class="token operator">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_PARALLEL</span><span class="token operator">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_JOBS</span><span class="token operator">=</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile src/</span><br></span></code></pre></div></div>
<p>変数は設定ファイルを上書きしますが、コマンドラインフラグで上書きできます。</p>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="オプションの優先順位">オプションの優先順位<a href="#オプションの優先順位" class="hash-link" aria-label="オプションの優先順位への直接リンク" title="オプションの優先順位への直接リンク" translate="no">​</a></h2>
<p>オプションは以下の順序で解決されます（後のものが前のものを上書き）：</p>
<ol>
<li class="">デフォルト値</li>
<li class="">設定ファイル（<code>trbconfig.yml</code>）</li>
<li class="">環境変数</li>
<li class="">コマンドラインフラグ</li>
</ol>
<p>例：</p>
<div class="language-yaml codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-yaml codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># trbconfig.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">compiler</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">strictness</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> standard</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Qeel theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_nxYV"><pre tabindex="0" class="prism-code language-bash codeBlock_PnSJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_N2Kg"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 環境変数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TRC_STRICTNESS</span><span class="token operator">=</span><span class="token plain">permissive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># コマンドラインフラグが優先</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc compile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--strict</span><span class="token plain"> src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 有効値: strictness = strict</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="オプショングループリファレンス">オプショングループリファレンス<a href="#オプショングループリファレンス" class="hash-link" aria-label="オプショングループリファレンスへの直接リンク" title="オプショングループリファレンスへの直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="型チェック">型チェック<a href="#型チェック" class="hash-link" aria-label="型チェックへの直接リンク" title="型チェックへの直接リンク" translate="no">​</a></h3>
<ul>
<li class=""><code>--strict</code>, <code>--permissive</code></li>
<li class=""><code>--no-implicit-any</code></li>
<li class=""><code>--strict-nil</code></li>
<li class=""><code>--no-unused-vars</code></li>
<li class=""><code>--no-unchecked-indexed-access</code></li>
<li class=""><code>--require-return-types</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="出力制御">出力制御<a href="#出力制御" class="hash-link" aria-label="出力制御への直接リンク" title="出力制御への直接リンク" translate="no">​</a></h3>
<ul>
<li class=""><code>--output</code>, <code>-o</code></li>
<li class=""><code>--rbs-dir</code></li>
<li class=""><code>--no-rbs</code>, <code>--rbs-only</code></li>
<li class=""><code>--preserve-structure</code></li>
<li class=""><code>--clean</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="ターゲットと最適化">ターゲットと最適化<a href="#ターゲットと最適化" class="hash-link" aria-label="ターゲットと最適化への直接リンク" title="ターゲットと最適化への直接リンク" translate="no">​</a></h3>
<ul>
<li class=""><code>--target-ruby</code></li>
<li class=""><code>--optimize</code></li>
<li class=""><code>--experimental</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="ロギング">ロギング<a href="#ロギング" class="hash-link" aria-label="ロギングへの直接リンク" title="ロギングへの直接リンク" translate="no">​</a></h3>
<ul>
<li class=""><code>--verbose</code>, <code>-v</code></li>
<li class=""><code>--quiet</code>, <code>-q</code></li>
<li class=""><code>--log-level</code></li>
<li class=""><code>--stack-trace</code></li>
<li class=""><code>--profile</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="パフォーマンス">パフォーマンス<a href="#パフォーマンス" class="hash-link" aria-label="パフォーマンスへの直接リンク" title="パフォーマンスへの直接リンク" translate="no">​</a></h3>
<ul>
<li class=""><code>--parallel</code>, <code>--jobs</code></li>
<li class=""><code>--cache</code>, <code>--cache-dir</code></li>
<li class=""><code>--no-parallel</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_qQJf" id="高度">高度<a href="#高度" class="hash-link" aria-label="高度への直接リンク" title="高度への直接リンク" translate="no">​</a></h3>
<ul>
<li class=""><code>--ast</code>, <code>--tokens</code></li>
<li class=""><code>--trace</code></li>
<li class=""><code>--dump-types</code></li>
<li class=""><code>--allow-errors</code></li>
<li class=""><code>--source-maps</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_qQJf" id="次のステップ">次のステップ<a href="#次のステップ" class="hash-link" aria-label="次のステップへの直接リンク" title="次のステップへの直接リンク" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/ja/docs/cli/commands">コマンドリファレンス</a> - すべてのCLIコマンドを学ぶ</li>
<li class=""><a class="" href="/ja/docs/cli/configuration">設定ファイル</a> - <code>trbconfig.yml</code>で設定する</li>
<li class=""><a class="" href="/ja/docs/learn/basics/type-annotations">型アノテーション</a> - 型付きコードを書き始める</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_wcAg"><a href="https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/cli/compiler-options.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_hg23" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_oJja"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="ドキュメントページナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/ja/docs/cli/configuration"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">設定</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ja/docs/tooling/rbs-integration"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">RBS統合</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_MRsg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概要" class="table-of-contents__link toc-highlight">概要</a></li><li><a href="#型チェックオプション" class="table-of-contents__link toc-highlight">型チェックオプション</a><ul><li><a href="#--strict" class="table-of-contents__link toc-highlight">--strict</a></li><li><a href="#--permissive" class="table-of-contents__link toc-highlight">--permissive</a></li><li><a href="#--no-implicit-any" class="table-of-contents__link toc-highlight">--no-implicit-any</a></li><li><a href="#--strict-nil" class="table-of-contents__link toc-highlight">--strict-nil</a></li><li><a href="#--no-unused-vars" class="table-of-contents__link toc-highlight">--no-unused-vars</a></li><li><a href="#--no-unchecked-indexed-access" class="table-of-contents__link toc-highlight">--no-unchecked-indexed-access</a></li><li><a href="#--require-return-types" class="table-of-contents__link toc-highlight">--require-return-types</a></li></ul></li><li><a href="#出力オプション" class="table-of-contents__link toc-highlight">出力オプション</a><ul><li><a href="#--output--o" class="table-of-contents__link toc-highlight">--output, -o</a></li><li><a href="#--rbs-dir" class="table-of-contents__link toc-highlight">--rbs-dir</a></li><li><a href="#--no-rbs" class="table-of-contents__link toc-highlight">--no-rbs</a></li><li><a href="#--rbs-only" class="table-of-contents__link toc-highlight">--rbs-only</a></li><li><a href="#--preserve-structure" class="table-of-contents__link toc-highlight">--preserve-structure</a></li><li><a href="#--no-preserve-structure" class="table-of-contents__link toc-highlight">--no-preserve-structure</a></li><li><a href="#--clean" class="table-of-contents__link toc-highlight">--clean</a></li></ul></li><li><a href="#ターゲットオプション" class="table-of-contents__link toc-highlight">ターゲットオプション</a><ul><li><a href="#--target-ruby" class="table-of-contents__link toc-highlight">--target-ruby</a></li><li><a href="#--experimental" class="table-of-contents__link toc-highlight">--experimental</a></li></ul></li><li><a href="#最適化オプション" class="table-of-contents__link toc-highlight">最適化オプション</a><ul><li><a href="#--optimize" class="table-of-contents__link toc-highlight">--optimize</a></li><li><a href="#--no-optimize" class="table-of-contents__link toc-highlight">--no-optimize</a></li></ul></li><li><a href="#ソースオプション" class="table-of-contents__link toc-highlight">ソースオプション</a><ul><li><a href="#--include" class="table-of-contents__link toc-highlight">--include</a></li><li><a href="#--exclude" class="table-of-contents__link toc-highlight">--exclude</a></li><li><a href="#--extensions" class="table-of-contents__link toc-highlight">--extensions</a></li></ul></li><li><a href="#型オプション" class="table-of-contents__link toc-highlight">型オプション</a><ul><li><a href="#--type-paths" class="table-of-contents__link toc-highlight">--type-paths</a></li><li><a href="#--no-stdlib" class="table-of-contents__link toc-highlight">--no-stdlib</a></li><li><a href="#--external-types" class="table-of-contents__link toc-highlight">--external-types</a></li></ul></li><li><a href="#ウォッチオプション" class="table-of-contents__link toc-highlight">ウォッチオプション</a><ul><li><a href="#--debounce" class="table-of-contents__link toc-highlight">--debounce</a></li><li><a href="#--clear" class="table-of-contents__link toc-highlight">--clear</a></li><li><a href="#--exec" class="table-of-contents__link toc-highlight">--exec</a></li><li><a href="#--on-success" class="table-of-contents__link toc-highlight">--on-success</a></li><li><a href="#--on-failure" class="table-of-contents__link toc-highlight">--on-failure</a></li><li><a href="#--watch-paths" class="table-of-contents__link toc-highlight">--watch-paths</a></li><li><a href="#--ignore" class="table-of-contents__link toc-highlight">--ignore</a></li><li><a href="#--once" class="table-of-contents__link toc-highlight">--once</a></li></ul></li><li><a href="#チェックオプション" class="table-of-contents__link toc-highlight">チェックオプション</a><ul><li><a href="#--format" class="table-of-contents__link toc-highlight">--format</a></li><li><a href="#--output-file" class="table-of-contents__link toc-highlight">--output-file</a></li><li><a href="#--max-errors" class="table-of-contents__link toc-highlight">--max-errors</a></li><li><a href="#--no-error-limit" class="table-of-contents__link toc-highlight">--no-error-limit</a></li><li><a href="#--warnings" class="table-of-contents__link toc-highlight">--warnings</a></li></ul></li><li><a href="#初期化オプション" class="table-of-contents__link toc-highlight">初期化オプション</a><ul><li><a href="#--template" class="table-of-contents__link toc-highlight">--template</a></li><li><a href="#--interactive" class="table-of-contents__link toc-highlight">--interactive</a></li><li><a href="#--yes--y" class="table-of-contents__link toc-highlight">--yes, -y</a></li><li><a href="#--name" class="table-of-contents__link toc-highlight">--name</a></li><li><a href="#--create-dirs" class="table-of-contents__link toc-highlight">--create-dirs</a></li><li><a href="#--git" class="table-of-contents__link toc-highlight">--git</a></li></ul></li><li><a href="#ロギングとデバッグオプション" class="table-of-contents__link toc-highlight">ロギングとデバッグオプション</a><ul><li><a href="#--verbose--v" class="table-of-contents__link toc-highlight">--verbose, -v</a></li><li><a href="#--quiet--q" class="table-of-contents__link toc-highlight">--quiet, -q</a></li><li><a href="#--log-level" class="table-of-contents__link toc-highlight">--log-level</a></li><li><a href="#--stack-trace" class="table-of-contents__link toc-highlight">--stack-trace</a></li><li><a href="#--profile" class="table-of-contents__link toc-highlight">--profile</a></li></ul></li><li><a href="#設定オプション" class="table-of-contents__link toc-highlight">設定オプション</a><ul><li><a href="#--config--c" class="table-of-contents__link toc-highlight">--config, -c</a></li><li><a href="#--no-config" class="table-of-contents__link toc-highlight">--no-config</a></li><li><a href="#--print-config" class="table-of-contents__link toc-highlight">--print-config</a></li></ul></li><li><a href="#出力制御オプション" class="table-of-contents__link toc-highlight">出力制御オプション</a><ul><li><a href="#--color" class="table-of-contents__link toc-highlight">--color</a></li><li><a href="#--no-color" class="table-of-contents__link toc-highlight">--no-color</a></li><li><a href="#--progress" class="table-of-contents__link toc-highlight">--progress</a></li><li><a href="#--no-progress" class="table-of-contents__link toc-highlight">--no-progress</a></li></ul></li><li><a href="#並列コンパイルオプション" class="table-of-contents__link toc-highlight">並列コンパイルオプション</a><ul><li><a href="#--parallel" class="table-of-contents__link toc-highlight">--parallel</a></li><li><a href="#--jobs--j" class="table-of-contents__link toc-highlight">--jobs, -j</a></li><li><a href="#--no-parallel" class="table-of-contents__link toc-highlight">--no-parallel</a></li></ul></li><li><a href="#キャッシングオプション" class="table-of-contents__link toc-highlight">キャッシングオプション</a><ul><li><a href="#--cache" class="table-of-contents__link toc-highlight">--cache</a></li><li><a href="#--no-cache" class="table-of-contents__link toc-highlight">--no-cache</a></li><li><a href="#--cache-dir" class="table-of-contents__link toc-highlight">--cache-dir</a></li><li><a href="#--clear-cache" class="table-of-contents__link toc-highlight">--clear-cache</a></li></ul></li><li><a href="#高度なオプション" class="table-of-contents__link toc-highlight">高度なオプション</a><ul><li><a href="#--ast" class="table-of-contents__link toc-highlight">--ast</a></li><li><a href="#--tokens" class="table-of-contents__link toc-highlight">--tokens</a></li><li><a href="#--trace" class="table-of-contents__link toc-highlight">--trace</a></li><li><a href="#--dump-types" class="table-of-contents__link toc-highlight">--dump-types</a></li><li><a href="#--allow-errors" class="table-of-contents__link toc-highlight">--allow-errors</a></li><li><a href="#--source-maps" class="table-of-contents__link toc-highlight">--source-maps</a></li></ul></li><li><a href="#組み合わせ例" class="table-of-contents__link toc-highlight">組み合わせ例</a><ul><li><a href="#厳格なプロダクションビルド" class="table-of-contents__link toc-highlight">厳格なプロダクションビルド</a></li><li><a href="#ウォッチモードで開発" class="table-of-contents__link toc-highlight">ウォッチモードで開発</a></li><li><a href="#cicd型チェック" class="table-of-contents__link toc-highlight">CI/CD型チェック</a></li><li><a href="#高速なインクリメンタルビルド" class="table-of-contents__link toc-highlight">高速なインクリメンタルビルド</a></li><li><a href="#コンパイルの問題をデバッグ" class="table-of-contents__link toc-highlight">コンパイルの問題をデバッグ</a></li></ul></li><li><a href="#環境変数" class="table-of-contents__link toc-highlight">環境変数</a></li><li><a href="#オプションの優先順位" class="table-of-contents__link toc-highlight">オプションの優先順位</a></li><li><a href="#オプショングループリファレンス" class="table-of-contents__link toc-highlight">オプショングループリファレンス</a><ul><li><a href="#型チェック" class="table-of-contents__link toc-highlight">型チェック</a></li><li><a href="#出力制御" class="table-of-contents__link toc-highlight">出力制御</a></li><li><a href="#ターゲットと最適化" class="table-of-contents__link toc-highlight">ターゲットと最適化</a></li><li><a href="#ロギング" class="table-of-contents__link toc-highlight">ロギング</a></li><li><a href="#パフォーマンス" class="table-of-contents__link toc-highlight">パフォーマンス</a></li><li><a href="#高度" class="table-of-contents__link toc-highlight">高度</a></li></ul></li><li><a href="#次のステップ" class="table-of-contents__link toc-highlight">次のステップ</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ja/docs/introduction/what-is-t-ruby">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/docs/getting-started/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/docs/learn/basics/basic-types">Basic Types</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ja/playground">Playground</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/news">News</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/docs/reference/cheatsheet">Type Cheatsheet</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/docs/cli/commands">CLI Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/type-ruby/t-ruby" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_D_J1"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/ja/docs/project/contributing">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/ja/docs/project/roadmap">Roadmap</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 <a href="https://github.com/yhk1038" target="_blank" rel="noopener noreferrer">Fred</a> & <a href="https://github.com/type-ruby" target="_blank" rel="noopener noreferrer">T-Ruby</a>. Built with <a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>