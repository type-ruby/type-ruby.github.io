<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://type-ruby.github.io/ja/news</id>
    <title>T-Ruby Blog</title>
    <updated>2025-12-29T02:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://type-ruby.github.io/ja/news"/>
    <subtitle>T-Ruby Blog</subtitle>
    <icon>https://type-ruby.github.io/ja/img/logo.svg</icon>
    <rights>Copyright 2026 T-Ruby.</rights>
    <entry>
        <title type="html"><![CDATA[T-Ruby v0.0.42 リリース]]></title>
        <id>https://type-ruby.github.io/ja/news/v0-0-42-release</id>
        <link href="https://type-ruby.github.io/ja/news/v0-0-42-release"/>
        <updated>2025-12-29T02:00:00.000Z</updated>
        <summary type="html"><![CDATA[T-Ruby v0.0.42 は、クリスマスにリリースされた Ruby 4.0 を完全サポートします。(PR#28)]]></summary>
        <content type="html"><![CDATA[<p>T-Ruby v0.0.42 は、クリスマスにリリースされた Ruby 4.0 を完全サポートします。(<a href="https://github.com/type-ruby/t-ruby/pull/28" target="_blank" rel="noopener noreferrer" class="">PR#28</a>)</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="ruby-40-サポート">Ruby 4.0 サポート<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#ruby-40-%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" class="hash-link" aria-label="Ruby 4.0 サポートへの直接リンク" title="Ruby 4.0 サポートへの直接リンク" translate="no">​</a></h2>
<blockquote>
<p>📖 参照: <a class="" href="https://type-ruby.github.io/ja/docs/cli/commands">CLI リファレンス</a></p>
</blockquote>
<p>2025年クリスマスにリリースされた Ruby 4.0 を完全サポートします：</p>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="rubyversion-値オブジェクト">RubyVersion 値オブジェクト<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#rubyversion-%E5%80%A4%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88" class="hash-link" aria-label="RubyVersion 値オブジェクトへの直接リンク" title="RubyVersion 値オブジェクトへの直接リンク" translate="no">​</a></h3>
<p>新しい <code>RubyVersion</code> クラスがバージョンの解析、比較、機能検出を処理します：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">version </span><span class="token operator">=</span><span class="token plain"> TRuby</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token class-name">RubyVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"3.2.0"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">major  </span><span class="token comment" style="color:rgb(98, 114, 164)"># =&gt; 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">minor  </span><span class="token comment" style="color:rgb(98, 114, 164)"># =&gt; 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">version </span><span class="token operator">&gt;=</span><span class="token plain"> TRuby</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token class-name">RubyVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"3.0"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># =&gt; true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="バージョン固有のコード生成">バージョン固有のコード生成<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E5%9B%BA%E6%9C%89%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E7%94%9F%E6%88%90" class="hash-link" aria-label="バージョン固有のコード生成への直接リンク" title="バージョン固有のコード生成への直接リンク" translate="no">​</a></h3>
<p>新しい <code>CodeEmitter</code> ストラテジーパターンが、異なる Ruby バージョンに適したコードを生成します：</p>
<ul>
<li class="">環境からターゲット Ruby バージョンを自動検出</li>
<li class="">Ruby 3.0 から 4.0 までのバージョン固有の変換</li>
<li class="">3.0-4.x 範囲外のバージョンに対する <code>UnsupportedRubyVersionError</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="ブロックパラメータの型削除">ブロックパラメータの型削除<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E5%9E%8B%E5%89%8A%E9%99%A4" class="hash-link" aria-label="ブロックパラメータの型削除への直接リンク" title="ブロックパラメータの型削除への直接リンク" translate="no">​</a></h3>
<p>ブロックパラメータから型アノテーションが削除されます。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="ci-の改善">CI の改善<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#ci-%E3%81%AE%E6%94%B9%E5%96%84" class="hash-link" aria-label="CI の改善への直接リンク" title="CI の改善への直接リンク" translate="no">​</a></h2>
<ul>
<li class="">将来の互換性テストのため CI マトリックスに <code>ruby-head</code> を追加</li>
<li class="">ruby-head ビルドで <code>continue-on-error</code> を有効化</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="依存関係の更新">依存関係の更新<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E3%81%AE%E6%9B%B4%E6%96%B0" class="hash-link" aria-label="依存関係の更新への直接リンク" title="依存関係の更新への直接リンク" translate="no">​</a></h2>
<ul>
<li class=""><code>benchmark</code> gem を明示的な依存関係として追加（deprecation 警告を解決）</li>
<li class="">Ruby 4.0 の ffi 互換性のため <code>listen</code> gem をオプショナルに変更</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="アップグレード">アップグレード<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89" class="hash-link" aria-label="アップグレードへの直接リンク" title="アップグレードへの直接リンク" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-bash codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gem update t-ruby</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="今後の展望">今後の展望<a href="https://type-ruby.github.io/ja/news/v0-0-42-release#%E4%BB%8A%E5%BE%8C%E3%81%AE%E5%B1%95%E6%9C%9B" class="hash-link" aria-label="今後の展望への直接リンク" title="今後の展望への直接リンク" translate="no">​</a></h2>
<p>Ruby 4.0 が正式にリリースされた今、T-Ruby は Ruby 3.0+ との下位互換性を維持しながら、最新の Ruby バージョンのサポートに引き続き尽力しています。</p>]]></content>
        <author>
            <name>Yonghyun Kim</name>
            <uri>https://github.com/yhk1038</uri>
        </author>
        <category label="release" term="release"/>
        <category label="feature" term="feature"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[T-Ruby v0.0.41 リリース]]></title>
        <id>https://type-ruby.github.io/ja/news/v0-0-41-release</id>
        <link href="https://type-ruby.github.io/ja/news/v0-0-41-release"/>
        <updated>2025-12-29T01:00:00.000Z</updated>
        <summary type="html"><![CDATA[T-Ruby v0.0.41 では、キーワード引数構文が導入され、より表現力のある型アノテーションが可能になりました。(PR#27)]]></summary>
        <content type="html"><![CDATA[<p>T-Ruby v0.0.41 では、キーワード引数構文が導入され、より表現力のある型アノテーションが可能になりました。(<a href="https://github.com/type-ruby/t-ruby/pull/27" target="_blank" rel="noopener noreferrer" class="">PR#27</a>)</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="キーワード引数構文">キーワード引数構文<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E5%BC%95%E6%95%B0%E6%A7%8B%E6%96%87" class="hash-link" aria-label="キーワード引数構文への直接リンク" title="キーワード引数構文への直接リンク" translate="no">​</a></h2>
<blockquote>
<p>📖 参照: <a class="" href="https://type-ruby.github.io/ja/docs/learn/functions/optional-rest-parameters">オプション・Rest パラメータ</a></p>
</blockquote>
<p>このリリースでは、位置引数と区別するキーワード引数のための新しい構文が追加されました：</p>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="分割代入を使用したキーワード引数">分割代入を使用したキーワード引数<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E5%88%86%E5%89%B2%E4%BB%A3%E5%85%A5%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%9F%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E5%BC%95%E6%95%B0" class="hash-link" aria-label="分割代入を使用したキーワード引数への直接リンク" title="分割代入を使用したキーワード引数への直接リンク" translate="no">​</a></h3>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">create_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token symbol" style="color:rgb(248, 248, 242)">email</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token symbol" style="color:rgb(248, 248, 242)">email</span><span class="token operator">:</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># キーワード引数で呼び出し</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">create_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Alice"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token symbol" style="color:rgb(248, 248, 242)">email</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"alice@example.com"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="hash-リテラルパラメータ">Hash リテラルパラメータ<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#hash-%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF" class="hash-link" aria-label="Hash リテラルパラメータへの直接リンク" title="Hash リテラルパラメータへの直接リンク" translate="no">​</a></h3>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">configure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">config</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token symbol" style="color:rgb(248, 248, 242)">host</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token symbol" style="color:rgb(248, 248, 242)">port</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Integer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># config は分割代入されたキーワードではなく、Hash パラメータです</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="ダブルスプラットによるフォワーディング">ダブルスプラットによるフォワーディング<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E3%83%80%E3%83%96%E3%83%AB%E3%82%B9%E3%83%97%E3%83%A9%E3%83%83%E3%83%88%E3%81%AB%E3%82%88%E3%82%8B%E3%83%95%E3%82%A9%E3%83%AF%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0" class="hash-link" aria-label="ダブルスプラットによるフォワーディングへの直接リンク" title="ダブルスプラットによるフォワーディングへの直接リンク" translate="no">​</a></h3>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">forward_options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">**</span><span class="token plain">opts</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  other_method</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">**</span><span class="token plain">opts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="構文まとめ">構文まとめ<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E6%A7%8B%E6%96%87%E3%81%BE%E3%81%A8%E3%82%81" class="hash-link" aria-label="構文まとめへの直接リンク" title="構文まとめへの直接リンク" translate="no">​</a></h2>
<table><thead><tr><th>構文</th><th>意味</th></tr></thead><tbody><tr><td><code>{ name: String }</code></td><td>キーワード引数（分割代入）</td></tr><tr><td><code>config: { host: String }</code></td><td>Hash リテラルパラメータ</td></tr><tr><td><code>**opts: Type</code></td><td>フォワーディング用ダブルスプラット</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="バグ修正">バグ修正<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3" class="hash-link" aria-label="バグ修正への直接リンク" title="バグ修正への直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="括弧なしメソッドの戻り値型削除を修正-pr24-issue23">括弧なしメソッドの戻り値型削除を修正 (<a href="https://github.com/type-ruby/t-ruby/pull/24" target="_blank" rel="noopener noreferrer" class="">PR#24</a>, <a href="https://github.com/type-ruby/t-ruby/issues/23" target="_blank" rel="noopener noreferrer" class="">Issue#23</a>)<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E6%8B%AC%E5%BC%A7%E3%81%AA%E3%81%97%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E6%88%BB%E3%82%8A%E5%80%A4%E5%9E%8B%E5%89%8A%E9%99%A4%E3%82%92%E4%BF%AE%E6%AD%A3-pr24-issue23" class="hash-link" aria-label="括弧なしメソッドの戻り値型削除を修正-pr24-issue23への直接リンク" title="括弧なしメソッドの戻り値型削除を修正-pr24-issue23への直接リンク" translate="no">​</a></h3>
<p>以前は、括弧なしで定義されたメソッドがコンパイル後も型アノテーションが残り、無効な Ruby コードが生成されていました：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 修正前（T-Ruby ソース）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greet</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ❌ バグ：型アノテーションが削除されない</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greet</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ✅ 修正済み：正しい Ruby コードにコンパイル</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greet</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>この修正により、括弧の有無に関係なく、すべてのメソッドシグネチャが正しい Ruby コードに変換されます。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="内部改善">内部改善<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E5%86%85%E9%83%A8%E6%94%B9%E5%96%84" class="hash-link" aria-label="内部改善への直接リンク" title="内部改善への直接リンク" translate="no">​</a></h2>
<ul>
<li class="">共通の文字列ユーティリティを <code>StringUtils</code> モジュールに抽出</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="アップグレード">アップグレード<a href="https://type-ruby.github.io/ja/news/v0-0-41-release#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89" class="hash-link" aria-label="アップグレードへの直接リンク" title="アップグレードへの直接リンク" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-bash codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gem update t-ruby</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>Yonghyun Kim</name>
            <uri>https://github.com/yhk1038</uri>
        </author>
        <category label="release" term="release"/>
        <category label="feature" term="feature"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[T-Ruby v0.0.40 リリース]]></title>
        <id>https://type-ruby.github.io/ja/news/v0-0-40-release</id>
        <link href="https://type-ruby.github.io/ja/news/v0-0-40-release"/>
        <updated>2025-12-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[T-Ruby v0.0.40 では、アクセス修飾子のサポートや heredoc 検出など、パーサーが大幅に改善されました。(PR#22)]]></summary>
        <content type="html"><![CDATA[<p>T-Ruby v0.0.40 では、アクセス修飾子のサポートや heredoc 検出など、パーサーが大幅に改善されました。(<a href="https://github.com/type-ruby/t-ruby/pull/22" target="_blank" rel="noopener noreferrer" class="">PR#22</a>)</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="アクセス修飾子のサポート">アクセス修飾子のサポート<a href="https://type-ruby.github.io/ja/news/v0-0-40-release#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E4%BF%AE%E9%A3%BE%E5%AD%90%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" class="hash-link" aria-label="アクセス修飾子のサポートへの直接リンク" title="アクセス修飾子のサポートへの直接リンク" translate="no">​</a></h2>
<blockquote>
<p>📖 参照: <a class="" href="https://type-ruby.github.io/ja/docs/learn/classes/class-annotations">クラスアノテーション</a></p>
</blockquote>
<p>Ruby のアクセス修飾子をメソッド定義と一緒に直接使用できるようになりました：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">secret_method</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">key</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">internal_method</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> Boolean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>T-Ruby はこれらのパターンを正しくパースし、型削除時にアクセス修飾子キーワードを保持します。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="heredoc-検出">Heredoc 検出<a href="https://type-ruby.github.io/ja/news/v0-0-40-release#heredoc-%E6%A4%9C%E5%87%BA" class="hash-link" aria-label="Heredoc 検出への直接リンク" title="Heredoc 検出への直接リンク" translate="no">​</a></h2>
<p>新しい <code>HeredocDetector</code> が heredoc 文字列内でのメソッドの誤検出を防止します：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">message </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-literal heredoc-string delimiter punctuation" style="color:rgb(248, 248, 242)">&lt;&lt;~</span><span class="token string-literal heredoc-string delimiter symbol" style="color:rgb(248, 248, 242)">SQL</span><span class="token string-literal heredoc-string string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-literal heredoc-string string" style="color:rgb(255, 121, 198)">  def fake_method  # メソッドとしてパースされない</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-literal heredoc-string string" style="color:rgb(255, 121, 198)">    SELECT * FROM users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-literal heredoc-string string" style="color:rgb(255, 121, 198)">  end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-literal heredoc-string string" style="color:rgb(255, 121, 198)"></span><span class="token string-literal heredoc-string delimiter symbol" style="color:rgb(248, 248, 242)">SQL</span><br></span></code></pre></div></div>
<p>すべての heredoc バリアントをサポート：<code>&lt;&lt;DELIM</code>、<code>&lt;&lt;-DELIM</code>、<code>&lt;&lt;~DELIM</code>、<code>&lt;&lt;'DELIM'</code>、<code>&lt;&lt;"DELIM"</code>。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="ブロックコメントのサポート">ブロックコメントのサポート<a href="https://type-ruby.github.io/ja/news/v0-0-40-release#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" class="hash-link" aria-label="ブロックコメントのサポートへの直接リンク" title="ブロックコメントのサポートへの直接リンク" translate="no">​</a></h2>
<p>パーサーが <code>=begin</code>/<code>=end</code> ブロックコメントを正しくスキップするようになりました。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="rbs-アクセス修飾子サポート">RBS アクセス修飾子サポート<a href="https://type-ruby.github.io/ja/news/v0-0-40-release#rbs-%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E4%BF%AE%E9%A3%BE%E5%AD%90%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" class="hash-link" aria-label="RBS アクセス修飾子サポートへの直接リンク" title="RBS アクセス修飾子サポートへの直接リンク" translate="no">​</a></h2>
<p>生成された <code>.rbs</code> ファイルにアクセス修飾子が含まれるようになりました：</p>
<div class="language-rbs codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-rbs codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">private def secret_method: (key: String) -&gt; String</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="レガシーコードの削除">レガシーコードの削除<a href="https://type-ruby.github.io/ja/news/v0-0-40-release#%E3%83%AC%E3%82%AC%E3%82%B7%E3%83%BC%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%89%8A%E9%99%A4" class="hash-link" aria-label="レガシーコードの削除への直接リンク" title="レガシーコードの削除への直接リンク" translate="no">​</a></h2>
<p>このリリースでは、非推奨のレガシーコンパイラコードが削除されました：</p>
<ul>
<li class=""><code>LegacyParser</code> クラスの削除</li>
<li class=""><code>LegacyCompiler</code> クラスの削除</li>
<li class=""><code>TRuby::RBSGenerator</code> の削除（<code>IR::RBSGenerator</code> を使用）</li>
<li class=""><code>use_ir</code> および <code>use_combinator</code> パラメータの削除（常に IR を使用）</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="アップグレード">アップグレード<a href="https://type-ruby.github.io/ja/news/v0-0-40-release#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89" class="hash-link" aria-label="アップグレードへの直接リンク" title="アップグレードへの直接リンク" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-bash codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gem update t-ruby</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>Yonghyun Kim</name>
            <uri>https://github.com/yhk1038</uri>
        </author>
        <category label="release" term="release"/>
        <category label="parser" term="parser"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[T-Ruby のご紹介]]></title>
        <id>https://type-ruby.github.io/ja/news/introducing-t-ruby</id>
        <link href="https://type-ruby.github.io/ja/news/introducing-t-ruby"/>
        <updated>2025-12-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Ruby 向けの TypeScript スタイル静的型システム、T-Ruby をご紹介します。]]></summary>
        <content type="html"><![CDATA[<p>Ruby 向けの TypeScript スタイル静的型システム、T-Ruby をご紹介します。</p>
<p>T-Ruby は、TypeScript 開発者にとって馴染みのある開発体験を Ruby 開発者に提供し、コードに直接型アノテーションを追加して、ランタイム前に型エラーを検出できるようにします。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="主な機能">主な機能<a href="https://type-ruby.github.io/ja/news/introducing-t-ruby#%E4%B8%BB%E3%81%AA%E6%A9%9F%E8%83%BD" class="hash-link" aria-label="主な機能への直接リンク" title="主な機能への直接リンク" translate="no">​</a></h2>
<ul>
<li class=""><strong>TypeScript スタイルの構文</strong>: TypeScript 開発者に馴染みのある型アノテーション構文</li>
<li class=""><strong>段階的な型付け</strong>: 既存の Ruby コードベースに段階的に型を追加可能</li>
<li class=""><strong>RBS 生成</strong>: <code>.rbs</code> シグネチャファイルの自動生成</li>
<li class=""><strong>ゼロランタイムオーバーヘッド</strong>: コンパイル時に型が削除される</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="はじめに">はじめに<a href="https://type-ruby.github.io/ja/news/introducing-t-ruby#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB" class="hash-link" aria-label="はじめにへの直接リンク" title="はじめにへの直接リンク" translate="no">​</a></h2>
<p>T-Ruby をインストールして、Ruby コードに型を追加しましょう：</p>
<div class="language-bash codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-bash codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gem </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> t-ruby</span><br></span></code></pre></div></div>
<p>最初の <code>.trb</code> ファイルを作成します：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello, </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">#{</span><span class="token string-literal interpolation content">name</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>Ruby にコンパイル：</p>
<div class="language-bash codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-bash codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trc greet.trb</span><br></span></code></pre></div></div>
<p>詳細については、<a class="" href="https://type-ruby.github.io/ja/docs/introduction/what-is-t-ruby">ドキュメント</a>をご覧ください！</p>]]></content>
        <author>
            <name>Yonghyun Kim</name>
            <uri>https://github.com/yhk1038</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[型推論：少なく書いて、より多く型付け]]></title>
        <id>https://type-ruby.github.io/ja/news/type-inference-released</id>
        <link href="https://type-ruby.github.io/ja/news/type-inference-released"/>
        <updated>2025-12-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[T-Rubyがコードから戻り値の型を自動的に推論するようになりました。明らかな型に対して明示的なアノテーションは不要です！]]></summary>
        <content type="html"><![CDATA[<p>T-Rubyがコードから戻り値の型を自動的に推論するようになりました。明らかな型に対して明示的なアノテーションは不要です！</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="新機能">新機能<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E6%96%B0%E6%A9%9F%E8%83%BD" class="hash-link" aria-label="新機能への直接リンク" title="新機能への直接リンク" translate="no">​</a></h2>
<p>以前は、こう書く必要がありました：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello, </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">#{</span><span class="token string-literal interpolation content">name</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>今では、戻り値の型はオプションです：</p>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello, </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">#{</span><span class="token string-literal interpolation content">name</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>T-Rubyは<code>greet</code>が<code>String</code>を返すと推論し、正しいRBSを生成します：</p>
<div class="language-rbs codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-rbs codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">def greet: (name: String) -&gt; String</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="動作原理">動作原理<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E5%8B%95%E4%BD%9C%E5%8E%9F%E7%90%86" class="hash-link" aria-label="動作原理への直接リンク" title="動作原理への直接リンク" translate="no">​</a></h2>
<p>新しい型推論エンジンはメソッド本体を分析して戻り値の型を決定します：</p>
<ul>
<li class=""><strong>リテラル推論</strong>：<code>"hello"</code> → <code>String</code>、<code>42</code> → <code>Integer</code></li>
<li class=""><strong>メソッド呼び出しの追跡</strong>：<code>str.upcase</code> → <code>String</code></li>
<li class=""><strong>暗黙的な戻り値</strong>：Rubyの最後の式が戻り値の型になる</li>
<li class=""><strong>条件文の処理</strong>：<code>if</code>/<code>else</code>分岐からのユニオン型</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="例">例<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E4%BE%8B" class="hash-link" aria-label="例への直接リンク" title="例への直接リンク" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="シンプルなメソッド">シンプルなメソッド<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89" class="hash-link" aria-label="シンプルなメソッドへの直接リンク" title="シンプルなメソッドへの直接リンク" translate="no">​</a></h3>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Calculator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">double</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">n</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    n </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">is_positive</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">n</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    n </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>生成されたRBS：</p>
<div class="language-rbs codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-rbs codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Calculator</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def double: (n: Integer) -&gt; Integer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def is_positive?: (n: Integer) -&gt; bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="インスタンス変数">インスタンス変数<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E5%A4%89%E6%95%B0" class="hash-link" aria-label="インスタンス変数への直接リンク" title="インスタンス変数への直接リンク" translate="no">​</a></h3>
<div class="language-ruby codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-ruby codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">initialize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token symbol" style="color:rgb(248, 248, 242)">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">@name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(80, 250, 123)">greeting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">"Hello, </span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">#{</span><span class="token string-literal interpolation content variable" style="color:rgb(189, 147, 249);font-style:italic">@name</span><span class="token string-literal interpolation delimiter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre></div></div>
<p>生成されたRBS：</p>
<div class="language-rbs codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-rbs codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">class User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @name: String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def initialize: (name: String) -&gt; void</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def greeting: () -&gt; String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="技術的詳細">技術的詳細<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E6%8A%80%E8%A1%93%E7%9A%84%E8%A9%B3%E7%B4%B0" class="hash-link" aria-label="技術的詳細への直接リンク" title="技術的詳細への直接リンク" translate="no">​</a></h2>
<p>推論システムはTypeScriptのアプローチに触発されています：</p>
<ul>
<li class=""><strong>BodyParser</strong>：T-Rubyメソッド本体をIRノードにパース</li>
<li class=""><strong>TypeEnv</strong>：変数型追跡のためのスコープチェーンを管理</li>
<li class=""><strong>ASTTypeInferrer</strong>：遅延評価とキャッシングでIRを走査</li>
</ul>
<p>実装の詳細については、<a class="" href="https://type-ruby.github.io/ja/blog/typescript-style-type-inference">技術ブログ記事</a>をご覧ください。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="今すぐ試す">今すぐ試す<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E4%BB%8A%E3%81%99%E3%81%90%E8%A9%A6%E3%81%99" class="hash-link" aria-label="今すぐ試すへの直接リンク" title="今すぐ試すへの直接リンク" translate="no">​</a></h2>
<p>最新のT-Rubyにアップデートして、自動型推論をお楽しみください：</p>
<div class="language-bash codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-bash codeBlock_Nmz_ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gem update t-ruby</span><br></span></code></pre></div></div>
<p>既存のコードは以前と同じように動作します - 明示的な型は引き続き優先されます。推論は戻り値の型が省略された場合にのみ機能します。</p>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="フィードバック">フィードバック<a href="https://type-ruby.github.io/ja/news/type-inference-released#%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF" class="hash-link" aria-label="フィードバックへの直接リンク" title="フィードバックへの直接リンク" translate="no">​</a></h2>
<p>型推論の使用経験をお聞きしたいです。エッジケースを見つけましたか？提案がありますか？<a href="https://github.com/aspect-build/t-ruby" target="_blank" rel="noopener noreferrer" class="">GitHub</a>でイシューを開いてください。</p>
<p>ハッピータイピング！</p>]]></content>
        <author>
            <name>Yonghyun Kim</name>
            <uri>https://github.com/yhk1038</uri>
        </author>
        <category label="release" term="release"/>
        <category label="feature" term="feature"/>
    </entry>
</feed>