"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[7106],{4833:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"learn/advanced/conditional-types","title":"\u6761\u4ef6\u578b","description":"\u6761\u4ef6\u306b\u4f9d\u5b58\u3059\u308b\u578b","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/learn/advanced/conditional-types.md","sourceDirName":"learn/advanced","slug":"/learn/advanced/conditional-types","permalink":"/ja/docs/learn/advanced/conditional-types","draft":false,"unlisted":false,"editUrl":"https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/learn/advanced/conditional-types.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\u6761\u4ef6\u578b","description":"\u6761\u4ef6\u306b\u4f9d\u5b58\u3059\u308b\u578b"},"sidebar":"docsSidebar","previous":{"title":"\u4ea4\u5dee\u578b","permalink":"/ja/docs/learn/advanced/intersection-types"},"next":{"title":"\u30de\u30c3\u30d7\u578b","permalink":"/ja/docs/learn/advanced/mapped-types"}}');var i=r(2714),s=r(8885);const l={sidebar_position:3,title:"\u6761\u4ef6\u578b",description:"\u6761\u4ef6\u306b\u4f9d\u5b58\u3059\u308b\u578b"},a="\u6761\u4ef6\u578b",d={},c=[{value:"\u6761\u4ef6\u578b\u306e\u7406\u89e3",id:"\u6761\u4ef6\u578b\u306e\u7406\u89e3",level:2},{value:"\u57fa\u672c\u69cb\u6587",id:"\u57fa\u672c\u69cb\u6587",level:3},{value:"Extends\u30ad\u30fc\u30ef\u30fc\u30c9",id:"extends\u30ad\u30fc\u30ef\u30fc\u30c9",level:2},{value:"\u7279\u5b9a\u306e\u578b\u306e\u30c1\u30a7\u30c3\u30af",id:"\u7279\u5b9a\u306e\u578b\u306e\u30c1\u30a7\u30c3\u30af",level:3},{value:"\u6761\u4ef6\u578b\u30d1\u30bf\u30fc\u30f3",id:"\u6761\u4ef6\u578b\u30d1\u30bf\u30fc\u30f3",level:2},{value:"nil\u4ee5\u5916\u306e\u578b\u3092\u62bd\u51fa",id:"nil\u4ee5\u5916\u306e\u578b\u3092\u62bd\u51fa",level:3},{value:"\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u62bd\u51fa",id:"\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u62bd\u51fa",level:3},{value:"\u914d\u5217\u306e\u8981\u7d20\u578b\u3092\u62bd\u51fa",id:"\u914d\u5217\u306e\u8981\u7d20\u578b\u3092\u62bd\u51fa",level:3},{value:"<code>infer</code>\u30ad\u30fc\u30ef\u30fc\u30c9",id:"infer\u30ad\u30fc\u30ef\u30fc\u30c9",level:2},{value:"\u8907\u6570\u306einfer\u306e\u4f7f\u7528",id:"\u8907\u6570\u306einfer\u306e\u4f7f\u7528",level:3},{value:"\u5b9f\u7528\u7684\u306a\u4f8b",id:"\u5b9f\u7528\u7684\u306a\u4f8b",level:2},{value:"\u578b\u306e\u30a2\u30f3\u30e9\u30c3\u30d7",id:"\u578b\u306e\u30a2\u30f3\u30e9\u30c3\u30d7",level:3},{value:"\u30e6\u30cb\u30aa\u30f3\u578b\u306e\u30d5\u30e9\u30c3\u30c8\u5316",id:"\u30e6\u30cb\u30aa\u30f3\u578b\u306e\u30d5\u30e9\u30c3\u30c8\u5316",level:3},{value:"Promise\u306e\u3088\u3046\u306a\u578b",id:"promise\u306e\u3088\u3046\u306a\u578b",level:3},{value:"\u5206\u914d\u6761\u4ef6\u578b",id:"\u5206\u914d\u6761\u4ef6\u578b",level:2},{value:"\u5206\u914d\u306e\u9632\u6b62",id:"\u5206\u914d\u306e\u9632\u6b62",level:3},{value:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3",id:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u578b\u30ca\u30ed\u30fc\u30a4\u30f3\u30b0",id:"\u578b\u30ca\u30ed\u30fc\u30a4\u30f3\u30b0",level:3},{value:"\u518d\u5e30\u6761\u4ef6\u578b",id:"\u518d\u5e30\u6761\u4ef6\u578b",level:3},{value:"\u578b\u30ac\u30fc\u30c9\u95a2\u6570",id:"\u578b\u30ac\u30fc\u30c9\u95a2\u6570",level:3},{value:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3068\u306e\u6761\u4ef6\u578b",id:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3068\u306e\u6761\u4ef6\u578b",level:2},{value:"\u5b9f\u7528\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9",id:"\u5b9f\u7528\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9",level:2},{value:"API\u30ec\u30b9\u30dd\u30f3\u30b9\u578b",id:"api\u30ec\u30b9\u30dd\u30f3\u30b9\u578b",level:3},{value:"\u30b9\u30de\u30fc\u30c8\u30c7\u30d5\u30a9\u30eb\u30c8",id:"\u30b9\u30de\u30fc\u30c8\u30c7\u30d5\u30a9\u30eb\u30c8",level:3},{value:"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u8981\u7d20\u30a2\u30af\u30bb\u30b9",id:"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u8981\u7d20\u30a2\u30af\u30bb\u30b9",level:3},{value:"\u95a2\u6570\u5408\u6210",id:"\u95a2\u6570\u5408\u6210",level:3},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"1. \u6761\u4ef6\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064",id:"1-\u6761\u4ef6\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064",level:3},{value:"2. \u8aac\u660e\u7684\u306a\u540d\u524d\u3092\u4f7f\u7528",id:"2-\u8aac\u660e\u7684\u306a\u540d\u524d\u3092\u4f7f\u7528",level:3},{value:"3. \u8907\u96d1\u306a\u578b\u3092\u6587\u66f8\u5316",id:"3-\u8907\u96d1\u306a\u578b\u3092\u6587\u66f8\u5316",level:3},{value:"4. \u6df1\u3044\u30cd\u30b9\u30c8\u3092\u907f\u3051\u308b",id:"4-\u6df1\u3044\u30cd\u30b9\u30c8\u3092\u907f\u3051\u308b",level:3},{value:"\u5236\u9650\u4e8b\u9805",id:"\u5236\u9650\u4e8b\u9805",level:2},{value:"\u518d\u5e30\u306e\u6df1\u3055",id:"\u518d\u5e30\u306e\u6df1\u3055",level:3},{value:"\u578b\u63a8\u8ad6\u306e\u8907\u96d1\u3055",id:"\u578b\u63a8\u8ad6\u306e\u8907\u96d1\u3055",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{DocsBadge:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("DocsBadge",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r,{}),"\n",(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u6761\u4ef6\u578b",children:"\u6761\u4ef6\u578b"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u6e96\u5099\u4e2d",type:"caution",children:(0,i.jsx)(n.p,{children:"\u3053\u306e\u6a5f\u80fd\u306f\u5c06\u6765\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u8a08\u753b\u3055\u308c\u3066\u3044\u307e\u3059\u3002"})}),"\n",(0,i.jsx)(n.p,{children:"\u6761\u4ef6\u578b\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u6761\u4ef6\u306b\u57fa\u3065\u3044\u3066\u5909\u5316\u3059\u308b\u578b\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u578b\u30ec\u30d9\u30eb\u306e\u300cif-else\u300d\u6587\u3068\u8003\u3048\u3066\u304f\u3060\u3055\u3044\u2014\u7d50\u679c\u306e\u578b\u306f\u6761\u4ef6\u304c\u771f\u304b\u507d\u304b\u306b\u3088\u3063\u3066\u5909\u308f\u308a\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u6761\u4ef6\u578b\u306e\u7406\u89e3",children:"\u6761\u4ef6\u578b\u306e\u7406\u89e3"}),"\n",(0,i.jsx)(n.p,{children:"\u6761\u4ef6\u578b\u306f\u3001\u578b\u95a2\u4fc2\u306b\u57fa\u3065\u3044\u30662\u3064\u306e\u578b\u306e\u3044\u305a\u308c\u304b\u3092\u9078\u629e\u3059\u308b\u4e09\u9805\u6f14\u7b97\u5b50\u306e\u3088\u3046\u306a\u69cb\u6587\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"type Result = Condition ? TrueType : FalseType\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Condition"}),"\u304c\u771f\u306a\u3089\u3001\u7d50\u679c\u306f",(0,i.jsx)(n.code,{children:"TrueType"}),"\u3067\u3059\u3002\u305d\u3046\u3067\u306a\u3051\u308c\u3070",(0,i.jsx)(n.code,{children:"FalseType"}),"\u3067\u3059\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u57fa\u672c\u69cb\u6587",children:"\u57fa\u672c\u69cb\u6587"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u6761\u4ef6\u578b\u306e\u69cb\u6587\ntype TypeName<T> = T extends SomeType ? TypeIfTrue : TypeIfFalse\n\n# \u4f8b\uff1aT\u304c\u6587\u5b57\u5217\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\ntype IsString<T> = T extends String ? true : false\n\n# \u4f7f\u7528\u6cd5\ntype Test1 = IsString<String>   # true\ntype Test2 = IsString<Integer>  # false\n"})}),"\n",(0,i.jsx)(n.h2,{id:"extends\u30ad\u30fc\u30ef\u30fc\u30c9",children:"Extends\u30ad\u30fc\u30ef\u30fc\u30c9"}),"\n",(0,i.jsxs)(n.p,{children:["\u6761\u4ef6\u578b\u306e",(0,i.jsx)(n.code,{children:"extends"}),"\u30ad\u30fc\u30ef\u30fc\u30c9\u306f\u3001\u578b\u304c\u5225\u306e\u578b\u306b\u5272\u308a\u5f53\u3066\u53ef\u80fd\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# T extends U\u306f\u300cT\u3092U\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u304b\uff1f\u300d\u3092\u610f\u5473\u3059\u308b\n\ntype IsArray<T> = T extends Array<any> ? true : false\n\ntype Test1 = IsArray<Array<Integer>>  # true\ntype Test2 = IsArray<String>          # false\ntype Test3 = IsArray<Hash<String, Integer>>  # false\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u7279\u5b9a\u306e\u578b\u306e\u30c1\u30a7\u30c3\u30af",children:"\u7279\u5b9a\u306e\u578b\u306e\u30c1\u30a7\u30c3\u30af"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u578b\u304c\u6570\u5024\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\ntype IsNumeric<T> = T extends Integer | Float ? true : false\n\n# \u578b\u304cnil\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\ntype IsNil<T> = T extends nil ? true : false\n\n# \u578b\u304c\u95a2\u6570\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\ntype IsFunction<T> = T extends Proc<any, any> ? true : false\n\n# \u4f7f\u7528\u4f8b\ntype NumTest = IsNumeric<Integer>  # true\ntype NilTest = IsNil<nil>          # true\ntype FnTest = IsFunction<Proc<String, Integer>>  # true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6761\u4ef6\u578b\u30d1\u30bf\u30fc\u30f3",children:"\u6761\u4ef6\u578b\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,i.jsx)(n.h3,{id:"nil\u4ee5\u5916\u306e\u578b\u3092\u62bd\u51fa",children:"nil\u4ee5\u5916\u306e\u578b\u3092\u62bd\u51fa"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u30e6\u30cb\u30aa\u30f3\u578b\u304b\u3089nil\u3092\u524a\u9664\ntype NonNil<T> = T extends nil ? never : T\n\n# \u4f7f\u7528\u6cd5\ntype MaybeString = String | nil\ntype JustString = NonNil<MaybeString>  # String\n\ntype MixedTypes = String | Integer | nil | Float\ntype WithoutNil = NonNil<MixedTypes>  # String | Integer | Float\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u62bd\u51fa",children:"\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u62bd\u51fa"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u53d6\u5f97\ntype ReturnType<T> = T extends Proc<any, infer R> ? R : never\n\n# \u4f7f\u7528\u6cd5\ntype AddFunction = Proc<Integer, Integer, Integer>\ntype AddReturnType = ReturnType<AddFunction>  # Integer\n\ntype GetUserFunction = Proc<Integer, User>\ntype UserReturnType = ReturnType<GetUserFunction>  # User\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u5217\u306e\u8981\u7d20\u578b\u3092\u62bd\u51fa",children:"\u914d\u5217\u306e\u8981\u7d20\u578b\u3092\u62bd\u51fa"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u914d\u5217\u306e\u8981\u7d20\u578b\u3092\u53d6\u5f97\ntype ElementType<T> = T extends Array<infer E> ? E : never\n\n# \u4f7f\u7528\u6cd5\ntype StringArray = Array<String>\ntype StringElement = ElementType<StringArray>  # String\n\ntype NumberArray = Array<Integer>\ntype NumberElement = ElementType<NumberArray>  # Integer\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"infer\u30ad\u30fc\u30ef\u30fc\u30c9",children:[(0,i.jsx)(n.code,{children:"infer"}),"\u30ad\u30fc\u30ef\u30fc\u30c9"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"infer"}),"\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u6761\u4ef6\u578b\u5185\u3067\u578b\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3057\u3066\u540d\u524d\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u95a2\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u578b\u3092\u63a8\u8ad6\ntype ParamType<T> = T extends Proc<infer P, any> ? P : never\n\n# \u30cf\u30c3\u30b7\u30e5\u306e\u30ad\u30fc\u578b\u3092\u63a8\u8ad6\ntype KeyType<T> = T extends Hash<infer K, any> ? K : never\n\n# \u30cf\u30c3\u30b7\u30e5\u306e\u5024\u578b\u3092\u63a8\u8ad6\ntype ValueError<T> = T extends Hash<any, infer V> ? V : never\n\n# \u4f7f\u7528\u6cd5\ntype MyFunction = Proc<String, Integer>\ntype Param = ParamType<MyFunction>  # String\n\ntype MyHash = Hash<Symbol, User>\ntype Key = KeyType<MyHash>    # Symbol\ntype Value = ValueError<MyHash>  # User\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8907\u6570\u306einfer\u306e\u4f7f\u7528",children:"\u8907\u6570\u306einfer\u306e\u4f7f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u30da\u30a2\u306e\u4e21\u65b9\u306e\u90e8\u5206\u3092\u62bd\u51fa\ntype Unpair<T> = T extends Hash<Symbol, { first: infer F, second: infer S }>\n  ? [F, S]\n  : never\n\n# \u95a2\u6570\u30b7\u30b0\u30cd\u30c1\u30e3\u306e\u90e8\u5206\u3092\u62bd\u51fa\ntype FunctionParts<T> =\n  T extends Proc<infer P, infer R>\n    ? { params: P, return: R }\n    : never\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9f\u7528\u7684\u306a\u4f8b",children:"\u5b9f\u7528\u7684\u306a\u4f8b"}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u306e\u30a2\u30f3\u30e9\u30c3\u30d7",children:"\u578b\u306e\u30a2\u30f3\u30e9\u30c3\u30d7"}),"\n",(0,i.jsx)(n.p,{children:"\u30e9\u30c3\u30d1\u30fc\u578b\u3092\u524a\u9664\u3057\u3066\u5185\u90e8\u306e\u578b\u3092\u53d6\u5f97\u3057\u307e\u3059\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u914d\u5217\u306e\u30a2\u30f3\u30e9\u30c3\u30d7\ntype Unwrap<T> = T extends Array<infer U> ? U : T\n\n# \u4f7f\u7528\u6cd5\ntype Wrapped1 = Unwrap<Array<String>>  # String\ntype Wrapped2 = Unwrap<String>         # String\uff08\u5909\u66f4\u306a\u3057\uff09\n\n# \u30cd\u30b9\u30c8\u3057\u305f\u914d\u5217\u306e\u30a2\u30f3\u30e9\u30c3\u30d7\ntype DeepUnwrap<T> =\n  T extends Array<infer U>\n    ? DeepUnwrap<U>\n    : T\n\ntype NestedArray = Array<Array<Array<Integer>>>\ntype Unwrapped = DeepUnwrap<NestedArray>  # Integer\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30e6\u30cb\u30aa\u30f3\u578b\u306e\u30d5\u30e9\u30c3\u30c8\u5316",children:"\u30e6\u30cb\u30aa\u30f3\u578b\u306e\u30d5\u30e9\u30c3\u30c8\u5316"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u30cd\u30b9\u30c8\u3057\u305f\u30e6\u30cb\u30aa\u30f3\u306e\u30d5\u30e9\u30c3\u30c8\u5316\ntype Flatten<T> =\n  T extends Array<infer U>\n    ? Flatten<U>\n    : T extends Hash<any, infer V>\n      ? Flatten<V>\n      : T\n\n# \u30e6\u30cb\u30aa\u30f3\u304b\u3089\u91cd\u8907\u3092\u524a\u9664\uff08\u53ef\u80fd\u306a\u5834\u5408\uff09\ntype Unique<T, U = T> =\n  T extends U\n    ? [U] extends [T]\n      ? T\n      : Unique<T, Exclude<U, T>>\n    : never\n"})}),"\n",(0,i.jsx)(n.h3,{id:"promise\u306e\u3088\u3046\u306a\u578b",children:"Promise\u306e\u3088\u3046\u306a\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# Promise\u306e\u3088\u3046\u306a\u578b\u3092\u30a2\u30f3\u30e9\u30c3\u30d7\ntype Awaited<T> =\n  T extends Promise<infer U>\n    ? Awaited<U>\n    : T\n\n# \u975e\u540c\u671f\u623b\u308a\u578b\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\ntype AsyncReturnType<T> =\n  T extends Proc<any, infer R>\n    ? Awaited<R>\n    : never\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5206\u914d\u6761\u4ef6\u578b",children:"\u5206\u914d\u6761\u4ef6\u578b"}),"\n",(0,i.jsx)(n.p,{children:"\u6761\u4ef6\u578b\u304c\u30e6\u30cb\u30aa\u30f3\u578b\u306b\u4f5c\u7528\u3059\u308b\u3068\u304d\u3001\u30e6\u30cb\u30aa\u30f3\u306b\u5bfe\u3057\u3066\u5206\u914d\u3055\u308c\u307e\u3059\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u3053\u306e\u6761\u4ef6\u578b\u306f\u5206\u914d\u7684\ntype ToArray<T> = T extends any ? Array<T> : never\n\n# \u30e6\u30cb\u30aa\u30f3\u306b\u9069\u7528\u3055\u308c\u308b\u3068\u5206\u914d\u3055\u308c\u308b\uff1a\ntype StringOrNumber = String | Integer\ntype Result = ToArray<StringOrNumber>\n# \u7d50\u679c\uff1aArray<String> | Array<Integer>\n# \u3067\u306f\u306a\u3044\uff1aArray<String | Integer>\n\n# \u5225\u306e\u4f8b\ntype BoxedType<T> = T extends any ? { value: T } : never\n\ntype Mixed = String | Integer | Boolean\ntype Boxed = BoxedType<Mixed>\n# \u7d50\u679c\uff1a{ value: String } | { value: Integer } | { value: Boolean }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5206\u914d\u306e\u9632\u6b62",children:"\u5206\u914d\u306e\u9632\u6b62"}),"\n",(0,i.jsx)(n.p,{children:"\u5206\u914d\u3092\u9632\u3050\u306b\u306f\u3001\u578b\u3092\u30bf\u30d7\u30eb\u3067\u30e9\u30c3\u30d7\u3057\u307e\u3059\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u975e\u5206\u914d\u30d0\u30fc\u30b8\u30e7\u30f3\ntype ToArrayNonDist<T> = [T] extends [any] ? Array<T> : never\n\ntype StringOrNumber = String | Integer\ntype Result = ToArrayNonDist<StringOrNumber>\n# \u7d50\u679c\uff1aArray<String | Integer>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3",children:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u30ca\u30ed\u30fc\u30a4\u30f3\u30b0",children:"\u578b\u30ca\u30ed\u30fc\u30a4\u30f3\u30b0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",metastring:"{skip-verify}",children:"# \u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u57fa\u3065\u3044\u305f\u578b\u306e\u30ca\u30ed\u30fc\u30a4\u30f3\u30b0\ntype NarrowByProperty<T, K extends keyof T, V> =\n  T extends { K: V } ? T : never\n\n# \u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u57fa\u3065\u3044\u305f\u30e6\u30cb\u30aa\u30f3\u304b\u3089\u306e\u578b\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\ntype FilterByProperty<T, K, V> =\n  T extends infer U\n    ? U extends { K: V }\n      ? U\n      : never\n    : never\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u518d\u5e30\u6761\u4ef6\u578b",children:"\u518d\u5e30\u6761\u4ef6\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u6df1\u3044\u8aad\u307f\u53d6\u308a\u5c02\u7528\u578b\ntype DeepReadonly<T> =\n  T extends (Array<infer U> | Hash<any, infer U>)\n    ? ReadonlyArray<DeepReadonly<U>>\n    : T extends Hash<infer K, infer V>\n      ? ReadonlyHash<K, DeepReadonly<V>>\n      : T\n\n# \u6df1\u3044\u90e8\u5206\u578b\ntype DeepPartial<T> =\n  T extends Hash<infer K, infer V>\n    ? Hash<K, DeepPartial<V> | nil>\n    : T extends Array<infer U>\n      ? Array<DeepPartial<U>>\n      : T\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u30ac\u30fc\u30c9\u95a2\u6570",children:"\u578b\u30ac\u30fc\u30c9\u95a2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u578b\u8ff0\u8a9e\u3092\u4f5c\u6210\ndef is_string<T>(value: T): value is String\n  value.is_a?(String)\nend\n\ndef is_array<T>(value: T): value is Array<any>\n  value.is_a?(Array)\nend\n\n# \u6761\u4ef6\u578b\u3068\u4e00\u7dd2\u306b\u4f7f\u7528\ntype TypeGuardReturn<T, G> =\n  G extends true ? T : never\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3068\u306e\u6761\u4ef6\u578b",children:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3068\u306e\u6761\u4ef6\u578b"}),"\n",(0,i.jsx)(n.p,{children:"\u6761\u4ef6\u578b\u3092\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u5236\u7d04\u3068\u7d44\u307f\u5408\u308f\u305b\u307e\u3059\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u7279\u5b9a\u306e\u578b\u306e\u307f\u3092\u8a31\u53ef\ntype Addable<T> =\n  T extends Integer | Float | String\n    ? T\n    : never\n\ndef add<T extends Addable<T>>(a: T, b: T): T\n  a + b\nend\n\n# \u6761\u4ef6\u4ed8\u304d\u3067\u578b\u3092\u5909\u63db\ntype Transform<T> =\n  T extends String ? Integer :\n  T extends Integer ? Float :\n  T extends Float ? String :\n  T\n\n# \u4f7f\u7528\u6cd5\ndef transform<T>(value: T): Transform<T>\n  case value\n  when String\n    value.length  # Integer\u3092\u8fd4\u3059\n  when Integer\n    value.to_f    # Float\u3092\u8fd4\u3059\n  when Float\n    value.to_s    # String\u3092\u8fd4\u3059\n  else\n    value\n  end\nend\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9f\u7528\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9",children:"\u5b9f\u7528\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"}),"\n",(0,i.jsx)(n.h3,{id:"api\u30ec\u30b9\u30dd\u30f3\u30b9\u578b",children:"API\u30ec\u30b9\u30dd\u30f3\u30b9\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u6210\u529f\u30b9\u30c6\u30fc\u30bf\u30b9\u306b\u57fa\u3065\u3044\u3066\u6761\u4ef6\u4ed8\u304d\u3067\u30a8\u30e9\u30fc\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\ntype APIResponse<T, Success extends Boolean> =\n  Success extends true\n    ? { success: true, data: T }\n    : { success: false, error: String }\n\n# \u4f7f\u7528\u6cd5\ntype SuccessResponse = APIResponse<User, true>\n# { success: true, data: User }\n\ntype ErrorResponse = APIResponse<User, false>\n# { success: false, error: String }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b9\u30de\u30fc\u30c8\u30c7\u30d5\u30a9\u30eb\u30c8",children:"\u30b9\u30de\u30fc\u30c8\u30c7\u30d5\u30a9\u30eb\u30c8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u6761\u4ef6\u4ed8\u304d\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u578b\u3092\u63d0\u4f9b\ntype WithDefault<T, D> = T extends nil ? D : T\n\n# \u4f7f\u7528\u6cd5\ntype MaybeString = String | nil\ntype StringWithDefault = WithDefault<MaybeString, String>  # String\n\ntype DefiniteValue = Integer\ntype IntegerWithDefault = WithDefault<DefiniteValue, Float>  # Integer\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u8981\u7d20\u30a2\u30af\u30bb\u30b9",children:"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u8981\u7d20\u30a2\u30af\u30bb\u30b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u578b\u306b\u57fa\u3065\u3044\u305f\u578b\u306e\u53d6\u5f97\ntype CollectionElement<T> =\n  T extends Array<infer E> ? E :\n  T extends Hash<any, infer V> ? V :\n  T extends Set<infer S> ? S :\n  never\n\n# \u4f7f\u7528\u6cd5\ntype ArrayElement = CollectionElement<Array<String>>  # String\ntype HashValue = CollectionElement<Hash<Symbol, Integer>>  # Integer\ntype SetElement = CollectionElement<Set<User>>  # User\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u95a2\u6570\u5408\u6210",children:"\u95a2\u6570\u5408\u6210"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u95a2\u6570\u578b\u306e\u5408\u6210\ntype Compose<F, G> =\n  F extends Proc<infer A, infer B>\n    ? G extends Proc<B, infer C>\n      ? Proc<A, C>\n      : never\n    : never\n\n# \u4f7f\u7528\u6cd5\ntype F = Proc<String, Integer>  # String -> Integer\ntype G = Proc<Integer, Boolean>    # Integer -> Boolean\ntype Composed = Compose<F, G>   # String -> Boolean\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,i.jsx)(n.h3,{id:"1-\u6761\u4ef6\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064",children:"1. \u6761\u4ef6\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:'# \u826f\u3044\uff1a\u30b7\u30f3\u30d7\u30eb\u3067\u660e\u78ba\u306a\u6761\u4ef6\ntype IsString<T> = T extends String ? true : false\n\n# \u3042\u307e\u308a\u826f\u304f\u306a\u3044\uff1a\u8907\u96d1\u306a\u30cd\u30b9\u30c8\u3055\u308c\u305f\u6761\u4ef6\ntype ComplexCheck<T> =\n  T extends String\n    ? T extends "hello"\n      ? true\n      : T extends "world"\n        ? true\n        : false\n    : false\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-\u8aac\u660e\u7684\u306a\u540d\u524d\u3092\u4f7f\u7528",children:"2. \u8aac\u660e\u7684\u306a\u540d\u524d\u3092\u4f7f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u826f\u3044\uff1a\u660e\u78ba\u306a\u540d\u524d\ntype NonNilable<T> = T extends nil ? never : T\ntype Unwrap<T> = T extends Array<infer U> ? U : T\n\n# \u3042\u307e\u308a\u826f\u304f\u306a\u3044\uff1a\u6697\u53f7\u7684\u306a\u540d\u524d\ntype NN<T> = T extends nil ? never : T\ntype UW<T> = T extends Array<infer U> ? U : T\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-\u8907\u96d1\u306a\u578b\u3092\u6587\u66f8\u5316",children:"3. \u8907\u96d1\u306a\u578b\u3092\u6587\u66f8\u5316"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u826f\u3044\uff1a\u6587\u66f8\u5316\u3055\u308c\u305f\u6761\u4ef6\u578b\n# \u95a2\u6570\u578b\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u62bd\u51fa\n# @example ReturnType<Proc<String, Integer>> => Integer\ntype ReturnType<T> = T extends Proc<any, infer R> ? R : never\n\n# \u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u518d\u5e30\u7684\u306b\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u306b\u3059\u308b\n# @example DeepPartial<User> => \u3059\u3079\u3066\u306eUser\u30d7\u30ed\u30d1\u30c6\u30a3\u304cT | nil\u306b\u306a\u308b\ntype DeepPartial<T> =\n  T extends Hash<infer K, infer V>\n    ? Hash<K, DeepPartial<V> | nil>\n    : T\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-\u6df1\u3044\u30cd\u30b9\u30c8\u3092\u907f\u3051\u308b",children:"4. \u6df1\u3044\u30cd\u30b9\u30c8\u3092\u907f\u3051\u308b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u826f\u3044\uff1a\u30d5\u30e9\u30c3\u30c8\u3067\u7ba1\u7406\u53ef\u80fd\u306a\u69cb\u9020\ntype FirstType<T> = T extends [infer F, ...any] ? F : never\ntype RestTypes<T> = T extends [any, ...infer R] ? R : never\n\n# \u3042\u307e\u308a\u826f\u304f\u306a\u3044\uff1a\u6df1\u304f\u30cd\u30b9\u30c8\u3055\u308c\u3066\u3044\u308b\ntype Extract<T> =\n  T extends [infer F, ...infer R]\n    ? F extends String\n      ? R extends Array<infer U>\n        ? U extends Integer\n          ? [F, U]\n          : never\n        : never\n      : never\n    : never\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5236\u9650\u4e8b\u9805",children:"\u5236\u9650\u4e8b\u9805"}),"\n",(0,i.jsx)(n.h3,{id:"\u518d\u5e30\u306e\u6df1\u3055",children:"\u518d\u5e30\u306e\u6df1\u3055"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u975e\u5e38\u306b\u6df1\u3044\u518d\u5e30\u306f\u9650\u754c\u306b\u9054\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\ntype DeepNested<T, N> =\n  N extends 0\n    ? T\n    : Array<DeepNested<T, Decrement<N>>>  # \u6df1\u3055\u5236\u9650\u306b\u9054\u3059\u308b\u53ef\u80fd\u6027\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u63a8\u8ad6\u306e\u8907\u96d1\u3055",children:"\u578b\u63a8\u8ad6\u306e\u8907\u96d1\u3055"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-trb",children:"# \u8907\u96d1\u306a\u63a8\u8ad6\u306f\u5e38\u306b\u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\ntype ComplexInfer<T> =\n  T extends {\n    a: infer A,\n    b: infer B,\n    c: (x: infer C) => infer D\n  } ? [A, B, C, D] : never\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,i.jsx)(n.p,{children:"\u6761\u4ef6\u578b\u3092\u7406\u89e3\u3057\u305f\u306e\u3067\u3001\u6b21\u3092\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/learn/advanced/mapped-types",children:"\u30de\u30c3\u30d7\u578b"}),"\u3067\u578b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u63db"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/learn/advanced/utility-types",children:"\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u578b"}),"\u306f\u5185\u90e8\u7684\u306b\u6761\u4ef6\u578b\u3092\u4f7f\u7528"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/learn/basics/type-inference",children:"\u578b\u63a8\u8ad6"}),"\u3067T-Ruby\u304c\u578b\u3092\u63a8\u8ad6\u3059\u308b\u65b9\u6cd5\u3092\u7406\u89e3"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/learn/generics/constraints",children:"\u5236\u7d04\u4ed8\u304d\u30b8\u30a7\u30cd\u30ea\u30af\u30b9"}),"\u3067\u5236\u5fa1\u3055\u308c\u305f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8885:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var t=r(9378);const i={},s=t.createContext(i);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);