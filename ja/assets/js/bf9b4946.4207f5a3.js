"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[9749],{329(n,e,t){t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>_,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"learn/classes/instance-class-variables","title":"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 & \u30af\u30e9\u30b9\u5909\u6570","description":"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3068\u30af\u30e9\u30b9\u5909\u6570\u306e\u578b\u4ed8\u3051","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/learn/classes/instance-class-variables.md","sourceDirName":"learn/classes","slug":"/learn/classes/instance-class-variables","permalink":"/ja/docs/learn/classes/instance-class-variables","draft":false,"unlisted":false,"editUrl":"https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/learn/classes/instance-class-variables.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 & \u30af\u30e9\u30b9\u5909\u6570","description":"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3068\u30af\u30e9\u30b9\u5909\u6570\u306e\u578b\u4ed8\u3051"},"sidebar":"docsSidebar","previous":{"title":"\u30af\u30e9\u30b9\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3","permalink":"/ja/docs/learn/classes/class-annotations"},"next":{"title":"\u7d99\u627f & \u30df\u30c3\u30af\u30b9\u30a4\u30f3","permalink":"/ja/docs/learn/classes/inheritance-mixins"}}');var a=t(5656),i=t(6145);const r={sidebar_position:2,title:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 & \u30af\u30e9\u30b9\u5909\u6570",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3068\u30af\u30e9\u30b9\u5909\u6570\u306e\u578b\u4ed8\u3051"},d="\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 & \u30af\u30e9\u30b9\u5909\u6570",l={},o=[{value:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570",id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570",level:2},{value:"attr_accessor\u3001attr_reader\u3001attr_writer\u306e\u4f7f\u7528",id:"attr_accessorattr_readerattr_writer\u306e\u4f7f\u7528",level:3},{value:"\u660e\u793a\u7684\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5ba3\u8a00",id:"\u660e\u793a\u7684\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5ba3\u8a00",level:3},{value:"attr\u30e1\u30bd\u30c3\u30c9\u3068\u660e\u793a\u7684\u578b\u306e\u7d44\u307f\u5408\u308f\u305b",id:"attr\u30e1\u30bd\u30c3\u30c9\u3068\u660e\u793a\u7684\u578b\u306e\u7d44\u307f\u5408\u308f\u305b",level:3},{value:"Nilable\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570",id:"nilable\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570",level:2},{value:"\u30af\u30e9\u30b9\u5909\u6570",id:"\u30af\u30e9\u30b9\u5909\u6570",level:2},{value:"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u4ed8\u304d\u30af\u30e9\u30b9\u5909\u6570",id:"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u4ed8\u304d\u30af\u30e9\u30b9\u5909\u6570",level:3},{value:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 vs \u30af\u30e9\u30b9\u5909\u6570",id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570-vs-\u30af\u30e9\u30b9\u5909\u6570",level:2},{value:"\u8907\u96d1\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u578b",id:"\u8907\u96d1\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u578b",level:2},{value:"\u5b9f\u8df5\u4f8b: \u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3",id:"\u5b9f\u8df5\u4f8b-\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3",level:2},{value:"\u5b9f\u8df5\u4f8b: \u30ad\u30e3\u30c3\u30b7\u30e5\u30b7\u30b9\u30c6\u30e0",id:"\u5b9f\u8df5\u4f8b-\u30ad\u30e3\u30c3\u30b7\u30e5\u30b7\u30b9\u30c6\u30e0",level:2},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3",id:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u9045\u5ef6\u521d\u671f\u5316",id:"\u9045\u5ef6\u521d\u671f\u5316",level:3},{value:"\u30ec\u30b8\u30b9\u30c8\u30ea\u30d1\u30bf\u30fc\u30f3",id:"\u30ec\u30b8\u30b9\u30c8\u30ea\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u30e1\u30e2\u5316",id:"\u30e1\u30e2\u5316",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components},{DocsBadge:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("DocsBadge",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t,{}),"\n",(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9--\u30af\u30e9\u30b9\u5909\u6570",children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 & \u30af\u30e9\u30b9\u5909\u6570"})}),"\n",(0,a.jsx)(e.p,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3068\u30af\u30e9\u30b9\u5909\u6570\u306f\u3001Ruby\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u57fa\u672c\u3067\u3059\u3002T-Ruby\u306f\u4e21\u65b9\u306b\u5bfe\u3057\u3066\u5305\u62ec\u7684\u306a\u578b\u5b89\u5168\u6027\u3092\u63d0\u4f9b\u3057\u3001\u30c7\u30fc\u30bf\u69cb\u9020\u304c\u4e88\u6e2c\u53ef\u80fd\u3067\u30a8\u30e9\u30fc\u306e\u306a\u3044\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30ec\u30d9\u30eb\u3068\u30af\u30e9\u30b9\u30ec\u30d9\u30eb\u306e\u4e21\u65b9\u3067\u5909\u6570\u306b\u578b\u3092\u4ed8\u3051\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(e.h2,{id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570",children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570"}),"\n",(0,a.jsx)(e.p,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306f\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u56fa\u6709\u306e\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002T-Ruby\u3067\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u65b9\u6cd5\u3067\u578b\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"attr_accessorattr_readerattr_writer\u306e\u4f7f\u7528",children:"attr_accessor\u3001attr_reader\u3001attr_writer\u306e\u4f7f\u7528"}),"\n",(0,a.jsx)(e.p,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306b\u578b\u3092\u4ed8\u3051\u308b\u6700\u3082\u4e00\u822c\u7684\u3067\u63a8\u5968\u3055\u308c\u308b\u65b9\u6cd5\u3067\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="attr_methods.trb"',children:'class Person\n  attr_accessor :name: String\n  attr_accessor :age: Integer\n  attr_reader :id: Integer\n  attr_writer :password: String\n\n  def initialize(id: Integer, name: String, age: Integer)\n    @id = id\n    @name = name\n    @age = age\n    @password = ""\n  end\n\n  def display_info(): String\n    "#{@name}, age #{@age}"\n  end\nend\n\n# \u4f7f\u7528\u6cd5\nperson = Person.new(1, "Alice", 30)\nperson.name = "Alice Smith"  # \u2713 OK - attr_accessor\nputs person.name             # \u2713 OK - attr_accessor\nputs person.id               # \u2713 OK - attr_reader\n# person.id = 2              # \u2717 \u30a8\u30e9\u30fc - \u8aad\u307f\u53d6\u308a\u5c02\u7528\nperson.password = "secret"   # \u2713 OK - attr_writer\n# puts person.password       # \u2717 \u30a8\u30e9\u30fc - \u66f8\u304d\u8fbc\u307f\u5c02\u7528\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u660e\u793a\u7684\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5ba3\u8a00",children:"\u660e\u793a\u7684\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5ba3\u8a00"}),"\n",(0,a.jsx)(e.p,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u521d\u671f\u5316\u3059\u308b\u3068\u304d\u306b\u578b\u3092\u660e\u793a\u7684\u306b\u5ba3\u8a00\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="explicit_types.trb"',children:"class ShoppingCart\n  def initialize()\n    @items: Array<String> = []\n    @quantities: Hash<String, Integer> = {}\n    @total: Float = 0.0\n    @discount: Float? = nil\n  end\n\n  def add_item(item: String, quantity: Integer): void\n    @items.push(item)\n    @quantities[item] = quantity\n  end\n\n  def set_discount(amount: Float): void\n    @discount = amount\n  end\n\n  def calculate_total(price_per_item: Float): Float\n    base = @items.length * price_per_item\n    if @discount\n      base - @discount\n    else\n      base\n    end\n  end\nend\n"})}),"\n",(0,a.jsx)(e.h3,{id:"attr\u30e1\u30bd\u30c3\u30c9\u3068\u660e\u793a\u7684\u578b\u306e\u7d44\u307f\u5408\u308f\u305b",children:"attr\u30e1\u30bd\u30c3\u30c9\u3068\u660e\u793a\u7684\u578b\u306e\u7d44\u307f\u5408\u308f\u305b"}),"\n",(0,a.jsx)(e.p,{children:"\u4e21\u65b9\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4e00\u7dd2\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="combined.trb"',children:'class Article\n  attr_reader :title: String\n  attr_accessor :published: Boolean\n\n  def initialize(title: String)\n    @title = title\n    @published = false\n    @views: Integer = 0\n    @comments: Array<String> = []\n    @author: String? = nil\n  end\n\n  def increment_views(): void\n    @views += 1\n  end\n\n  def add_comment(comment: String): void\n    @comments.push(comment)\n  end\n\n  def set_author(name: String): void\n    @author = name\n  end\n\n  def author_name(): String\n    @author || "Anonymous"\n  end\nend\n'})}),"\n",(0,a.jsx)(e.h2,{id:"nilable\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570",children:"Nilable\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570"}),"\n",(0,a.jsxs)(e.p,{children:["nil\u306b\u306a\u308a\u5f97\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306f ",(0,a.jsx)(e.code,{children:"?"})," \u63a5\u5c3e\u8f9e\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="nilable.trb"',children:"class UserAccount\n  attr_accessor :username: String\n  attr_accessor :email: String?\n  attr_accessor :phone: String?\n  attr_reader :last_login: Time?\n\n  def initialize(username: String)\n    @username = username\n    @email = nil\n    @phone = nil\n    @last_login = nil\n    @verified: Boolean = false\n  end\n\n  def verify(): void\n    @verified = true\n  end\n\n  def is_verified(): Boolean\n    @verified\n  end\n\n  def update_contact(email: String?, phone: String?): void\n    @email = email\n    @phone = phone\n  end\n\n  def has_contact_info?(): Boolean\n    @email != nil || @phone != nil\n  end\n\n  def record_login(): void\n    @last_login = Time.now\n  end\n\n  def days_since_login(): Integer?\n    if @last_login\n      ((Time.now - @last_login) / 86400).to_i\n    else\n      nil\n    end\n  end\nend\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u30af\u30e9\u30b9\u5909\u6570",children:"\u30af\u30e9\u30b9\u5909\u6570"}),"\n",(0,a.jsxs)(e.p,{children:["\u30af\u30e9\u30b9\u5909\u6570\u306f\u30af\u30e9\u30b9\u306e\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u5171\u6709\u3055\u308c\u307e\u3059\u3002",(0,a.jsx)(e.code,{children:"@@"})," \u3067\u578b\u3092\u4ed8\u3051\u307e\u3059\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="class_vars.trb"',children:"class Counter\n  def initialize()\n    @@count: Integer ||= 0\n    @@count += 1\n  end\n\n  def self.total_count(): Integer\n    @@count || 0\n  end\n\n  def self.reset_count(): void\n    @@count = 0\n  end\nend\n\n# \u4f7f\u7528\u6cd5\nc1 = Counter.new\nc2 = Counter.new\nc3 = Counter.new\nputs Counter.total_count()  # 3\nCounter.reset_count()\nputs Counter.total_count()  # 0\n"})}),"\n",(0,a.jsx)(e.h3,{id:"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u4ed8\u304d\u30af\u30e9\u30b9\u5909\u6570",children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u4ed8\u304d\u30af\u30e9\u30b9\u5909\u6570"}),"\n",(0,a.jsx)(e.p,{children:"\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u30af\u30e9\u30b9\u5909\u6570\u3092\u521d\u671f\u5316\u3057\u307e\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="class_var_defaults.trb"',children:'class Configuration\n  @@database_url: String = "localhost"\n  @@max_connections: Integer = 10\n  @@debug_mode: Boolean = false\n  @@allowed_hosts: Array<String> = []\n\n  def self.database_url(): String\n    @@database_url\n  end\n\n  def self.database_url=(url: String): void\n    @@database_url = url\n  end\n\n  def self.max_connections(): Integer\n    @@max_connections\n  end\n\n  def self.max_connections=(n: Integer): void\n    @@max_connections = n\n  end\n\n  def self.enable_debug(): void\n    @@debug_mode = true\n  end\n\n  def self.debug_enabled?(): Boolean\n    @@debug_mode\n  end\n\n  def self.add_allowed_host(host: String): void\n    @@allowed_hosts.push(host) unless @@allowed_hosts.include?(host)\n  end\n\n  def self.allowed_hosts(): Array<String>\n    @@allowed_hosts\n  end\nend\n\n# \u4f7f\u7528\u6cd5\nConfiguration.database_url = "postgresql://localhost/mydb"\nConfiguration.max_connections = 50\nConfiguration.enable_debug()\nConfiguration.add_allowed_host("example.com")\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570-vs-\u30af\u30e9\u30b9\u5909\u6570",children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 vs \u30af\u30e9\u30b9\u5909\u6570"}),"\n",(0,a.jsx)(e.p,{children:"\u305d\u308c\u305e\u308c\u3092\u3044\u3064\u4f7f\u7528\u3059\u308b\u304b\u3092\u7406\u89e3\u3059\u308b\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="comparison.trb"',children:'class BankAccount\n  # \u30af\u30e9\u30b9\u5909\u6570 - \u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u5171\u6709\n  @@total_accounts: Integer = 0\n  @@total_balance: Float = 0.0\n\n  # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 - \u5404\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u56fa\u6709\n  attr_reader :account_number: Integer\n  attr_accessor :balance: Float\n  attr_accessor :owner: String\n\n  def initialize(account_number: Integer, owner: String, initial_balance: Float)\n    @account_number = account_number\n    @owner = owner\n    @balance = initial_balance\n\n    # \u30af\u30e9\u30b9\u5909\u6570\u3092\u66f4\u65b0\n    @@total_accounts += 1\n    @@total_balance += initial_balance\n  end\n\n  def deposit(amount: Float): void\n    @balance += amount\n    @@total_balance += amount\n  end\n\n  def withdraw(amount: Float): Boolean\n    if amount <= @balance\n      @balance -= amount\n      @@total_balance -= amount\n      true\n    else\n      false\n    end\n  end\n\n  # \u30af\u30e9\u30b9\u5909\u6570\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\n  def self.total_accounts(): Integer\n    @@total_accounts\n  end\n\n  def self.total_balance(): Float\n    @@total_balance\n  end\n\n  def self.average_balance(): Float\n    if @@total_accounts > 0\n      @@total_balance / @@total_accounts\n    else\n      0.0\n    end\n  end\nend\n\n# \u4f7f\u7528\u6cd5\naccount1 = BankAccount.new(1001, "Alice", 1000.0)\naccount2 = BankAccount.new(1002, "Bob", 2000.0)\n\n# \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u56fa\u6709\u306e\u30c7\u30fc\u30bf\nputs account1.balance  # 1000.0\nputs account2.balance  # 2000.0\n\n# \u30af\u30e9\u30b9\u30ec\u30d9\u30eb\u306e\u30c7\u30fc\u30bf\nputs BankAccount.total_accounts()   # 2\nputs BankAccount.total_balance()    # 3000.0\nputs BankAccount.average_balance()  # 1500.0\n\naccount1.deposit(500.0)\nputs BankAccount.total_balance()    # 3500.0\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u8907\u96d1\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u578b",children:"\u8907\u96d1\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u578b"}),"\n",(0,a.jsx)(e.p,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306f\u4efb\u610f\u306e\u578b\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="complex_types.trb"',children:"class DataStore\n  def initialize()\n    @strings: Array<String> = []\n    @numbers: Array<Integer> = []\n    @mappings: Hash<String, Integer> = {}\n    @nested: Hash<String, Array<String>> = {}\n    @optional_data: String? = nil\n    @union_data: String | Integer | nil = nil\n  end\n\n  def add_string(s: String): void\n    @strings.push(s)\n  end\n\n  def add_number(n: Integer): void\n    @numbers.push(n)\n  end\n\n  def add_mapping(key: String, value: Integer): void\n    @mappings[key] = value\n  end\n\n  def add_nested(key: String, values: Array<String>): void\n    @nested[key] = values\n  end\n\n  def set_optional(data: String?): void\n    @optional_data = data\n  end\n\n  def set_union(data: String | Integer): void\n    @union_data = data\n  end\n\n  def get_strings(): Array<String>\n    @strings\n  end\n\n  def get_mapping(key: String): Integer?\n    @mappings[key]\n  end\nend\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u5b9f\u8df5\u4f8b-\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3",children:"\u5b9f\u8df5\u4f8b: \u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3"}),"\n",(0,a.jsx)(e.p,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3068\u30af\u30e9\u30b9\u5909\u6570\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u5b9f\u969b\u306e\u4f8b\u3067\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="user_session.trb"',children:'class UserSession\n  # \u30af\u30e9\u30b9\u5909\u6570 - \u3059\u3079\u3066\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u8ffd\u8de1\n  @@active_sessions: Hash<String, UserSession> = {}\n  @@session_count: Integer = 0\n\n  # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 - \u30bb\u30c3\u30b7\u30e7\u30f3\u56fa\u6709\u306e\u30c7\u30fc\u30bf\n  attr_reader :session_id: String\n  attr_reader :user_id: Integer\n  attr_reader :created_at: Time\n  attr_accessor :last_activity: Time\n\n  def initialize(session_id: String, user_id: Integer)\n    @session_id = session_id\n    @user_id = user_id\n    @created_at = Time.now\n    @last_activity = Time.now\n    @data: Hash<String, String | Integer | Boolean> = {}\n    @expired: Boolean = false\n\n    # \u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u767b\u9332\n    @@active_sessions[session_id] = self\n    @@session_count += 1\n  end\n\n  def set_data(key: String, value: String | Integer | Boolean): void\n    @data[key] = value\n    @last_activity = Time.now\n  end\n\n  def get_data(key: String): String | Integer | Boolean | nil\n    @last_activity = Time.now\n    @data[key]\n  end\n\n  def expire(): void\n    @expired = true\n    @@active_sessions.delete(@session_id)\n  end\n\n  def is_expired?(): Boolean\n    @expired\n  end\n\n  def age_in_minutes(): Integer\n    ((Time.now - @created_at) / 60).to_i\n  end\n\n  def idle_time_in_minutes(): Integer\n    ((Time.now - @last_activity) / 60).to_i\n  end\n\n  # \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\n  def self.find(session_id: String): UserSession?\n    @@active_sessions[session_id]\n  end\n\n  def self.active_session_count(): Integer\n    @@active_sessions.length\n  end\n\n  def self.total_sessions_created(): Integer\n    @@session_count\n  end\n\n  def self.expire_old_sessions(max_age_minutes: Integer): Integer\n    expired_count = 0\n    @@active_sessions.each do |id, session|\n      if session.age_in_minutes() > max_age_minutes\n        session.expire()\n        expired_count += 1\n      end\n    end\n    expired_count\n  end\n\n  def self.expire_idle_sessions(max_idle_minutes: Integer): Integer\n    expired_count = 0\n    @@active_sessions.each do |id, session|\n      if session.idle_time_in_minutes() > max_idle_minutes\n        session.expire()\n        expired_count += 1\n      end\n    end\n    expired_count\n  end\nend\n\n# \u4f7f\u7528\u6cd5\nsession1 = UserSession.new("sess_123", 1)\nsession1.set_data("theme", "dark")\nsession1.set_data("notifications", true)\n\nsession2 = UserSession.new("sess_456", 2)\nsession2.set_data("language", "en")\n\nputs UserSession.active_session_count()     # 2\nputs UserSession.total_sessions_created()   # 2\n\nfound = UserSession.find("sess_123")\nif found\n  puts found.get_data("theme")  # "dark"\nend\n\n# \u53e4\u3044\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u671f\u9650\u5207\u308c\u306b\u3059\u308b\nUserSession.expire_old_sessions(60)  # 60\u5206\u3088\u308a\u53e4\u3044\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u671f\u9650\u5207\u308c\u306b\u3059\u308b\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u5b9f\u8df5\u4f8b-\u30ad\u30e3\u30c3\u30b7\u30e5\u30b7\u30b9\u30c6\u30e0",children:"\u5b9f\u8df5\u4f8b: \u30ad\u30e3\u30c3\u30b7\u30e5\u30b7\u30b9\u30c6\u30e0"}),"\n",(0,a.jsx)(e.p,{children:"\u30af\u30e9\u30b9\u5909\u6570\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u52b9\u679c\u7684\u306a\u4f7f\u7528\u3092\u793a\u3059\u5225\u306e\u4f8b\u3067\u3059\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="cache_system.trb"',children:'class Cache<T>\n  # \u30af\u30e9\u30b9\u5909\u6570 - \u5171\u6709\u7d71\u8a08\n  @@total_hits: Integer = 0\n  @@total_misses: Integer = 0\n  @@total_caches: Integer = 0\n\n  # \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570 - \u30ad\u30e3\u30c3\u30b7\u30e5\u56fa\u6709\u306e\u30c7\u30fc\u30bf\n  attr_reader :name: String\n  attr_reader :max_size: Integer\n\n  def initialize(name: String, max_size: Integer = 100)\n    @name = name\n    @max_size = max_size\n    @data: Hash<String, T> = {}\n    @access_times: Hash<String, Time> = {}\n    @hits: Integer = 0\n    @misses: Integer = 0\n\n    @@total_caches += 1\n  end\n\n  def get(key: String): T?\n    if @data.key?(key)\n      @hits += 1\n      @@total_hits += 1\n      @access_times[key] = Time.now\n      @data[key]\n    else\n      @misses += 1\n      @@total_misses += 1\n      nil\n    end\n  end\n\n  def set(key: String, value: T): void\n    # \u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u3044\u3063\u3071\u3044\u306e\u5834\u5408\u3001\u6700\u3082\u53e4\u3044\u30a8\u30f3\u30c8\u30ea\u3092\u524a\u9664\n    if @data.length >= @max_size && !@data.key?(key)\n      evict_oldest()\n    end\n\n    @data[key] = value\n    @access_times[key] = Time.now\n  end\n\n  def delete(key: String): void\n    @data.delete(key)\n    @access_times.delete(key)\n  end\n\n  def clear(): void\n    @data.clear()\n    @access_times.clear()\n  end\n\n  def size(): Integer\n    @data.length\n  end\n\n  def hit_rate(): Float\n    total = @hits + @misses\n    total > 0 ? (@hits.to_f / total.to_f) * 100 : 0.0\n  end\n\n  def keys(): Array<String>\n    @data.keys\n  end\n\n  private\n\n  def evict_oldest(): void\n    oldest_key = @access_times.min_by { |k, v| v }&.first\n    if oldest_key\n      delete(oldest_key)\n    end\n  end\n\n  # \u30b0\u30ed\u30fc\u30d0\u30eb\u7d71\u8a08\u7528\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\n  def self.global_hit_rate(): Float\n    total = @@total_hits + @@total_misses\n    total > 0 ? (@@total_hits.to_f / total.to_f) * 100 : 0.0\n  end\n\n  def self.total_hits(): Integer\n    @@total_hits\n  end\n\n  def self.total_misses(): Integer\n    @@total_misses\n  end\n\n  def self.total_caches(): Integer\n    @@total_caches\n  end\n\n  def self.reset_statistics(): void\n    @@total_hits = 0\n    @@total_misses = 0\n  end\nend\n\n# \u4f7f\u7528\u6cd5\nuser_cache = Cache<User>.new("users", 50)\nproduct_cache = Cache<Product>.new("products", 100)\n\n# \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f7f\u7528\nuser_cache.set("user_1", User.new("Alice"))\nuser = user_cache.get("user_1")  # Hit\nuser_cache.get("user_2")         # Miss\n\nproduct_cache.set("prod_1", Product.new("Laptop"))\nproduct = product_cache.get("prod_1")  # Hit\n\n# \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u56fa\u6709\u306e\u7d71\u8a08\nputs user_cache.hit_rate()     # 50.0 (1 hit, 1 miss)\nputs product_cache.hit_rate()  # 100.0 (1 hit, 0 misses)\n\n# \u30b0\u30ed\u30fc\u30d0\u30eb\u7d71\u8a08\nputs Cache.global_hit_rate()   # 66.67 (2 hits, 1 miss)\nputs Cache.total_caches()      # 2\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"attr_accessor/attr_reader/attr_writer\u3092\u4f7f\u7528\u3059\u308b"}),": \u3053\u308c\u3089\u306f\u578b\u4ed8\u304d\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u6700\u3082\u30af\u30ea\u30fc\u30f3\u306a\u65b9\u6cd5\u3067\u3059\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u8907\u96d1\u306a\u5909\u6570\u306b\u660e\u793a\u7684\u306b\u578b\u3092\u4ed8\u3051\u308b"}),": \u914d\u5217\u3001\u30cf\u30c3\u30b7\u30e5\u3001\u305d\u306e\u4ed6\u306e\u8907\u96d1\u306a\u578b\u3092\u521d\u671f\u5316\u3059\u308b\u3068\u304d\u306f\u3001\u5e38\u306b\u660e\u793a\u7684\u306a\u578b\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"nilable\u578b\u3092\u9069\u5207\u306b\u4f7f\u7528\u3059\u308b"}),": \u5909\u6570\u304c\u672c\u5f53\u306bnil\u306b\u306a\u308a\u5f97\u308b\u5834\u5408\u306b\u306e\u307fnilable\uff08",(0,a.jsx)(e.code,{children:"?"}),"\uff09\u3068\u3057\u3066\u30de\u30fc\u30af\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u521d\u671f\u5316\u3059\u308b"}),": \u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092 ",(0,a.jsx)(e.code,{children:"initialize"})," \u3067\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u5171\u6709\u72b6\u614b\u306b\u306f\u30af\u30e9\u30b9\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b"}),": \u30af\u30e9\u30b9\u5909\u6570\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9593\u3067\u5171\u6709\u3055\u308c\u308b\u30ab\u30a6\u30f3\u30bf\u30fc\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3001\u8a2d\u5b9a\u306b\u6700\u9069\u3067\u3059\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u30a2\u30af\u30bb\u30b5\u30e1\u30bd\u30c3\u30c9\u3092\u63d0\u4f9b\u3059\u308b"}),": \u30af\u30e9\u30b9\u5916\u90e8\u304b\u3089\u30af\u30e9\u30b9\u5909\u6570\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u305b\u305a\u3001\u4ee3\u308f\u308a\u306b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3",children:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,a.jsx)(e.h3,{id:"\u9045\u5ef6\u521d\u671f\u5316",children:"\u9045\u5ef6\u521d\u671f\u5316"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="lazy_init.trb"',children:'class Report\n  attr_reader :name: String\n\n  def initialize(name: String)\n    @name = name\n    @data: Array<String>? = nil\n  end\n\n  def data(): Array<String>\n    @data ||= load_data()\n  end\n\n  private\n\n  def load_data(): Array<String>\n    # \u9ad8\u30b3\u30b9\u30c8\u306a\u64cd\u4f5c\n    ["Item 1", "Item 2", "Item 3"]\n  end\nend\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u30ec\u30b8\u30b9\u30c8\u30ea\u30d1\u30bf\u30fc\u30f3",children:"\u30ec\u30b8\u30b9\u30c8\u30ea\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="registry.trb"',children:"class Plugin\n  @@plugins: Hash<String, Plugin> = {}\n\n  attr_reader :name: String\n\n  def initialize(name: String)\n    @name = name\n    @@plugins[name] = self\n  end\n\n  def self.find(name: String): Plugin?\n    @@plugins[name]\n  end\n\n  def self.all(): Array<Plugin>\n    @@plugins.values\n  end\n\n  def self.count(): Integer\n    @@plugins.length\n  end\nend\n"})}),"\n",(0,a.jsx)(e.h3,{id:"\u30e1\u30e2\u5316",children:"\u30e1\u30e2\u5316"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-trb",metastring:'title="memoization.trb"',children:'class Calculator\n  def initialize()\n    @cache: Hash<String, Integer> = {}\n  end\n\n  def fibonacci(n: Integer): Integer\n    key = "fib_#{n}"\n    return @cache[key] if @cache.key?(key)\n\n    result = if n <= 1\n      n\n    else\n      fibonacci(n - 1) + fibonacci(n - 2)\n    end\n\n    @cache[key] = result\n    result\n  end\nend\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,a.jsx)(e.p,{children:"T-Ruby\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3068\u30af\u30e9\u30b9\u5909\u6570\u306f\u3001\u578b\u5b89\u5168\u306a\u72b6\u614b\u7ba1\u7406\u3092\u63d0\u4f9b\u3057\u307e\u3059\uff1a"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570"}),"\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u56fa\u6709\u306e\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3057\u307e\u3059"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u30af\u30e9\u30b9\u5909\u6570"}),"\u306f\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u5171\u6709\u3055\u308c\u308b\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3057\u307e\u3059"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"attr_accessor/attr_reader/attr_writer"}),"\u306f\u578b\u4ed8\u304d\u30a2\u30af\u30bb\u30b5\u3092\u63d0\u4f9b\u3057\u307e\u3059"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u660e\u793a\u7684\u306a\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3"}),"\u306f\u8907\u96d1\u306a\u5909\u6570\u306e\u578b\u3092\u660e\u78ba\u306b\u3057\u307e\u3059"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Nilable\u578b"}),"\uff08",(0,a.jsx)(e.code,{children:"?"}),"\uff09\u306f\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u307e\u3059"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u9069\u5207\u306a\u5909\u6570\u306e\u578b\u4ed8\u3051\u306f\u3001\u30af\u30e9\u30b9\u3092\u4e88\u6e2c\u53ef\u80fd\u3067\u3001\u4fdd\u5b88\u3057\u3084\u3059\u304f\u3001\u30a8\u30e9\u30fc\u304c\u5c11\u306a\u304f\u3057\u307e\u3059\u3002\u516c\u958b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306b\u578b\u3092\u4ed8\u3051\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u3001\u5185\u90e8\u72b6\u614b\u3078\u3068\u9032\u3081\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002"})]})}function _(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}},6145(n,e,t){t.d(e,{R:()=>r,x:()=>d});var s=t(7140);const a={},i=s.createContext(a);function r(n){const e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);