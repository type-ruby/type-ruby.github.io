"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[3365],{304(e,n,r){r.d(n,{A:()=>l});r(7140);var s=r(9109),a=r(5656);function l({children:e,fallback:n}){return(0,s.A)()?(0,a.jsx)(a.Fragment,{children:e?.()}):n??null}},3366(e,n,r){r.r(n),r.d(n,{default:()=>W});var s=r(7140),a=r(5455),l=r(966),t=r(5015),i=r(304);const o="playground_es7I",d="header_tRbQ",c="subtitle_KLfx",u="container_tS08",p="panel_mskZ",m="panelHeader_licZ",g="panelTitle_fnkw",h="panelActions_kMKX",y="exampleSelect_zCyJ",b="compileButton_Ek8p",x="tabs_SUXD",j="tab_CWX0",f="tabActive_kQNP",T="tabError_MsEd",v="editorWrapper_acPh",_="filenameBar_io_Y",C="editor_jOh4",N="output_iH9E",S="outputCode_cHdv",k="errorList_Ju6v",A="errorItem_PBDF",w="noErrors_eJUK",I="footer_ldla",R="loading_teKl",E="compilerStatus_m_WZ",P="compilerStatusFallback_PIpt";var U=r(5656);const $={"hello-world":{name:(0,t.T)({id:"playground.examples.helloWorld",message:"Hello World"}),code:'# hello.trb\ndef greet(name: String): String\n  "Hello, #{name}!"\nend\n\nputs greet("World")'},"basic-types":{name:(0,t.T)({id:"playground.examples.basicTypes",message:"Basic Types"}),code:"# Basic type annotations\ndef add(a: Integer, b: Integer): Integer\n  a + b\nend\n\ndef concat(str1: String, str2: String): String\n  str1 + str2\nend\n\ndef is_valid(flag: Boolean): Boolean\n  !flag\nend\n\nresult = add(10, 20)\nputs result"},"union-types":{name:(0,t.T)({id:"playground.examples.unionTypes",message:"Union Types"}),code:"# Union types allow multiple types\ndef stringify(value: String | Integer | Float): String\n  value.to_s\nend\n\ndef find_user(id: Integer): User | nil\n  # Returns User or nil\n  nil\nend\n\n# Optional shorthand (same as T | nil)\ndef get_name(user: User?): String?\n  user&.name\nend"},generics:{name:(0,t.T)({id:"playground.examples.generics",message:"Generics"}),code:"# Generic functions\ndef first<T>(arr: Array<T>): T | nil\n  arr[0]\nend\n\ndef map<T, U>(arr: Array<T>, &block: (T) -> U): Array<U>\n  arr.map(&block)\nend\n\n# Generic class\nclass Box<T>\n  @value: T\n\n  def initialize(value: T): void\n    @value = value\n  end\n\n  def get: T\n    @value\n  end\nend\n\nbox = Box.new(42)\nputs box.get"},interfaces:{name:(0,t.T)({id:"playground.examples.interfaces",message:"Interfaces"}),code:'# Define an interface\ninterface Printable\n  def to_string: String\nend\n\ninterface Comparable<T>\n  def compare(other: T): Integer\nend\n\n# Implement interface\nclass User\n  implements Printable\n\n  @name: String\n  @age: Integer\n\n  def initialize(name: String, age: Integer): void\n    @name = name\n    @age = age\n  end\n\n  def to_string: String\n    "User(#{@name}, #{@age})"\n  end\nend'},classes:{name:(0,t.T)({id:"playground.examples.classes",message:"Classes"}),code:'# Class with type annotations\nclass Person\n  @name: String\n  @age: Integer\n  @@count: Integer = 0\n\n  def initialize(name: String, age: Integer): void\n    @name = name\n    @age = age\n    @@count += 1\n  end\n\n  def greet: String\n    "Hi, I\'m #{@name}"\n  end\n\n  def self.count: Integer\n    @@count\n  end\nend\n\nclass Employee < Person\n  @department: String\n\n  def initialize(name: String, age: Integer, dept: String): void\n    super(name, age)\n    @department = dept\n  end\nend'}};function B(){const[e,n]=(0,s.useState)($["hello-world"].code),[a,i]=(0,s.useState)("hello-world"),[R,B]=(0,s.useState)("ruby"),[W,H]=(0,s.useState)({ruby:(0,t.T)({id:"playground.output.clickToCompile",message:'# Click "Compile" to see output'}),rbs:(0,t.T)({id:"playground.output.clickToGenerateRbs",message:'# Click "Compile" to generate RBS'}),errors:[]}),[z,F]=(0,s.useState)(!1),[G,K]=(0,s.useState)("idle"),[L,M]=(0,s.useState)(""),[O,D]=(0,s.useState)(null),J=(0,s.useCallback)(async()=>{K("loading"),M("Ruby \ub7f0\ud0c0\uc784 \ub85c\ub4dc \uc911...");try{const{loadTRubyCompiler:e}=await r.e(4211).then(r.bind(r,4211)),n=await e(e=>{let n=e.message;e.retryCount&&e.retryCount>0&&(n=`${e.message} (\uc7ac\uc2dc\ub3c4 ${e.retryCount}/${e.maxRetries})`),M(n)});return K("ready"),D(n),n}catch(e){throw console.error("WASM compiler failed to load:",e),K("error"),M(e instanceof Error?e.message:"\ucef4\ud30c\uc77c\ub7ec \ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),e}},[]),X=(0,s.useCallback)(e=>{const r=e.target.value;i(r),n($[r].code)},[]),Z=(0,s.useCallback)(async()=>{F(!0);try{let n=O;n||(n=await J());const r=await n.compile(e);H({ruby:r.ruby,rbs:r.rbs,errors:r.errors}),r.errors.length>0?B("errors"):B("ruby")}catch(n){H({ruby:"",rbs:"",errors:[`Compilation error: ${n}`]}),B("errors")}finally{F(!1)}},[e,O,J]);(0,s.useEffect)(()=>()=>{r.e(6592).then(r.bind(r,4211)).then(({cleanupCompiler:e})=>{e()}).catch(()=>{})},[]);return(0,U.jsxs)("div",{className:o,children:[(0,U.jsxs)("div",{className:d,children:[(0,U.jsx)(l.A,{as:"h1",children:(0,U.jsx)(t.A,{id:"playground.title",children:"Playground"})}),(0,U.jsx)("p",{className:c,children:(0,U.jsx)(t.A,{id:"playground.subtitle",children:"Write T-Ruby code and see the compiled output in real-time."})}),"ready"===G&&(0,U.jsx)("span",{className:E,children:(0,U.jsx)(t.A,{id:"playground.status.wasmReady",children:"WASM Compiler Ready"})}),"error"===G&&(0,U.jsx)("span",{className:P,children:"Compiler Error"})]}),(0,U.jsxs)("div",{className:u,children:[(0,U.jsxs)("div",{className:p,children:[(0,U.jsxs)("div",{className:m,children:[(0,U.jsx)("span",{className:g,children:(0,U.jsx)(t.A,{id:"playground.input.title",children:"Input"})}),(0,U.jsxs)("div",{className:h,children:[(0,U.jsx)("select",{value:a,onChange:X,className:y,children:Object.entries($).map(([e,{name:n}])=>(0,U.jsx)("option",{value:e,children:n},e))}),(0,U.jsx)("button",{onClick:Z,disabled:z||"loading"===G,className:b,children:"loading"===G?L||"Loading...":z?(0,t.T)({id:"playground.compile.compiling",message:"Compiling..."}):(0,t.T)({id:"playground.compile.button",message:"Compile"})})]})]}),(0,U.jsxs)("div",{className:v,children:[(0,U.jsx)("div",{className:_,children:(0,U.jsx)("span",{children:(0,U.jsx)(t.A,{id:"playground.input.filename",children:"example.trb"})})}),(0,U.jsx)("textarea",{value:e,onChange:e=>n(e.target.value),className:C,spellCheck:!1,placeholder:(0,t.T)({id:"playground.input.placeholder",message:"Write your T-Ruby code here..."})})]})]}),(0,U.jsxs)("div",{className:p,children:[(0,U.jsxs)("div",{className:m,children:[(0,U.jsx)("span",{className:g,children:(0,U.jsx)(t.A,{id:"playground.output.title",children:"Output"})}),(0,U.jsxs)("div",{className:x,children:[(0,U.jsx)("button",{className:`${j} ${"ruby"===R?f:""}`,onClick:()=>B("ruby"),children:(0,U.jsx)(t.A,{id:"playground.output.ruby",children:".rb"})}),(0,U.jsx)("button",{className:`${j} ${"rbs"===R?f:""}`,onClick:()=>B("rbs"),children:(0,U.jsx)(t.A,{id:"playground.output.rbs",children:".rbs"})}),(0,U.jsxs)("button",{className:`${j} ${"errors"===R?f:""} ${W.errors.length>0?T:""}`,onClick:()=>B("errors"),children:[(0,U.jsx)(t.A,{id:"playground.output.errors",children:"Errors"})," ",W.errors.length>0&&`(${W.errors.length})`]})]})]}),(0,U.jsxs)("div",{className:v,children:[(0,U.jsx)("div",{className:_,children:(0,U.jsxs)("span",{children:["ruby"===R&&"example.rb","rbs"===R&&"example.rbs","errors"===R&&(0,U.jsx)(t.A,{id:"playground.output.compilationErrors",children:"Compilation Errors"})]})}),(0,U.jsx)("div",{className:N,children:"errors"===R?W.errors.length>0?(0,U.jsx)("ul",{className:k,children:W.errors.map((e,n)=>(0,U.jsx)("li",{className:A,children:e},n))}):(0,U.jsx)("p",{className:w,children:(0,U.jsx)(t.A,{id:"playground.output.noErrors",children:"No errors"})}):(0,U.jsx)("pre",{className:S,children:(0,U.jsx)("code",{children:"ruby"===R?W.ruby:W.rbs})})})]})]})]}),(0,U.jsx)("div",{className:I,children:(0,U.jsx)("p",{children:"error"===G?(0,U.jsx)("strong",{style:{color:"var(--ifm-color-danger)"},children:L||"Failed to load compiler. Please try refreshing the page."}):(0,U.jsx)(t.A,{id:"playground.footer.wasmNote",children:"Powered by ruby.wasm - Running T-Ruby compiler directly in your browser."})})})]})}function W(){return(0,U.jsx)(a.A,{title:(0,t.T)({id:"playground.layout.title",message:"Playground"}),description:(0,t.T)({id:"playground.layout.description",message:"Try T-Ruby in your browser"}),children:(0,U.jsx)(i.A,{fallback:(0,U.jsx)("div",{className:R,children:"Loading playground..."}),children:()=>(0,U.jsx)(B,{})})})}}}]);