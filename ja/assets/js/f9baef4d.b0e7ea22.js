"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[6758],{4684(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"learn/functions/blocks-procs-lambdas","title":"\u30d6\u30ed\u30c3\u30af\u3001Proc & \u30e9\u30e0\u30c0","description":"\u30d6\u30ed\u30c3\u30af\u3001proc\u3001\u30e9\u30e0\u30c0\u5f0f\u306e\u578b\u4ed8\u3051","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/learn/functions/blocks-procs-lambdas.md","sourceDirName":"learn/functions","slug":"/learn/functions/blocks-procs-lambdas","permalink":"/ja/docs/learn/functions/blocks-procs-lambdas","draft":false,"unlisted":false,"editUrl":"https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/learn/functions/blocks-procs-lambdas.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\u30d6\u30ed\u30c3\u30af\u3001Proc & \u30e9\u30e0\u30c0","description":"\u30d6\u30ed\u30c3\u30af\u3001proc\u3001\u30e9\u30e0\u30c0\u5f0f\u306e\u578b\u4ed8\u3051"},"sidebar":"docsSidebar","previous":{"title":"\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb & \u6b8b\u4f59\u30d1\u30e9\u30e1\u30fc\u30bf","permalink":"/ja/docs/learn/functions/optional-rest-parameters"},"next":{"title":"\u30af\u30e9\u30b9\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3","permalink":"/ja/docs/learn/classes/class-annotations"}}');var l=r(5656),s=r(6145);const i={sidebar_position:3,title:"\u30d6\u30ed\u30c3\u30af\u3001Proc & \u30e9\u30e0\u30c0",description:"\u30d6\u30ed\u30c3\u30af\u3001proc\u3001\u30e9\u30e0\u30c0\u5f0f\u306e\u578b\u4ed8\u3051"},c="\u30d6\u30ed\u30c3\u30af\u3001Proc & \u30e9\u30e0\u30c0",d={},a=[{value:"\u9055\u3044\u3092\u7406\u89e3\u3059\u308b",id:"\u9055\u3044\u3092\u7406\u89e3\u3059\u308b",level:2},{value:"\u30d6\u30ed\u30c3\u30af\u306e\u578b\u4ed8\u3051",id:"\u30d6\u30ed\u30c3\u30af\u306e\u578b\u4ed8\u3051",level:2},{value:"\u8907\u6570\u306e\u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf",id:"\u8907\u6570\u306e\u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf",level:2},{value:"\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30d6\u30ed\u30c3\u30af",id:"\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30d6\u30ed\u30c3\u30af",level:2},{value:"Proc\u578b",id:"proc\u578b",level:2},{value:"\u30e9\u30e0\u30c0\u578b",id:"\u30e9\u30e0\u30c0\u578b",level:2},{value:"\u9ad8\u968e\u95a2\u6570",id:"\u9ad8\u968e\u95a2\u6570",level:2},{value:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u3057\u306e\u30d6\u30ed\u30c3\u30af",id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u3057\u306e\u30d6\u30ed\u30c3\u30af",level:2},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af",level:2},{value:"\u5b9f\u8df5\u4f8b: \u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9",id:"\u5b9f\u8df5\u4f8b-\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9",level:2},{value:"\u5b9f\u8df5\u4f8b: \u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30d1\u30bf\u30fc\u30f3",id:"\u5b9f\u8df5\u4f8b-\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u5b9f\u8df5\u4f8b: \u95a2\u6570\u578b\u64cd\u4f5c",id:"\u5b9f\u8df5\u4f8b-\u95a2\u6570\u578b\u64cd\u4f5c",level:2},{value:"\u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u306e\u578b",id:"\u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u306e\u578b",level:2},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3",id:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30d1\u30bf\u30fc\u30f3",id:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c0\u30fc\u30d1\u30bf\u30fc\u30f3",id:"\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c0\u30fc\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u30a4\u30c6\u30ec\u30fc\u30bf\u30d1\u30bf\u30fc\u30f3",id:"\u30a4\u30c6\u30ec\u30fc\u30bf\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{DocsBadge:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("DocsBadge",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r,{}),"\n",(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u30d6\u30ed\u30c3\u30afproc--\u30e9\u30e0\u30c0",children:"\u30d6\u30ed\u30c3\u30af\u3001Proc & \u30e9\u30e0\u30c0"})}),"\n",(0,l.jsx)(n.p,{children:"\u30d6\u30ed\u30c3\u30af\u3001proc\u3001\u30e9\u30e0\u30c0\u306f\u3001\u5b9f\u884c\u53ef\u80fd\u306a\u30b3\u30fc\u30c9\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308bRuby\u306e\u91cd\u8981\u306a\u6a5f\u80fd\u3067\u3059\u3002T-Ruby\u306f\u3001Ruby\u306e\u67d4\u8edf\u6027\u3092\u4fdd\u3061\u306a\u304c\u3089\u578b\u5b89\u5168\u6027\u3092\u4fdd\u8a3c\u3059\u308b\u5f37\u529b\u306a\u578b\u30b7\u30b9\u30c6\u30e0\u3092\u3053\u308c\u3089\u306e\u69cb\u9020\u306b\u63d0\u4f9b\u3057\u307e\u3059\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u9055\u3044\u3092\u7406\u89e3\u3059\u308b",children:"\u9055\u3044\u3092\u7406\u89e3\u3059\u308b"}),"\n",(0,l.jsx)(n.p,{children:"\u578b\u4ed8\u3051\u306b\u5165\u308b\u524d\u306b\u30013\u3064\u306e\u6982\u5ff5\u3092\u660e\u78ba\u306b\u3057\u307e\u3057\u3087\u3046\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u30d6\u30ed\u30c3\u30af"}),": \u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3055\u308c\u308b\u533f\u540d\u30b3\u30fc\u30c9\uff08\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306f\u306a\u3044\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Proc"}),": \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u30e9\u30c3\u30d7\u3055\u308c\u305f\u30d6\u30ed\u30c3\u30af"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u30e9\u30e0\u30c0"}),": \u7570\u306a\u308b\u5f15\u6570\u51e6\u7406\u3092\u6301\u3064\u3088\u308a\u53b3\u5bc6\u306a\u5f62\u5f0f\u306eProc"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="basics.trb"',children:"# \u30d6\u30ed\u30c3\u30af - do...end \u307e\u305f\u306f {...} \u3067\u6e21\u3059\n[1, 2, 3].each do |n|\n  puts n\nend\n\n# Proc - Proc.new \u3067\u4f5c\u6210\nmy_proc: Proc<Integer, void> = Proc.new { |n| puts n }\nmy_proc.call(5)\n\n# \u30e9\u30e0\u30c0 - -> \u3067\u4f5c\u6210\nmy_lambda: Proc<Integer, void> = ->(n: Integer) { puts n }\nmy_lambda.call(10)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u30d6\u30ed\u30c3\u30af\u306e\u578b\u4ed8\u3051",children:"\u30d6\u30ed\u30c3\u30af\u306e\u578b\u4ed8\u3051"}),"\n",(0,l.jsxs)(n.p,{children:["\u30d6\u30ed\u30c3\u30af\u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u306f ",(0,l.jsx)(n.code,{children:"&block"})," \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002",(0,l.jsx)(n.code,{children:"Proc"})," \u3067\u578b\u3092\u6307\u5b9a\u3057\u307e\u3059\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="block_params.trb"',children:'def each_number(&block: Proc<Integer, void>): void\n  [1, 2, 3].each do |n|\n    block.call(n)\n  end\nend\n\ndef transform_strings(&block: Proc<String, String>): String[]\n  ["hello", "world"].map do |str|\n    block.call(str)\n  end\nend\n\n# \u30e1\u30bd\u30c3\u30c9\u306e\u4f7f\u7528\neach_number { |n| puts n * 2 }\n\nresult = transform_strings { |s| s.upcase }\n# result: ["HELLO", "WORLD"]\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Proc<Input, Output>"})," \u69cb\u6587\u306f\u4ee5\u4e0b\u3092\u6307\u5b9a\u3057\u307e\u3059\uff1a"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6700\u521d\u306e\u578b"}),": \u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u578b"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"2\u756a\u76ee\u306e\u578b"}),": \u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u306e\u578b"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8907\u6570\u306e\u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf",children:"\u8907\u6570\u306e\u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,l.jsx)(n.p,{children:"\u30d6\u30ed\u30c3\u30af\u306f\u8907\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="multiple_params.trb"',children:'def each_pair(&block: Proc<[String, Integer], void>): void\n  pairs = [["Alice", 30], ["Bob", 25], ["Charlie", 35]]\n  pairs.each do |name, age|\n    block.call(name, age)\n  end\nend\n\ndef transform_hash(&block: Proc<[String, Integer], String>): String[]\n  { "a" => 1, "b" => 2, "c" => 3 }.map do |key, value|\n    block.call(key, value)\n  end\nend\n\n# \u8907\u6570\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u4f7f\u7528\neach_pair do |name, age|\n  puts "#{name} is #{age} years old"\nend\n\nresults = transform_hash { |k, v| "#{k}=#{v}" }\n# results: ["a=1", "b=2", "c=3"]\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u8907\u6570\u306e\u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306f\u30bf\u30d7\u30eb\u69cb\u6587 ",(0,l.jsx)(n.code,{children:"[Type1, Type2]"})," \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30d6\u30ed\u30c3\u30af",children:"\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30d6\u30ed\u30c3\u30af"}),"\n",(0,l.jsx)(n.p,{children:"\u4e00\u90e8\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u30d6\u30ed\u30c3\u30af\u306e\u6709\u7121\u306b\u304b\u304b\u308f\u3089\u305a\u52d5\u4f5c\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="optional_blocks.trb"',children:"def process_items(items: Integer[], &block: Proc<Integer, Integer>?): Integer[]\n  if block\n    items.map { |item| block.call(item) }\n  else\n    items  # \u5909\u66f4\u306a\u3057\u3067items\u3092\u8fd4\u3059\n  end\nend\n\n# \u30d6\u30ed\u30c3\u30af\u3042\u308a\ndoubled = process_items([1, 2, 3]) { |n| n * 2 }\n# doubled: [2, 4, 6]\n\n# \u30d6\u30ed\u30c3\u30af\u306a\u3057\nunchanged = process_items([1, 2, 3])\n# unchanged: [1, 2, 3]\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"?"})," \u306f\u30d6\u30ed\u30c3\u30af\u3092\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\uff08nilable\uff09\u306b\u3057\u307e\u3059\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"proc\u578b",children:"Proc\u578b"}),"\n",(0,l.jsx)(n.p,{children:"Proc\u306f\u4fdd\u5b58\u3057\u3066\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u30d5\u30a1\u30fc\u30b9\u30c8\u30af\u30e9\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="procs.trb"',children:'# proc\u578b\u306e\u5b9a\u7fa9\nadder: Proc<Integer, Integer> = Proc.new { |n| n + 10 }\ngreeter: Proc<String, String> = Proc.new { |name| "Hello, #{name}!" }\nvalidator: Proc<String, Boolean> = Proc.new { |email| email.include?("@") }\n\n# proc\u306e\u4f7f\u7528\nresult1 = adder.call(5)        # 15\nresult2 = greeter.call("Alice") # "Hello, Alice!"\nresult3 = validator.call("test@example.com")  # true\n\n# Proc\u306f\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u305b\u308b\ndef apply_to_all(numbers: Integer[], operation: Proc<Integer, Integer>): Integer[]\n  numbers.map { |n| operation.call(n) }\nend\n\ndoubled = apply_to_all([1, 2, 3], Proc.new { |n| n * 2 })\n# doubled: [2, 4, 6]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u30e9\u30e0\u30c0\u578b",children:"\u30e9\u30e0\u30c0\u578b"}),"\n",(0,l.jsx)(n.p,{children:"\u30e9\u30e0\u30c0\u306fProc\u3068\u540c\u3058\u578b\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u6301\u3061\u307e\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="lambdas.trb"',children:'# \u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u4ed8\u304d\u30e9\u30e0\u30c0\nadd_ten: Proc<Integer, Integer> = ->(n: Integer) { n + 10 }\nmultiply: Proc<[Integer, Integer], Integer> = ->(a: Integer, b: Integer) { a * b }\nformat_user: Proc<User, String> = ->(user: User) { "#{user.name} (#{user.email})" }\n\n# \u30e9\u30e0\u30c0\u306e\u4f7f\u7528\nsum = add_ten.call(5)              # 15\nproduct = multiply.call(3, 4)       # 12\nformatted = format_user.call(user)  # "Alice (alice@example.com)"\n\n# \u30e9\u30e0\u30c0\u306f\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u305b\u308b\ndef filter_users(users: User[], predicate: Proc<User, Boolean>): User[]\n  users.select { |user| predicate.call(user) }\nend\n\nis_admin: Proc<User, Boolean> = ->(user: User) { user.role == "admin" }\nadmins = filter_users(all_users, is_admin)\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u9ad8\u968e\u95a2\u6570",children:"\u9ad8\u968e\u95a2\u6570"}),"\n",(0,l.jsx)(n.p,{children:"proc\u3084\u30e9\u30e0\u30c0\u3092\u8fd4\u3059\u95a2\u6570\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="higher_order.trb"',children:'def create_multiplier(factor: Integer): Proc<Integer, Integer>\n  ->(n: Integer) { n * factor }\nend\n\ndef create_formatter(prefix: String): Proc<String, String>\n  ->(text: String) { "#{prefix}: #{text}" }\nend\n\ndef create_validator(min_length: Integer): Proc<String, Boolean>\n  ->(text: String) { text.length >= min_length }\nend\n\n# \u9ad8\u968e\u95a2\u6570\u306e\u4f7f\u7528\ntimes_three = create_multiplier(3)\ntimes_three.call(4)  # 12\n\nerror_formatter = create_formatter("ERROR")\nerror_formatter.call("File not found")  # "ERROR: File not found"\n\npassword_validator = create_validator(8)\npassword_validator.call("secret")   # false\npassword_validator.call("secret123") # true\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u3057\u306e\u30d6\u30ed\u30c3\u30af",children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u3057\u306e\u30d6\u30ed\u30c3\u30af"}),"\n",(0,l.jsx)(n.p,{children:"\u4e00\u90e8\u306e\u30d6\u30ed\u30c3\u30af\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308a\u307e\u305b\u3093\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="no_params.trb"',children:'def execute(&block: Proc<[], void>): void\n  puts "Before execution"\n  block.call\n  puts "After execution"\nend\n\ndef run_if_true(condition: Boolean, &block: Proc<[], String>): String?\n  if condition\n    block.call\n  else\n    nil\n  end\nend\n\n# \u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u3057\u306e\u30d6\u30ed\u30c3\u30af\u306e\u4f7f\u7528\nexecute do\n  puts "Executing task"\nend\n\nresult = run_if_true(true) do\n  "Task completed"\nend\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u3089\u306a\u3044\u30d6\u30ed\u30c3\u30af\u306b\u306f ",(0,l.jsx)(n.code,{children:"Proc<[], ReturnType>"})," \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af"}),"\n",(0,l.jsx)(n.p,{children:"\u30d6\u30ed\u30c3\u30af\u306f\u578b\u60c5\u5831\u3092\u4fdd\u6301\u3059\u308b\u305f\u3081\u306b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306b\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="generic_blocks.trb"',children:"def map<T, U>(array: T[], &block: Proc<T, U>): U[]\n  array.map { |item| block.call(item) }\nend\n\ndef filter<T>(array: T[], &block: Proc<T, Boolean>): T[]\n  array.select { |item| block.call(item) }\nend\n\ndef reduce<T, U>(array: T[], initial: U, &block: Proc<[U, T], U>): U\n  array.reduce(initial) { |acc, item| block.call(acc, item) }\nend\n\n# \u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af\u3092\u901a\u3058\u3066\u578b\u304c\u4fdd\u6301\u3055\u308c\u308b\nnumbers = [1, 2, 3, 4, 5]\nstrings = map(numbers) { |n| n.to_s }  # String[]\nevens = filter(numbers) { |n| n.even? }  # Integer[]\nsum = reduce(numbers, 0) { |acc, n| acc + n }  # Integer\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u5b9f\u8df5\u4f8b-\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9",children:"\u5b9f\u8df5\u4f8b: \u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9"}),"\n",(0,l.jsx)(n.p,{children:"\u30a4\u30d9\u30f3\u30c8\u51e6\u7406\u306b\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3059\u308b\u5b9f\u969b\u306e\u4f8b\u3067\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="event_handler.trb"',children:'class EventEmitter<T>\n  def initialize()\n    @listeners: Proc<T, void>[] = []\n  end\n\n  def on(&listener: Proc<T, void>): void\n    @listeners.push(listener)\n  end\n\n  def emit(event: T): void\n    @listeners.each { |listener| listener.call(event) }\n  end\n\n  def remove(&listener: Proc<T, void>): void\n    @listeners.delete(listener)\n  end\nend\n\n# \u30a4\u30d9\u30f3\u30c8\u30a8\u30df\u30c3\u30bf\u30fc\u306e\u4f7f\u7528\nclass UserEvent\n  attr_accessor :type: String\n  attr_accessor :user: User\n\n  def initialize(type: String, user: User)\n    @type = type\n    @user = user\n  end\nend\n\nuser_events = EventEmitter<UserEvent>.new\n\n# \u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306e\u767b\u9332\nuser_events.on do |event|\n  puts "User event: #{event.type} for #{event.user.name}"\nend\n\nuser_events.on do |event|\n  if event.type == "login"\n    log_login(event.user)\n  end\nend\n\n# \u30a4\u30d9\u30f3\u30c8\u306e\u767a\u706b\nuser_events.emit(UserEvent.new("login", current_user))\nuser_events.emit(UserEvent.new("logout", current_user))\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u5b9f\u8df5\u4f8b-\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30d1\u30bf\u30fc\u30f3",children:"\u5b9f\u8df5\u4f8b: \u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,l.jsx)(n.p,{children:"\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30c1\u30a7\u30fc\u30f3\u306bproc\u3092\u4f7f\u7528\u3059\u308b\u4f8b\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="middleware.trb"',children:'class Request\n  attr_accessor :path: String\n  attr_accessor :params: Hash<String, String>\n\n  def initialize(path: String, params: Hash<String, String>)\n    @path = path\n    @params = params\n  end\nend\n\nclass Response\n  attr_accessor :status: Integer\n  attr_accessor :body: String\n\n  def initialize(status: Integer, body: String)\n    @status = status\n    @body = body\n  end\nend\n\ntype Middleware = Proc<[Request, Proc<Request, Response>], Response>\n\nclass MiddlewareStack\n  def initialize()\n    @middlewares: Middleware[] = []\n  end\n\n  def use(middleware: Middleware): void\n    @middlewares.push(middleware)\n  end\n\n  def execute(request: Request, handler: Proc<Request, Response>): Response\n    chain = @middlewares.reverse.reduce(handler) do |next_handler, middleware|\n      ->(req: Request) { middleware.call(req, next_handler) }\n    end\n    chain.call(request)\n  end\nend\n\n# \u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u5b9a\u7fa9\nlogging_middleware: Middleware = ->(req: Request, next_handler: Proc<Request, Response>) {\n  puts "Request: #{req.path}"\n  response = next_handler.call(req)\n  puts "Response: #{response.status}"\n  response\n}\n\nauth_middleware: Middleware = ->(req: Request, next_handler: Proc<Request, Response>) {\n  if req.params["token"]\n    next_handler.call(req)\n  else\n    Response.new(401, "Unauthorized")\n  end\n}\n\n# \u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u30b9\u30bf\u30c3\u30af\u306e\u4f7f\u7528\nstack = MiddlewareStack.new\nstack.use(logging_middleware)\nstack.use(auth_middleware)\n\nhandler: Proc<Request, Response> = ->(req: Request) {\n  Response.new(200, "Hello, World!")\n}\n\nrequest = Request.new("/api/users", { "token" => "abc123" })\nresponse = stack.execute(request, handler)\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u5b9f\u8df5\u4f8b-\u95a2\u6570\u578b\u64cd\u4f5c",children:"\u5b9f\u8df5\u4f8b: \u95a2\u6570\u578b\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.p,{children:"\u95a2\u6570\u578b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u69cb\u7bc9\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="functional.trb"',children:'module Functional\n  def self.compose<A, B, C>(\n    f: Proc<B, C>,\n    g: Proc<A, B>\n  ): Proc<A, C>\n    ->(x: A) { f.call(g.call(x)) }\n  end\n\n  def self.curry<A, B, C>(\n    f: Proc<[A, B], C>\n  ): Proc<A, Proc<B, C>>\n    ->(a: A) { ->(b: B) { f.call(a, b) } }\n  end\n\n  def self.memoize<T, U>(f: Proc<T, U>): Proc<T, U>\n    cache: Hash<T, U> = {}\n    ->(arg: T) {\n      if cache.key?(arg)\n        cache[arg]\n      else\n        result = f.call(arg)\n        cache[arg] = result\n        result\n      end\n    }\n  end\nend\n\n# \u95a2\u6570\u578b\u64cd\u4f5c\u306e\u4f7f\u7528\nadd_one: Proc<Integer, Integer> = ->(n: Integer) { n + 1 }\nmultiply_two: Proc<Integer, Integer> = ->(n: Integer) { n * 2 }\n\n# \u95a2\u6570\u306e\u5408\u6210\nadd_then_multiply = Functional.compose(multiply_two, add_one)\nadd_then_multiply.call(5)  # (5 + 1) * 2 = 12\n\n# \u95a2\u6570\u306e\u30ab\u30ea\u30fc\u5316\nmultiply: Proc<[Integer, Integer], Integer> = ->(a: Integer, b: Integer) { a * b }\ncurried_multiply = Functional.curry(multiply)\ntimes_three = curried_multiply.call(3)\ntimes_three.call(4)  # 12\n\n# \u9ad8\u30b3\u30b9\u30c8\u306a\u64cd\u4f5c\u306e\u30e1\u30e2\u5316\nexpensive: Proc<Integer, Integer> = ->(n: Integer) {\n  puts "Computing..."\n  n * n\n}\nmemoized = Functional.memoize(expensive)\nmemoized.call(5)  # "Computing..."\u3092\u51fa\u529b\u3057\u300125\u3092\u8fd4\u3059\nmemoized.call(5)  # \u5373\u5ea7\u306b25\u3092\u8fd4\u3059\uff08\u30ad\u30e3\u30c3\u30b7\u30e5\u6e08\u307f\uff09\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u306e\u578b",children:"\u30d6\u30ed\u30c3\u30af\u306e\u623b\u308a\u5024\u306e\u578b"}),"\n",(0,l.jsx)(n.p,{children:"\u30d6\u30ed\u30c3\u30af\u304c\u4f55\u3092\u8fd4\u3059\u304b\u3092\u5177\u4f53\u7684\u306b\u6307\u5b9a\u3057\u307e\u3059\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="block_returns.trb"',children:'# \u30d6\u30ed\u30c3\u30af\u304c\u5024\u3092\u8fd4\u3059\ndef sum_transformed(numbers: Integer[], &block: Proc<Integer, Integer>): Integer\n  numbers.map { |n| block.call(n) }.sum\nend\n\n# \u30d6\u30ed\u30c3\u30af\u304c\u4f55\u3082\u8fd4\u3055\u306a\u3044 (void)\ndef each_with_index(&block: Proc<[String, Integer], void>): void\n  ["a", "b", "c"].each_with_index do |item, index|\n    block.call(item, index)\n  end\nend\n\n# \u30d6\u30ed\u30c3\u30af\u304cboolean\u3092\u8fd4\u3059\uff08\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u7528\uff09\ndef custom_select(items: String[], &predicate: Proc<String, Boolean>): String[]\n  items.select { |item| predicate.call(item) }\nend\n\n# \u7570\u306a\u308b\u623b\u308a\u5024\u306e\u578b\u306e\u4f7f\u7528\ntotal = sum_transformed([1, 2, 3]) { |n| n * n }  # 1 + 4 + 9 = 14\n\neach_with_index { |item, idx| puts "#{idx}: #{item}" }\n\nlong_strings = custom_select(["hi", "hello", "hey"]) { |s| s.length > 2 }\n# long_strings: ["hello"]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u30d6\u30ed\u30c3\u30af\u578b\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b"}),": \u5e38\u306b\u30d6\u30ed\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u671f\u5f85\u3055\u308c\u308b\u578b\u3092\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u53b3\u5bc6\u306a\u5f15\u6570\u30c1\u30a7\u30c3\u30af\u306b\u306f\u30e9\u30e0\u30c0\u3092\u4f7f\u7528\u3059\u308b"}),": \u30e9\u30e0\u30c0\u306f\u5f15\u6570\u306e\u6570\u3092\u5f37\u5236\u3057\u3001Proc\u306f\u3088\u308a\u5bdb\u5bb9\u3067\u3059\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u518d\u5229\u7528\u6027\u306e\u305f\u3081\u306b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af\u3092\u512a\u5148\u3059\u308b"}),": \u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af\u306f\u578b\u5b89\u5168\u6027\u3092\u7dad\u6301\u3057\u306a\u304c\u3089\u3069\u306e\u578b\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u4fdd\u5b58\u3055\u308c\u308b\u30d6\u30ed\u30c3\u30af\u306b\u306fProc\u578b\u3092\u4f7f\u7528\u3059\u308b"}),": \u5909\u6570\u3084\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306b\u30d6\u30ed\u30c3\u30af\u3092\u4fdd\u5b58\u3059\u308b\u5834\u5408\u3001Proc\u578b\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8907\u96d1\u306a\u30d6\u30ed\u30c3\u30af\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u6587\u66f8\u5316\u3059\u308b"}),": \u30d6\u30ed\u30c3\u30af\u304c\u591a\u304f\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308b\u5834\u5408\u3084\u8907\u96d1\u306a\u578b\u3092\u6301\u3064\u5834\u5408\u3001\u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u526f\u4f5c\u7528\u30d6\u30ed\u30c3\u30af\u306b\u306fvoid\u3092\u4f7f\u7528\u3059\u308b"}),": \u30d6\u30ed\u30c3\u30af\u304c\u526f\u4f5c\u7528\u306e\u307f\u306b\u4f7f\u7528\u3055\u308c\u308b\u5834\u5408\u3001\u623b\u308a\u5024\u306e\u578b\u3092void\u3068\u3057\u3066\u30de\u30fc\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3",children:"\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,l.jsx)(n.h3,{id:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30d1\u30bf\u30fc\u30f3",children:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="callbacks.trb"',children:'def fetch_data(url: String, on_success: Proc<String, void>, on_error: Proc<String, void>): void\n  begin\n    data = HTTP.get(url)\n    on_success.call(data)\n  rescue => e\n    on_error.call(e.message)\n  end\nend\n\nfetch_data(\n  "https://api.example.com/data",\n  ->(data: String) { puts "Success: #{data}" },\n  ->(error: String) { puts "Error: #{error}" }\n)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c0\u30fc\u30d1\u30bf\u30fc\u30f3",children:"\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30eb\u30c0\u30fc\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="builder_block.trb"',children:'class QueryBuilder\n  def initialize()\n    @conditions: String[] = []\n  end\n\n  def where(&block: Proc<QueryBuilder, void>): QueryBuilder\n    block.call(self)\n    self\n  end\n\n  def equals(field: String, value: String): void\n    @conditions.push("#{field} = \'#{value}\'")\n  end\n\n  def build(): String\n    "SELECT * FROM users WHERE #{@conditions.join(\' AND \')}"\n  end\nend\n\nquery = QueryBuilder.new\nquery.where do |q|\n  q.equals("name", "Alice")\n  q.equals("active", "true")\nend.build()\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u30a4\u30c6\u30ec\u30fc\u30bf\u30d1\u30bf\u30fc\u30f3",children:"\u30a4\u30c6\u30ec\u30fc\u30bf\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-trb",metastring:'title="iterator.trb"',children:'def times(n: Integer, &block: Proc<Integer, void>): void\n  (0...n).each { |i| block.call(i) }\nend\n\ndef until_true(&block: Proc<Integer, Boolean>): Integer\n  i = 0\n  while !block.call(i)\n    i += 1\n  end\n  i\nend\n\ntimes(5) { |i| puts "Iteration #{i}" }\n\nresult = until_true { |i| i > 10 }  # 11\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,l.jsx)(n.p,{children:"T-Ruby\u306e\u30d6\u30ed\u30c3\u30af\u3001Proc\u3001\u30e9\u30e0\u30c0\u306f\u3001\u578b\u5b89\u5168\u6027\u3092\u7dad\u6301\u3057\u306a\u304c\u3089\u5f37\u529b\u306a\u62bd\u8c61\u5316\u3092\u63d0\u4f9b\u3057\u307e\u3059\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u30d6\u30ed\u30c3\u30af"}),"\u306f ",(0,l.jsx)(n.code,{children:"&block: Proc<Input, Output>"})," \u3067\u578b\u4ed8\u3051\u3057\u307e\u3059"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8907\u6570\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\u306f\u30bf\u30d7\u30eb\u69cb\u6587\u3092\u4f7f\u7528\u3057\u307e\u3059: ",(0,l.jsx)(n.code,{children:"Proc<[Type1, Type2], Output>"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30d6\u30ed\u30c3\u30af"}),"\u306f ",(0,l.jsx)(n.code,{children:"Proc<Input, Output>?"})," \u3092\u4f7f\u7528\u3057\u307e\u3059"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d6\u30ed\u30c3\u30af"}),"\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u901a\u3058\u3066\u578b\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u9ad8\u968e\u95a2\u6570"}),"\u306f\u578b\u4ed8\u304dproc\u3092\u4f5c\u6210\u3057\u3066\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u9069\u5207\u306a\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001\u9759\u7684\u578b\u4ed8\u3051\u306e\u5b89\u5168\u6027\u3068\u3068\u3082\u306bRuby\u30d6\u30ed\u30c3\u30af\u306e\u3059\u3079\u3066\u306e\u67d4\u8edf\u6027\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},6145(e,n,r){r.d(n,{R:()=>i,x:()=>c});var t=r(7140);const l={},s=t.createContext(l);function i(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);