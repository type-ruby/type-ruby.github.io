"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[7877],{5127:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"getting-started/editor-setup","title":"Editor Setup","description":"Set up VS Code, Neovim, and other editors for T-Ruby","source":"@site/docs/getting-started/editor-setup.md","sourceDirName":"getting-started","slug":"/getting-started/editor-setup","permalink":"/docs/getting-started/editor-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/getting-started/editor-setup.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Editor Setup","description":"Set up VS Code, Neovim, and other editors for T-Ruby"},"sidebar":"docsSidebar","previous":{"title":"Your First .trb File","permalink":"/docs/getting-started/first-trb-file"},"next":{"title":"Project Configuration","permalink":"/docs/getting-started/project-configuration"}}');var l=i(2714),s=i(8885);const r={sidebar_position:4,title:"Editor Setup",description:"Set up VS Code, Neovim, and other editors for T-Ruby"},o="Editor Setup",d={},c=[{value:"VS Code",id:"vs-code",level:2},{value:"Installing the Extension",id:"installing-the-extension",level:3},{value:"Features",id:"features",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Recommended Extensions",id:"recommended-extensions",level:3},{value:"Neovim",id:"neovim",level:2},{value:"Using nvim-lspconfig",id:"using-nvim-lspconfig",level:3},{value:"Syntax Highlighting with Tree-sitter",id:"syntax-highlighting-with-tree-sitter",level:3},{value:"File Type Detection",id:"file-type-detection",level:3},{value:"Recommended Plugins",id:"recommended-plugins",level:3},{value:"Complete Neovim Setup Example",id:"complete-neovim-setup-example",level:3},{value:"Sublime Text",id:"sublime-text",level:2},{value:"Installing the Package",id:"installing-the-package",level:3},{value:"Manual Installation",id:"manual-installation",level:3},{value:"Configuration",id:"configuration-1",level:3},{value:"JetBrains IDEs (RubyMine, IntelliJ)",id:"jetbrains-ides-rubymine-intellij",level:2},{value:"Installing the Plugin",id:"installing-the-plugin",level:3},{value:"Configuration",id:"configuration-2",level:3},{value:"Emacs",id:"emacs",level:2},{value:"Using t-ruby-mode",id:"using-t-ruby-mode",level:3},{value:"LSP Configuration",id:"lsp-configuration",level:3},{value:"Vim (without LSP)",id:"vim-without-lsp",level:2},{value:"Language Server (LSP)",id:"language-server-lsp",level:2},{value:"Installation",id:"installation",level:3},{value:"Running Manually",id:"running-manually",level:3},{value:"Capabilities",id:"capabilities",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Extension not working",id:"extension-not-working",level:3},{value:"No syntax highlighting",id:"no-syntax-highlighting",level:3},{value:"LSP not connecting",id:"lsp-not-connecting",level:3},{value:"Type checking slow",id:"type-checking-slow",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"editor-setup",children:"Editor Setup"})}),"\n",(0,l.jsx)(n.p,{children:"Get the best T-Ruby development experience by configuring your editor with syntax highlighting, type checking, and autocomplete."}),"\n",(0,l.jsx)(n.h2,{id:"vs-code",children:"VS Code"}),"\n",(0,l.jsx)(n.p,{children:"VS Code offers the most complete T-Ruby development experience."}),"\n",(0,l.jsx)(n.h3,{id:"installing-the-extension",children:"Installing the Extension"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open VS Code"}),"\n",(0,l.jsxs)(n.li,{children:["Go to Extensions (",(0,l.jsx)(n.code,{children:"Cmd+Shift+X"})," / ",(0,l.jsx)(n.code,{children:"Ctrl+Shift+X"}),")"]}),"\n",(0,l.jsx)(n.li,{children:'Search for "T-Ruby"'}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Install"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Or install from the command line:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"code --install-extension type-ruby.t-ruby-vscode\n"})}),"\n",(0,l.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,l.jsx)(n.p,{children:"The VS Code extension provides:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Syntax highlighting"})," for ",(0,l.jsx)(n.code,{children:".trb"})," files"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type error highlighting"})," as you type"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Autocomplete"})," with type information"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Hover information"})," showing types"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Go to definition"})," for functions and classes"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Format on save"})," (optional)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Add to your VS Code settings (",(0,l.jsx)(n.code,{children:"settings.json"}),"):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",metastring:'title=".vscode/settings.json"',children:'{\n  // Enable type checking as you type\n  "t-ruby.typeCheck.enabled": true,\n\n  // Show type hints inline\n  "t-ruby.inlayHints.enabled": true,\n\n  // Format .trb files on save\n  "t-ruby.format.onSave": true,\n\n  // Path to trc compiler (if not in PATH)\n  "t-ruby.compilerPath": "/usr/local/bin/trc",\n\n  // Compile on save\n  "t-ruby.compile.onSave": true,\n\n  // Output directory\n  "t-ruby.compile.outputDir": "build"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"recommended-extensions",children:"Recommended Extensions"}),"\n",(0,l.jsx)(n.p,{children:"For the best Ruby/T-Ruby experience, also install:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ruby LSP"})," - General Ruby language support"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ruby Solargraph"})," - Additional Ruby intelligence"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Error Lens"})," - Inline error display"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"neovim",children:"Neovim"}),"\n",(0,l.jsx)(n.p,{children:"T-Ruby supports Neovim through the built-in LSP client."}),"\n",(0,l.jsx)(n.h3,{id:"using-nvim-lspconfig",children:"Using nvim-lspconfig"}),"\n",(0,l.jsx)(n.p,{children:"Add to your Neovim configuration:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",metastring:'title="init.lua"',children:'-- Install t-ruby-lsp if not present\n-- gem install t-ruby-lsp\n\nrequire(\'lspconfig\').t_ruby_lsp.setup {\n  cmd = { "t-ruby-lsp" },\n  filetypes = { "truby" },\n  root_dir = require(\'lspconfig\').util.root_pattern("trc.yaml", ".git"),\n  settings = {\n    truby = {\n      typeCheck = {\n        enabled = true\n      }\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"syntax-highlighting-with-tree-sitter",children:"Syntax Highlighting with Tree-sitter"}),"\n",(0,l.jsx)(n.p,{children:"For syntax highlighting, add the T-Ruby tree-sitter parser:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",metastring:'title="init.lua"',children:'require(\'nvim-treesitter.configs\').setup {\n  ensure_installed = { "ruby", "truby" },\n  highlight = {\n    enable = true,\n  },\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"file-type-detection",children:"File Type Detection"}),"\n",(0,l.jsxs)(n.p,{children:["Add file type detection for ",(0,l.jsx)(n.code,{children:".trb"})," files:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",metastring:'title="init.lua"',children:'vim.filetype.add({\n  extension = {\n    trb = "truby",\n  },\n})\n'})}),"\n",(0,l.jsx)(n.h3,{id:"recommended-plugins",children:"Recommended Plugins"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"nvim-lspconfig"})," - LSP configuration"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"nvim-treesitter"})," - Syntax highlighting"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"nvim-cmp"})," - Autocompletion"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"lspsaga.nvim"})," - Enhanced LSP UI"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"complete-neovim-setup-example",children:"Complete Neovim Setup Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",metastring:'title="init.lua"',children:"-- File type detection\nvim.filetype.add({\n  extension = {\n    trb = \"truby\",\n  },\n})\n\n-- LSP setup\nlocal lspconfig = require('lspconfig')\n\nlspconfig.t_ruby_lsp.setup {\n  on_attach = function(client, bufnr)\n    -- Enable completion triggered by <c-x><c-o>\n    vim.bo[bufnr].omnifunc = 'v:lua.vim.lsp.omnifunc'\n\n    -- Keymaps\n    local opts = { buffer = bufnr }\n    vim.keymap.set('n', 'gD', vim.lsp.buf.declaration, opts)\n    vim.keymap.set('n', 'gd', vim.lsp.buf.definition, opts)\n    vim.keymap.set('n', 'K', vim.lsp.buf.hover, opts)\n    vim.keymap.set('n', '<leader>rn', vim.lsp.buf.rename, opts)\n    vim.keymap.set('n', '<leader>ca', vim.lsp.buf.code_action, opts)\n  end,\n}\n\n-- Autocompile on save\nvim.api.nvim_create_autocmd(\"BufWritePost\", {\n  pattern = \"*.trb\",\n  callback = function()\n    vim.fn.system(\"trc \" .. vim.fn.expand(\"%\"))\n  end,\n})\n"})}),"\n",(0,l.jsx)(n.h2,{id:"sublime-text",children:"Sublime Text"}),"\n",(0,l.jsx)(n.h3,{id:"installing-the-package",children:"Installing the Package"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Install Package Control if you haven't already"}),"\n",(0,l.jsxs)(n.li,{children:["Open Command Palette (",(0,l.jsx)(n.code,{children:"Cmd+Shift+P"})," / ",(0,l.jsx)(n.code,{children:"Ctrl+Shift+P"}),")"]}),"\n",(0,l.jsx)(n.li,{children:'Select "Package Control: Install Package"'}),"\n",(0,l.jsx)(n.li,{children:'Search for "T-Ruby" and install'}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"manual-installation",children:"Manual Installation"}),"\n",(0,l.jsx)(n.p,{children:"Clone the syntax package to your Packages directory:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd ~/Library/Application\\ Support/Sublime\\ Text/Packages/  # macOS\n# or\ncd ~/.config/sublime-text/Packages/  # Linux\n\ngit clone https://github.com/type-ruby/sublime-t-ruby.git T-Ruby\n"})}),"\n",(0,l.jsx)(n.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,l.jsx)(n.p,{children:"Add a build system for T-Ruby:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",metastring:'title="T-Ruby.sublime-build"',children:'{\n  "cmd": ["trc", "$file"],\n  "file_regex": "^(.+):([0-9]+):([0-9]+): (.+)$",\n  "selector": "source.truby"\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"jetbrains-ides-rubymine-intellij",children:"JetBrains IDEs (RubyMine, IntelliJ)"}),"\n",(0,l.jsx)(n.h3,{id:"installing-the-plugin",children:"Installing the Plugin"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open Settings/Preferences"}),"\n",(0,l.jsx)(n.li,{children:"Go to Plugins \u2192 Marketplace"}),"\n",(0,l.jsx)(n.li,{children:'Search for "T-Ruby"'}),"\n",(0,l.jsx)(n.li,{children:"Click Install and restart the IDE"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"configuration-2",children:"Configuration"}),"\n",(0,l.jsx)(n.p,{children:"The plugin automatically:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Associates ",(0,l.jsx)(n.code,{children:".trb"})," files with T-Ruby"]}),"\n",(0,l.jsx)(n.li,{children:"Provides syntax highlighting"}),"\n",(0,l.jsx)(n.li,{children:"Shows type errors"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Additional settings in ",(0,l.jsx)(n.strong,{children:"Settings \u2192 Languages & Frameworks \u2192 T-Ruby"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Enable/disable type checking"}),"\n",(0,l.jsx)(n.li,{children:"Configure compiler path"}),"\n",(0,l.jsx)(n.li,{children:"Set output directory"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"emacs",children:"Emacs"}),"\n",(0,l.jsx)(n.h3,{id:"using-t-ruby-mode",children:"Using t-ruby-mode"}),"\n",(0,l.jsx)(n.p,{children:"Install via MELPA:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-elisp",children:'(use-package t-ruby-mode\n  :ensure t\n  :mode "\\\\.trb\\\\\'"\n  :hook (t-ruby-mode . lsp-deferred))\n'})}),"\n",(0,l.jsx)(n.h3,{id:"lsp-configuration",children:"LSP Configuration"}),"\n",(0,l.jsx)(n.p,{children:"Configure lsp-mode for T-Ruby:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-elisp",children:"(use-package lsp-mode\n  :ensure t\n  :commands lsp\n  :config\n  (add-to-list 'lsp-language-id-configuration '(t-ruby-mode . \"truby\"))\n  (lsp-register-client\n   (make-lsp-client\n    :new-connection (lsp-stdio-connection '(\"t-ruby-lsp\"))\n    :major-modes '(t-ruby-mode)\n    :server-id 't-ruby-lsp)))\n"})}),"\n",(0,l.jsx)(n.h2,{id:"vim-without-lsp",children:"Vim (without LSP)"}),"\n",(0,l.jsx)(n.p,{children:"For basic Vim support without LSP:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-vim",metastring:'title=".vimrc"',children:'" File type detection\nautocmd BufRead,BufNewFile *.trb set filetype=ruby\n\n" Compile on save\nautocmd BufWritePost *.trb silent !trc %\n\n" Syntax highlighting (uses Ruby highlighting)\nautocmd FileType truby setlocal syntax=ruby\n'})}),"\n",(0,l.jsx)(n.h2,{id:"language-server-lsp",children:"Language Server (LSP)"}),"\n",(0,l.jsx)(n.p,{children:"The T-Ruby Language Server can be used with any LSP-compatible editor."}),"\n",(0,l.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gem install t-ruby-lsp\n"})}),"\n",(0,l.jsx)(n.h3,{id:"running-manually",children:"Running Manually"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"t-ruby-lsp --stdio\n"})}),"\n",(0,l.jsx)(n.h3,{id:"capabilities",children:"Capabilities"}),"\n",(0,l.jsx)(n.p,{children:"The LSP server provides:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Feature"}),(0,l.jsx)(n.th,{children:"Support"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Syntax highlighting"}),(0,l.jsx)(n.td,{children:"Via semantic tokens"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Error diagnostics"}),(0,l.jsx)(n.td,{children:"Full"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Hover information"}),(0,l.jsx)(n.td,{children:"Full"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Go to definition"}),(0,l.jsx)(n.td,{children:"Full"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Find references"}),(0,l.jsx)(n.td,{children:"Full"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Autocomplete"}),(0,l.jsx)(n.td,{children:"Full"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Code formatting"}),(0,l.jsx)(n.td,{children:"Full"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Code actions"}),(0,l.jsx)(n.td,{children:"Partial"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Rename"}),(0,l.jsx)(n.td,{children:"Full"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"extension-not-working",children:"Extension not working"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Ensure T-Ruby is installed: ",(0,l.jsx)(n.code,{children:"trc --version"})]}),"\n",(0,l.jsx)(n.li,{children:"Restart your editor"}),"\n",(0,l.jsx)(n.li,{children:"Check the extension/plugin logs"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"no-syntax-highlighting",children:"No syntax highlighting"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Verify file has ",(0,l.jsx)(n.code,{children:".trb"})," extension"]}),"\n",(0,l.jsx)(n.li,{children:"Check file type association in editor settings"}),"\n",(0,l.jsx)(n.li,{children:"Reinstall the syntax extension"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"lsp-not-connecting",children:"LSP not connecting"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Install the LSP: ",(0,l.jsx)(n.code,{children:"gem install t-ruby-lsp"})]}),"\n",(0,l.jsx)(n.li,{children:"Check LSP path in editor configuration"}),"\n",(0,l.jsx)(n.li,{children:"Look at LSP server logs for errors"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"type-checking-slow",children:"Type checking slow"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Disable "check on type" if too slow'}),"\n",(0,l.jsx)(n.li,{children:'Use "check on save" instead'}),"\n",(0,l.jsxs)(n.li,{children:["Exclude ",(0,l.jsx)(n.code,{children:"node_modules"})," and ",(0,l.jsx)(n.code,{children:"vendor"})," directories"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(n.p,{children:"With your editor configured, continue learning:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/getting-started/project-configuration",children:"Project Configuration"})," - Set up a T-Ruby project"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/learn/basics/basic-types",children:"Basic Types"})," - Learn the type system"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/cli/commands",children:"CLI Reference"})," - All compiler commands"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8885:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var t=i(9378);const l={},s=t.createContext(l);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);