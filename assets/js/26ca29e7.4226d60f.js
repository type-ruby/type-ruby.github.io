"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[1676],{6145(n,e,s){s.d(e,{R:()=>r,x:()=>l});var a=s(7140);const t={},i=a.createContext(t);function r(n){const e=a.useContext(i);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),a.createElement(i.Provider,{value:e},n.children)}},9e3(n,e,s){s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"learn/classes/instance-class-variables","title":"Instance & Class Variables","description":"Typing instance and class variables","source":"@site/docs/learn/classes/instance-class-variables.md","sourceDirName":"learn/classes","slug":"/learn/classes/instance-class-variables","permalink":"/docs/learn/classes/instance-class-variables","draft":false,"unlisted":false,"editUrl":"https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/learn/classes/instance-class-variables.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Instance & Class Variables","description":"Typing instance and class variables"},"sidebar":"docsSidebar","previous":{"title":"Class Annotations","permalink":"/docs/learn/classes/class-annotations"},"next":{"title":"Inheritance & Mixins","permalink":"/docs/learn/classes/inheritance-mixins"}}');var t=s(5656),i=s(6145);const r={sidebar_position:2,title:"Instance & Class Variables",description:"Typing instance and class variables"},l="Instance & Class Variables",c={},d=[{value:"Instance Variables",id:"instance-variables",level:2},{value:"Using attr_accessor, attr_reader, and attr_writer",id:"using-attr_accessor-attr_reader-and-attr_writer",level:3},{value:"Explicit Instance Variable Declarations",id:"explicit-instance-variable-declarations",level:3},{value:"Combining attr Methods with Explicit Types",id:"combining-attr-methods-with-explicit-types",level:3},{value:"Nilable Instance Variables",id:"nilable-instance-variables",level:2},{value:"Class Variables",id:"class-variables",level:2},{value:"Class Variables with Default Values",id:"class-variables-with-default-values",level:3},{value:"Instance Variables vs Class Variables",id:"instance-variables-vs-class-variables",level:2},{value:"Complex Instance Variable Types",id:"complex-instance-variable-types",level:2},{value:"Practical Example: User Session",id:"practical-example-user-session",level:2},{value:"Practical Example: Cache System",id:"practical-example-cache-system",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Lazy Initialization",id:"lazy-initialization",level:3},{value:"Registry Pattern",id:"registry-pattern",level:3},{value:"Memoization",id:"memoization",level:3},{value:"Summary",id:"summary",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components},{DocsBadge:s}=e;return s||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("DocsBadge",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{}),"\n",(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"instance--class-variables",children:"Instance & Class Variables"})}),"\n",(0,t.jsx)(e.p,{children:"Instance and class variables are fundamental to Ruby's object-oriented programming. T-Ruby provides comprehensive type safety for both, ensuring your data structures are predictable and error-free. This guide covers how to type variables at both the instance and class level."}),"\n",(0,t.jsx)(e.h2,{id:"instance-variables",children:"Instance Variables"}),"\n",(0,t.jsx)(e.p,{children:"Instance variables store data unique to each object. In T-Ruby, there are several ways to type them."}),"\n",(0,t.jsx)(e.h3,{id:"using-attr_accessor-attr_reader-and-attr_writer",children:"Using attr_accessor, attr_reader, and attr_writer"}),"\n",(0,t.jsx)(e.p,{children:"The most common and recommended way to type instance variables:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="attr_methods.trb"',children:'class Person\n  attr_accessor :name: String\n  attr_accessor :age: Integer\n  attr_reader :id: Integer\n  attr_writer :password: String\n\n  def initialize(id: Integer, name: String, age: Integer)\n    @id = id\n    @name = name\n    @age = age\n    @password = ""\n  end\n\n  def display_info(): String\n    "#{@name}, age #{@age}"\n  end\nend\n\n# Usage\nperson = Person.new(1, "Alice", 30)\nperson.name = "Alice Smith"  # \u2713 OK - attr_accessor\nputs person.name             # \u2713 OK - attr_accessor\nputs person.id               # \u2713 OK - attr_reader\n# person.id = 2              # \u2717 Error - read-only\nperson.password = "secret"   # \u2713 OK - attr_writer\n# puts person.password       # \u2717 Error - write-only\n'})}),"\n",(0,t.jsx)(e.h3,{id:"explicit-instance-variable-declarations",children:"Explicit Instance Variable Declarations"}),"\n",(0,t.jsx)(e.p,{children:"You can explicitly declare types when initializing instance variables:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="explicit_types.trb"',children:"class ShoppingCart\n  def initialize()\n    @items: String[] = []\n    @quantities: Hash<String, Integer> = {}\n    @total: Float = 0.0\n    @discount: Float? = nil\n  end\n\n  def add_item(item: String, quantity: Integer): void\n    @items.push(item)\n    @quantities[item] = quantity\n  end\n\n  def set_discount(amount: Float): void\n    @discount = amount\n  end\n\n  def calculate_total(price_per_item: Float): Float\n    base = @items.length * price_per_item\n    if @discount\n      base - @discount\n    else\n      base\n    end\n  end\nend\n"})}),"\n",(0,t.jsx)(e.h3,{id:"combining-attr-methods-with-explicit-types",children:"Combining attr Methods with Explicit Types"}),"\n",(0,t.jsx)(e.p,{children:"You can use both approaches together:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="combined.trb"',children:'class Article\n  attr_reader :title: String\n  attr_accessor :published: Boolean\n\n  def initialize(title: String)\n    @title = title\n    @published = false\n    @views: Integer = 0\n    @comments: String[] = []\n    @author: String? = nil\n  end\n\n  def increment_views(): void\n    @views += 1\n  end\n\n  def add_comment(comment: String): void\n    @comments.push(comment)\n  end\n\n  def set_author(name: String): void\n    @author = name\n  end\n\n  def author_name(): String\n    @author || "Anonymous"\n  end\nend\n'})}),"\n",(0,t.jsx)(e.h2,{id:"nilable-instance-variables",children:"Nilable Instance Variables"}),"\n",(0,t.jsxs)(e.p,{children:["Instance variables that can be nil use the ",(0,t.jsx)(e.code,{children:"?"})," suffix:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="nilable.trb"',children:"class UserAccount\n  attr_accessor :username: String\n  attr_accessor :email: String?\n  attr_accessor :phone: String?\n  attr_reader :last_login: Time?\n\n  def initialize(username: String)\n    @username = username\n    @email = nil\n    @phone = nil\n    @last_login = nil\n    @verified: Boolean = false\n  end\n\n  def verify(): void\n    @verified = true\n  end\n\n  def is_verified(): Boolean\n    @verified\n  end\n\n  def update_contact(email: String?, phone: String?): void\n    @email = email\n    @phone = phone\n  end\n\n  def has_contact_info?(): Boolean\n    @email != nil || @phone != nil\n  end\n\n  def record_login(): void\n    @last_login = Time.now\n  end\n\n  def days_since_login(): Integer?\n    if @last_login\n      ((Time.now - @last_login) / 86400).to_i\n    else\n      nil\n    end\n  end\nend\n"})}),"\n",(0,t.jsx)(e.h2,{id:"class-variables",children:"Class Variables"}),"\n",(0,t.jsxs)(e.p,{children:["Class variables are shared across all instances of a class. Type them with ",(0,t.jsx)(e.code,{children:"@@"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="class_vars.trb"',children:"class Counter\n  def initialize()\n    @@count: Integer ||= 0\n    @@count += 1\n  end\n\n  def self.total_count(): Integer\n    @@count || 0\n  end\n\n  def self.reset_count(): void\n    @@count = 0\n  end\nend\n\n# Usage\nc1 = Counter.new\nc2 = Counter.new\nc3 = Counter.new\nputs Counter.total_count()  # 3\nCounter.reset_count()\nputs Counter.total_count()  # 0\n"})}),"\n",(0,t.jsx)(e.h3,{id:"class-variables-with-default-values",children:"Class Variables with Default Values"}),"\n",(0,t.jsx)(e.p,{children:"Initialize class variables with appropriate defaults:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="class_var_defaults.trb"',children:'class Configuration\n  @@database_url: String = "localhost"\n  @@max_connections: Integer = 10\n  @@debug_mode: Boolean = false\n  @@allowed_hosts: String[] = []\n\n  def self.database_url(): String\n    @@database_url\n  end\n\n  def self.database_url=(url: String): void\n    @@database_url = url\n  end\n\n  def self.max_connections(): Integer\n    @@max_connections\n  end\n\n  def self.max_connections=(n: Integer): void\n    @@max_connections = n\n  end\n\n  def self.enable_debug(): void\n    @@debug_mode = true\n  end\n\n  def self.debug_enabled?(): Boolean\n    @@debug_mode\n  end\n\n  def self.add_allowed_host(host: String): void\n    @@allowed_hosts.push(host) unless @@allowed_hosts.include?(host)\n  end\n\n  def self.allowed_hosts(): String[]\n    @@allowed_hosts\n  end\nend\n\n# Usage\nConfiguration.database_url = "postgresql://localhost/mydb"\nConfiguration.max_connections = 50\nConfiguration.enable_debug()\nConfiguration.add_allowed_host("example.com")\n'})}),"\n",(0,t.jsx)(e.h2,{id:"instance-variables-vs-class-variables",children:"Instance Variables vs Class Variables"}),"\n",(0,t.jsx)(e.p,{children:"Understanding when to use each:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="comparison.trb"',children:'class BankAccount\n  # Class variable - shared across all instances\n  @@total_accounts: Integer = 0\n  @@total_balance: Float = 0.0\n\n  # Instance variables - unique to each instance\n  attr_reader :account_number: Integer\n  attr_accessor :balance: Float\n  attr_accessor :owner: String\n\n  def initialize(account_number: Integer, owner: String, initial_balance: Float)\n    @account_number = account_number\n    @owner = owner\n    @balance = initial_balance\n\n    # Update class variables\n    @@total_accounts += 1\n    @@total_balance += initial_balance\n  end\n\n  def deposit(amount: Float): void\n    @balance += amount\n    @@total_balance += amount\n  end\n\n  def withdraw(amount: Float): Boolean\n    if amount <= @balance\n      @balance -= amount\n      @@total_balance -= amount\n      true\n    else\n      false\n    end\n  end\n\n  # Class methods accessing class variables\n  def self.total_accounts(): Integer\n    @@total_accounts\n  end\n\n  def self.total_balance(): Float\n    @@total_balance\n  end\n\n  def self.average_balance(): Float\n    if @@total_accounts > 0\n      @@total_balance / @@total_accounts\n    else\n      0.0\n    end\n  end\nend\n\n# Usage\naccount1 = BankAccount.new(1001, "Alice", 1000.0)\naccount2 = BankAccount.new(1002, "Bob", 2000.0)\n\n# Instance-specific data\nputs account1.balance  # 1000.0\nputs account2.balance  # 2000.0\n\n# Class-level data\nputs BankAccount.total_accounts()   # 2\nputs BankAccount.total_balance()    # 3000.0\nputs BankAccount.average_balance()  # 1500.0\n\naccount1.deposit(500.0)\nputs BankAccount.total_balance()    # 3500.0\n'})}),"\n",(0,t.jsx)(e.h2,{id:"complex-instance-variable-types",children:"Complex Instance Variable Types"}),"\n",(0,t.jsx)(e.p,{children:"Instance variables can hold any type:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="complex_types.trb"',children:"class DataStore\n  def initialize()\n    @strings: String[] = []\n    @numbers: Integer[] = []\n    @mappings: Hash<String, Integer> = {}\n    @nested: Hash<String, String[]> = {}\n    @optional_data: String? = nil\n    @union_data: String | Integer | nil = nil\n  end\n\n  def add_string(s: String): void\n    @strings.push(s)\n  end\n\n  def add_number(n: Integer): void\n    @numbers.push(n)\n  end\n\n  def add_mapping(key: String, value: Integer): void\n    @mappings[key] = value\n  end\n\n  def add_nested(key: String, values: String[]): void\n    @nested[key] = values\n  end\n\n  def set_optional(data: String?): void\n    @optional_data = data\n  end\n\n  def set_union(data: String | Integer): void\n    @union_data = data\n  end\n\n  def get_strings(): String[]\n    @strings\n  end\n\n  def get_mapping(key: String): Integer?\n    @mappings[key]\n  end\nend\n"})}),"\n",(0,t.jsx)(e.h2,{id:"practical-example-user-session",children:"Practical Example: User Session"}),"\n",(0,t.jsx)(e.p,{children:"A real-world example combining instance and class variables:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="user_session.trb"',children:'class UserSession\n  # Class variables - track all sessions\n  @@active_sessions: Hash<String, UserSession> = {}\n  @@session_count: Integer = 0\n\n  # Instance variables - session-specific data\n  attr_reader :session_id: String\n  attr_reader :user_id: Integer\n  attr_reader :created_at: Time\n  attr_accessor :last_activity: Time\n\n  def initialize(session_id: String, user_id: Integer)\n    @session_id = session_id\n    @user_id = user_id\n    @created_at = Time.now\n    @last_activity = Time.now\n    @data: Hash<String, String | Integer | Boolean> = {}\n    @expired: Boolean = false\n\n    # Register this session\n    @@active_sessions[session_id] = self\n    @@session_count += 1\n  end\n\n  def set_data(key: String, value: String | Integer | Boolean): void\n    @data[key] = value\n    @last_activity = Time.now\n  end\n\n  def get_data(key: String): String | Integer | Boolean | nil\n    @last_activity = Time.now\n    @data[key]\n  end\n\n  def expire(): void\n    @expired = true\n    @@active_sessions.delete(@session_id)\n  end\n\n  def is_expired?(): Boolean\n    @expired\n  end\n\n  def age_in_minutes(): Integer\n    ((Time.now - @created_at) / 60).to_i\n  end\n\n  def idle_time_in_minutes(): Integer\n    ((Time.now - @last_activity) / 60).to_i\n  end\n\n  # Class methods\n  def self.find(session_id: String): UserSession?\n    @@active_sessions[session_id]\n  end\n\n  def self.active_session_count(): Integer\n    @@active_sessions.length\n  end\n\n  def self.total_sessions_created(): Integer\n    @@session_count\n  end\n\n  def self.expire_old_sessions(max_age_minutes: Integer): Integer\n    expired_count = 0\n    @@active_sessions.each do |id, session|\n      if session.age_in_minutes() > max_age_minutes\n        session.expire()\n        expired_count += 1\n      end\n    end\n    expired_count\n  end\n\n  def self.expire_idle_sessions(max_idle_minutes: Integer): Integer\n    expired_count = 0\n    @@active_sessions.each do |id, session|\n      if session.idle_time_in_minutes() > max_idle_minutes\n        session.expire()\n        expired_count += 1\n      end\n    end\n    expired_count\n  end\nend\n\n# Usage\nsession1 = UserSession.new("sess_123", 1)\nsession1.set_data("theme", "dark")\nsession1.set_data("notifications", true)\n\nsession2 = UserSession.new("sess_456", 2)\nsession2.set_data("language", "en")\n\nputs UserSession.active_session_count()     # 2\nputs UserSession.total_sessions_created()   # 2\n\nfound = UserSession.find("sess_123")\nif found\n  puts found.get_data("theme")  # "dark"\nend\n\n# Expire old sessions\nUserSession.expire_old_sessions(60)  # Expire sessions older than 60 minutes\n'})}),"\n",(0,t.jsx)(e.h2,{id:"practical-example-cache-system",children:"Practical Example: Cache System"}),"\n",(0,t.jsx)(e.p,{children:"Another example showing effective use of class and instance variables:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="cache_system.trb"',children:'class Cache<T>\n  # Class variables - shared statistics\n  @@total_hits: Integer = 0\n  @@total_misses: Integer = 0\n  @@total_caches: Integer = 0\n\n  # Instance variables - cache-specific data\n  attr_reader :name: String\n  attr_reader :max_size: Integer\n\n  def initialize(name: String, max_size: Integer = 100)\n    @name = name\n    @max_size = max_size\n    @data: Hash<String, T> = {}\n    @access_times: Hash<String, Time> = {}\n    @hits: Integer = 0\n    @misses: Integer = 0\n\n    @@total_caches += 1\n  end\n\n  def get(key: String): T?\n    if @data.key?(key)\n      @hits += 1\n      @@total_hits += 1\n      @access_times[key] = Time.now\n      @data[key]\n    else\n      @misses += 1\n      @@total_misses += 1\n      nil\n    end\n  end\n\n  def set(key: String, value: T): void\n    # Evict oldest entry if cache is full\n    if @data.length >= @max_size && !@data.key?(key)\n      evict_oldest()\n    end\n\n    @data[key] = value\n    @access_times[key] = Time.now\n  end\n\n  def delete(key: String): void\n    @data.delete(key)\n    @access_times.delete(key)\n  end\n\n  def clear(): void\n    @data.clear()\n    @access_times.clear()\n  end\n\n  def size(): Integer\n    @data.length\n  end\n\n  def hit_rate(): Float\n    total = @hits + @misses\n    total > 0 ? (@hits.to_f / total.to_f) * 100 : 0.0\n  end\n\n  def keys(): String[]\n    @data.keys\n  end\n\n  private\n\n  def evict_oldest(): void\n    oldest_key = @access_times.min_by { |k, v| v }&.first\n    if oldest_key\n      delete(oldest_key)\n    end\n  end\n\n  # Class methods for global statistics\n  def self.global_hit_rate(): Float\n    total = @@total_hits + @@total_misses\n    total > 0 ? (@@total_hits.to_f / total.to_f) * 100 : 0.0\n  end\n\n  def self.total_hits(): Integer\n    @@total_hits\n  end\n\n  def self.total_misses(): Integer\n    @@total_misses\n  end\n\n  def self.total_caches(): Integer\n    @@total_caches\n  end\n\n  def self.reset_statistics(): void\n    @@total_hits = 0\n    @@total_misses = 0\n  end\nend\n\n# Usage\nuser_cache = Cache<User>.new("users", 50)\nproduct_cache = Cache<Product>.new("products", 100)\n\n# Use the caches\nuser_cache.set("user_1", User.new("Alice"))\nuser = user_cache.get("user_1")  # Hit\nuser_cache.get("user_2")         # Miss\n\nproduct_cache.set("prod_1", Product.new("Laptop"))\nproduct = product_cache.get("prod_1")  # Hit\n\n# Instance-specific statistics\nputs user_cache.hit_rate()     # 50.0 (1 hit, 1 miss)\nputs product_cache.hit_rate()  # 100.0 (1 hit, 0 misses)\n\n# Global statistics\nputs Cache.global_hit_rate()   # 66.67 (2 hits, 1 miss)\nputs Cache.total_caches()      # 2\n'})}),"\n",(0,t.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Use attr_accessor/attr_reader/attr_writer"}),": These are the cleanest way to define typed instance variables."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Explicitly type complex variables"}),": When initializing arrays, hashes, or other complex types, always provide explicit types."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Use nilable types appropriately"}),": Only mark variables as nilable (",(0,t.jsx)(e.code,{children:"?"}),") when they genuinely can be nil."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Initialize in constructor"}),": Set all instance variables in ",(0,t.jsx)(e.code,{children:"initialize"})," with appropriate defaults."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Use class variables for shared state"}),": Class variables are perfect for counters, caches, and configuration shared across instances."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Provide accessor methods"}),": Don't access class variables directly from outside the class; use class methods instead."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,t.jsx)(e.h3,{id:"lazy-initialization",children:"Lazy Initialization"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="lazy_init.trb"',children:'class Report\n  attr_reader :name: String\n\n  def initialize(name: String)\n    @name = name\n    @data: String[]? = nil\n  end\n\n  def data(): String[]\n    @data ||= load_data()\n  end\n\n  private\n\n  def load_data(): String[]\n    # Expensive operation\n    ["Item 1", "Item 2", "Item 3"]\n  end\nend\n'})}),"\n",(0,t.jsx)(e.h3,{id:"registry-pattern",children:"Registry Pattern"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="registry.trb"',children:"class Plugin\n  @@plugins: Hash<String, Plugin> = {}\n\n  attr_reader :name: String\n\n  def initialize(name: String)\n    @name = name\n    @@plugins[name] = self\n  end\n\n  def self.find(name: String): Plugin?\n    @@plugins[name]\n  end\n\n  def self.all(): Plugin[]\n    @@plugins.values\n  end\n\n  def self.count(): Integer\n    @@plugins.length\n  end\nend\n"})}),"\n",(0,t.jsx)(e.h3,{id:"memoization",children:"Memoization"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-trb",metastring:'title="memoization.trb"',children:'class Calculator\n  def initialize()\n    @cache: Hash<String, Integer> = {}\n  end\n\n  def fibonacci(n: Integer): Integer\n    key = "fib_#{n}"\n    return @cache[key] if @cache.key?(key)\n\n    result = if n <= 1\n      n\n    else\n      fibonacci(n - 1) + fibonacci(n - 2)\n    end\n\n    @cache[key] = result\n    result\n  end\nend\n'})}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(e.p,{children:"Instance and class variables in T-Ruby provide type-safe state management:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Instance variables"})," store object-specific data"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Class variables"})," store data shared across all instances"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"attr_accessor/attr_reader/attr_writer"})," provide typed accessors"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Explicit type annotations"})," clarify complex variable types"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Nilable types"})," (",(0,t.jsx)(e.code,{children:"?"}),") handle optional data"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Proper variable typing makes your classes predictable, maintainable, and less error-prone. Start by typing your public instance variables and work your way to internal state."})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}}}]);