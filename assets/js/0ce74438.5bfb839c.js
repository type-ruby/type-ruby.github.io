"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[3365],{9731:(e,n,r)=>{r.r(n),r.d(n,{default:()=>c});var s=r(9378),a=r(5043),t=r(2623),l=r(2273);const i={playground:"playground_es7I",header:"header_tRbQ",subtitle:"subtitle_KLfx",container:"container_tS08",panel:"panel_mskZ",panelHeader:"panelHeader_licZ",panelTitle:"panelTitle_fnkw",panelActions:"panelActions_kMKX",exampleSelect:"exampleSelect_zCyJ",compileButton:"compileButton_Ek8p",tabs:"tabs_SUXD",tab:"tab_CWX0",tabActive:"tabActive_kQNP",tabError:"tabError_MsEd",editorWrapper:"editorWrapper_acPh",filenameBar:"filenameBar_io_Y",editor:"editor_jOh4",output:"output_iH9E",outputCode:"outputCode_cHdv",errorList:"errorList_Ju6v",errorItem:"errorItem_PBDF",noErrors:"noErrors_eJUK",footer:"footer_ldla"};var o=r(2714);const d={"hello-world":{name:(0,l.T)({id:"playground.examples.helloWorld",message:"Hello World"}),code:'# hello.trb\ndef greet(name: String): String\n  "Hello, #{name}!"\nend\n\nputs greet("World")'},"basic-types":{name:(0,l.T)({id:"playground.examples.basicTypes",message:"Basic Types"}),code:"# Basic type annotations\ndef add(a: Integer, b: Integer): Integer\n  a + b\nend\n\ndef concat(str1: String, str2: String): String\n  str1 + str2\nend\n\ndef is_valid(flag: Bool): Bool\n  !flag\nend\n\nresult = add(10, 20)\nputs result"},"union-types":{name:(0,l.T)({id:"playground.examples.unionTypes",message:"Union Types"}),code:"# Union types allow multiple types\ndef stringify(value: String | Integer | Float): String\n  value.to_s\nend\n\ndef find_user(id: Integer): User | nil\n  # Returns User or nil\n  nil\nend\n\n# Optional shorthand (same as T | nil)\ndef get_name(user: User?): String?\n  user&.name\nend"},generics:{name:(0,l.T)({id:"playground.examples.generics",message:"Generics"}),code:"# Generic functions\ndef first<T>(arr: Array<T>): T | nil\n  arr[0]\nend\n\ndef map<T, U>(arr: Array<T>, &block: (T) -> U): Array<U>\n  arr.map(&block)\nend\n\n# Generic class\nclass Box<T>\n  @value: T\n\n  def initialize(value: T): void\n    @value = value\n  end\n\n  def get: T\n    @value\n  end\nend\n\nbox = Box.new(42)\nputs box.get"},interfaces:{name:(0,l.T)({id:"playground.examples.interfaces",message:"Interfaces"}),code:'# Define an interface\ninterface Printable\n  def to_string: String\nend\n\ninterface Comparable<T>\n  def compare(other: T): Integer\nend\n\n# Implement interface\nclass User\n  implements Printable\n\n  @name: String\n  @age: Integer\n\n  def initialize(name: String, age: Integer): void\n    @name = name\n    @age = age\n  end\n\n  def to_string: String\n    "User(#{@name}, #{@age})"\n  end\nend'},classes:{name:(0,l.T)({id:"playground.examples.classes",message:"Classes"}),code:'# Class with type annotations\nclass Person\n  @name: String\n  @age: Integer\n  @@count: Integer = 0\n\n  def initialize(name: String, age: Integer): void\n    @name = name\n    @age = age\n    @@count += 1\n  end\n\n  def greet: String\n    "Hi, I\'m #{@name}"\n  end\n\n  def self.count: Integer\n    @@count\n  end\nend\n\nclass Employee < Person\n  @department: String\n\n  def initialize(name: String, age: Integer, dept: String): void\n    super(name, age)\n    @department = dept\n  end\nend'}};function c(){const[e,n]=(0,s.useState)(d["hello-world"].code),[r,c]=(0,s.useState)("hello-world"),[p,u]=(0,s.useState)("ruby"),[m,g]=(0,s.useState)({ruby:(0,l.T)({id:"playground.output.clickToCompile",message:'# Click "Compile" to see output'}),rbs:(0,l.T)({id:"playground.output.clickToGenerateRbs",message:'# Click "Compile" to generate RBS'}),errors:[]}),[h,b]=(0,s.useState)(!1),y=(0,s.useCallback)(e=>{const r=e.target.value;c(r),n(d[r].code)},[]),x=(0,s.useCallback)(async()=>{b(!0);try{const n=await async function(e){const n=e.split("\n"),r=[],s=[];for(const t of n){let e=t.replace(/\):\s*\w+(\s*\|\s*\w+)*(\?)?(\s*{|$)/g,")$3").replace(/(\w+):\s*([A-Z]\w*(\s*\|\s*\w+)*\??)/g,"$1").replace(/<[A-Z]\w*(,\s*[A-Z]\w*)*>/g,"").replace(/^interface\s+.*$/g,"# interface removed").replace(/^\s*implements\s+.*$/g,"").replace(/@(\w+):\s*([A-Z]\w*(\s*\|\s*\w+)*\??)(\s*=.*)?$/g,"@$1$4");r.push(e)}const a=e.matchAll(/def\s+(\w+)(\([^)]*\))?:\s*(\w+(\s*\|\s*\w+)*\??)/g);for(const t of a){const[,e,n,r]=t;s.push(`def ${e}: ${n||"()"} -> ${r}`)}return{ruby:r.join("\n"),rbs:s.length>0?s.join("\n\n"):"# No type signatures generated",errors:[]}}(e);g(n),n.errors.length>0?u("errors"):u("ruby")}catch(n){g({ruby:"",rbs:"",errors:[`Compilation error: ${n}`]}),u("errors")}finally{b(!1)}},[e]);return(0,o.jsx)(a.A,{title:(0,l.T)({id:"playground.layout.title",message:"Playground"}),description:(0,l.T)({id:"playground.layout.description",message:"Try T-Ruby in your browser"}),children:(0,o.jsxs)("div",{className:i.playground,children:[(0,o.jsxs)("div",{className:i.header,children:[(0,o.jsx)(t.A,{as:"h1",children:(0,o.jsx)(l.A,{id:"playground.title",children:"Playground"})}),(0,o.jsx)("p",{className:i.subtitle,children:(0,o.jsx)(l.A,{id:"playground.subtitle",children:"Write T-Ruby code and see the compiled output in real-time."})})]}),(0,o.jsxs)("div",{className:i.container,children:[(0,o.jsxs)("div",{className:i.panel,children:[(0,o.jsxs)("div",{className:i.panelHeader,children:[(0,o.jsx)("span",{className:i.panelTitle,children:(0,o.jsx)(l.A,{id:"playground.input.title",children:"Input"})}),(0,o.jsxs)("div",{className:i.panelActions,children:[(0,o.jsx)("select",{value:r,onChange:y,className:i.exampleSelect,children:Object.entries(d).map(([e,{name:n}])=>(0,o.jsx)("option",{value:e,children:n},e))}),(0,o.jsx)("button",{onClick:x,disabled:h,className:i.compileButton,children:h?(0,o.jsx)(l.A,{id:"playground.compile.compiling",children:"Compiling..."}):(0,o.jsx)(l.A,{id:"playground.compile.button",children:"Compile"})})]})]}),(0,o.jsxs)("div",{className:i.editorWrapper,children:[(0,o.jsx)("div",{className:i.filenameBar,children:(0,o.jsx)("span",{children:(0,o.jsx)(l.A,{id:"playground.input.filename",children:"example.trb"})})}),(0,o.jsx)("textarea",{value:e,onChange:e=>n(e.target.value),className:i.editor,spellCheck:!1,placeholder:(0,l.T)({id:"playground.input.placeholder",message:"Write your T-Ruby code here..."})})]})]}),(0,o.jsxs)("div",{className:i.panel,children:[(0,o.jsxs)("div",{className:i.panelHeader,children:[(0,o.jsx)("span",{className:i.panelTitle,children:(0,o.jsx)(l.A,{id:"playground.output.title",children:"Output"})}),(0,o.jsxs)("div",{className:i.tabs,children:[(0,o.jsx)("button",{className:`${i.tab} ${"ruby"===p?i.tabActive:""}`,onClick:()=>u("ruby"),children:(0,o.jsx)(l.A,{id:"playground.output.ruby",children:".rb"})}),(0,o.jsx)("button",{className:`${i.tab} ${"rbs"===p?i.tabActive:""}`,onClick:()=>u("rbs"),children:(0,o.jsx)(l.A,{id:"playground.output.rbs",children:".rbs"})}),(0,o.jsxs)("button",{className:`${i.tab} ${"errors"===p?i.tabActive:""} ${m.errors.length>0?i.tabError:""}`,onClick:()=>u("errors"),children:[(0,o.jsx)(l.A,{id:"playground.output.errors",children:"Errors"})," ",m.errors.length>0&&`(${m.errors.length})`]})]})]}),(0,o.jsxs)("div",{className:i.editorWrapper,children:[(0,o.jsx)("div",{className:i.filenameBar,children:(0,o.jsxs)("span",{children:["ruby"===p&&"example.rb","rbs"===p&&"example.rbs","errors"===p&&(0,o.jsx)(l.A,{id:"playground.output.compilationErrors",children:"Compilation Errors"})]})}),(0,o.jsx)("div",{className:i.output,children:"errors"===p?m.errors.length>0?(0,o.jsx)("ul",{className:i.errorList,children:m.errors.map((e,n)=>(0,o.jsx)("li",{className:i.errorItem,children:e},n))}):(0,o.jsx)("p",{className:i.noErrors,children:(0,o.jsx)(l.A,{id:"playground.output.noErrors",children:"No errors"})}):(0,o.jsx)("pre",{className:i.outputCode,children:(0,o.jsx)("code",{children:"ruby"===p?m.ruby:m.rbs})})})]})]})]}),(0,o.jsx)("div",{className:i.footer,children:(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:(0,o.jsx)(l.A,{id:"playground.footer.note",children:"Note: This playground uses a simplified compiler for demonstration. For full functionality, install T-Ruby locally with gem install t-ruby."})})})})]})})}}}]);