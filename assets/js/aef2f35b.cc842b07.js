"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[6365],{2840:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"cli/commands","title":"Commands","description":"trc CLI commands reference","source":"@site/docs/cli/commands.md","sourceDirName":"cli","slug":"/cli/commands","permalink":"/docs/cli/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/type-ruby/t-ruby.github.io/tree/main/docs/cli/commands.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Commands","description":"trc CLI commands reference"},"sidebar":"docsSidebar","previous":{"title":"Utility Types","permalink":"/docs/learn/advanced/utility-types"},"next":{"title":"Configuration","permalink":"/docs/cli/configuration"}}');var i=r(2714),c=r(8885);const t={sidebar_position:1,title:"Commands",description:"trc CLI commands reference"},l="Commands",o={},a=[{value:"Overview",id:"overview",level:2},{value:"compile",id:"compile",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Shorthand",id:"shorthand",level:3},{value:"Options",id:"options",level:3},{value:"Examples",id:"examples",level:3},{value:"Exit Codes",id:"exit-codes",level:3},{value:"watch",id:"watch",level:2},{value:"Basic Usage",id:"basic-usage-1",level:3},{value:"Options",id:"options-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Output",id:"output",level:3},{value:"Keyboard Shortcuts",id:"keyboard-shortcuts",level:3},{value:"check",id:"check",level:2},{value:"Basic Usage",id:"basic-usage-2",level:3},{value:"Options",id:"options-2",level:3},{value:"Examples",id:"examples-2",level:3},{value:"Output Formats",id:"output-formats",level:3},{value:"Exit Codes",id:"exit-codes-1",level:3},{value:"init",id:"init",level:2},{value:"Basic Usage",id:"basic-usage-3",level:3},{value:"Options",id:"options-3",level:3},{value:"Templates",id:"templates",level:3},{value:"Interactive Mode",id:"interactive-mode",level:3},{value:"Examples",id:"examples-3",level:3},{value:"Global Options",id:"global-options",level:2},{value:"Configuration File",id:"configuration-file",level:2},{value:"CI/CD Usage",id:"cicd-usage",level:2},{value:"GitHub Actions",id:"github-actions",level:3},{value:"GitLab CI",id:"gitlab-ci",level:3},{value:"Pre-commit Hook",id:"pre-commit-hook",level:3},{value:"Tips and Best Practices",id:"tips-and-best-practices",level:2},{value:"Development Workflow",id:"development-workflow",level:3},{value:"Performance",id:"performance",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components},{DocsBadge:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("DocsBadge",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r,{}),"\n",(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"commands",children:"Commands"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"trc"})," command-line interface is the primary tool for working with T-Ruby. It compiles ",(0,i.jsx)(n.code,{children:".trb"})," files to Ruby, type-checks your code, and generates RBS signatures."]}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc [command] [options] [files...]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Available commands:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"compile"})," - Compile T-Ruby files to Ruby and RBS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"watch"})," - Watch files and auto-compile on changes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"check"})," - Type-check without generating output"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"init"})," - Initialize a new T-Ruby project"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"compile",children:"compile"}),"\n",(0,i.jsxs)(n.p,{children:["Compiles T-Ruby source files (",(0,i.jsx)(n.code,{children:".trb"}),") to Ruby (",(0,i.jsx)(n.code,{children:".rb"}),") and RBS (",(0,i.jsx)(n.code,{children:".rbs"}),") files."]}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Compile a single file\ntrc compile hello.trb\n\n# Compile multiple files\ntrc compile user.trb post.trb\n\n# Compile all .trb files in directory\ntrc compile src/\n\n# Compile current directory\ntrc compile .\n"})}),"\n",(0,i.jsx)(n.h3,{id:"shorthand",children:"Shorthand"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"compile"})," command is the default, so you can omit it:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc hello.trb\ntrc src/\ntrc .\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Specify output directory\ntrc compile src/ --output build/\n\n# Generate only Ruby files (skip RBS)\ntrc compile src/ --no-rbs\n\n# Generate only RBS files (skip Ruby)\ntrc compile src/ --rbs-only\n\n# Specify RBS output directory\ntrc compile src/ --rbs-dir sig/\n\n# Use specific config file\ntrc compile src/ --config trc.production.yaml\n\n# Clean output directory before compilation\ntrc compile . --clean\n\n# Show verbose output\ntrc compile . --verbose\n\n# Suppress all output except errors\ntrc compile . --quiet\n"})}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Compile with custom output directories:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc compile src/ \\\n  --output build/ \\\n  --rbs-dir signatures/\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Compile for production (clean build, no debug info):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc compile . \\\n  --clean \\\n  --quiet \\\n  --no-debug-info\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Compile and preserve source structure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc compile src/ \\\n  --output build/ \\\n  --preserve-structure\n"})}),"\n",(0,i.jsx)(n.p,{children:"This transforms:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"src/\n\u251c\u2500\u2500 models/\n\u2502   \u2514\u2500\u2500 user.trb\n\u2514\u2500\u2500 services/\n    \u2514\u2500\u2500 auth.trb\n"})}),"\n",(0,i.jsx)(n.p,{children:"Into:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"build/\n\u251c\u2500\u2500 models/\n\u2502   \u2514\u2500\u2500 user.rb\n\u2514\u2500\u2500 services/\n    \u2514\u2500\u2500 auth.rb\n"})}),"\n",(0,i.jsx)(n.h3,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," - Success"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1"})," - Compilation errors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"2"})," - Type errors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"3"})," - Configuration errors"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"watch",children:"watch"}),"\n",(0,i.jsx)(n.p,{children:"Watches T-Ruby files and automatically recompiles when changes are detected. Perfect for development workflows."}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage-1",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Watch current directory\ntrc watch\n\n# Watch specific directory\ntrc watch src/\n\n# Watch multiple directories\ntrc watch src/ lib/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-1",children:"Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Clear terminal on each rebuild\ntrc watch --clear\n\n# Run command after successful compilation\ntrc watch --exec "bundle exec rspec"\n\n# Debounce delay in milliseconds (default: 100)\ntrc watch --debounce 300\n\n# Watch additional file patterns\ntrc watch --include "**/*.yaml"\n\n# Ignore specific patterns\ntrc watch --ignore "**/test/**"\n\n# Exit after first successful compilation\ntrc watch --once\n'})}),"\n",(0,i.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Watch and run tests on success:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'trc watch src/ --exec "bundle exec rake test"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Watch with custom debounce:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Wait 500ms after last change before compiling\ntrc watch --debounce 500\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Watch configuration files too:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'trc watch src/ --include "trbconfig.yml"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"output",children:"Output"}),"\n",(0,i.jsx)(n.p,{children:"Watch mode provides real-time feedback:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Watching for file changes in src/...\n\n[10:30:15] Changed: src/models/user.trb\n[10:30:15] Compiling...\n[10:30:16] \u2713 Compiled successfully (1.2s)\n[10:30:16] Generated:\n  - build/models/user.rb\n  - sig/models/user.rbs\n\nWaiting for changes...\n"})}),"\n",(0,i.jsx)(n.p,{children:"If there are errors:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[10:31:20] Changed: src/models/user.trb\n[10:31:20] Compiling...\n[10:31:21] \u2717 Compilation failed\n\nError: src/models/user.trb:15:23\n  Type mismatch: expected String, got Integer\n\n    @email = user_id\n              ^^^^^^^\n\nWaiting for changes...\n"})}),"\n",(0,i.jsx)(n.h3,{id:"keyboard-shortcuts",children:"Keyboard Shortcuts"}),"\n",(0,i.jsx)(n.p,{children:"While watch mode is running:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Ctrl+C"})," - Stop watching and exit"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"r"})," - Force recompilation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"c"})," - Clear terminal"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"q"})," - Quit"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"check",children:"check"}),"\n",(0,i.jsx)(n.p,{children:"Type-check T-Ruby files without generating output. Useful for CI/CD pipelines and quick validation."}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage-2",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check a single file\ntrc check hello.trb\n\n# Check multiple files\ntrc check src/**/*.trb\n\n# Check entire directory\ntrc check .\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-2",children:"Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Strict mode (fail on warnings)\ntrc check . --strict\n\n# Show warnings as well as errors\ntrc check . --warnings\n\n# Report format (text, json, junit)\ntrc check . --format json\n\n# Output report to file\ntrc check . --output-file report.json\n\n# Max number of errors to show (default: 50)\ntrc check . --max-errors 10\n\n# Continue on first error (default: stop after 50 errors)\ntrc check . --no-error-limit\n"})}),"\n",(0,i.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check before committing:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Add to .git/hooks/pre-commit\n#!/bin/sh\ntrc check . --strict\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generate JSON report for tooling:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc check . \\\n  --format json \\\n  --output-file type-errors.json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Quick check with minimal output:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc check src/ --quiet --max-errors 5\n"})}),"\n",(0,i.jsx)(n.h3,{id:"output-formats",children:"Output Formats"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Text (default):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Checking 15 files...\n\nError: src/models/user.trb:23:15\n  Type mismatch: expected String, got Integer\n\n    return user_id\n           ^^^^^^^\n\nError: src/services/auth.trb:45:8\n  Undefined method 'authenticate' on nil\n\n    user.authenticate(password)\n    ^^^^\n\n\u2717 Found 2 errors in 2 files\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"JSON:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "files_checked": 15,\n  "errors": [\n    {\n      "file": "src/models/user.trb",\n      "line": 23,\n      "column": 15,\n      "severity": "error",\n      "message": "Type mismatch: expected String, got Integer",\n      "code": "type-mismatch"\n    }\n  ],\n  "summary": {\n    "error_count": 2,\n    "warning_count": 0,\n    "files_with_errors": 2\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"JUnit XML (for CI integration):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<testsuites>\n  <testsuite name="T-Ruby Type Check" tests="15" failures="2">\n    <testcase name="src/models/user.trb">\n      <failure message="Type mismatch: expected String, got Integer">\n        Line 23, column 15\n      </failure>\n    </testcase>\n  </testsuite>\n</testsuites>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"exit-codes-1",children:"Exit Codes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," - No errors found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1"})," - Type errors found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"2"})," - Warnings found (only with ",(0,i.jsx)(n.code,{children:"--strict"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"init",children:"init"}),"\n",(0,i.jsx)(n.p,{children:"Initialize a new T-Ruby project with configuration file and directory structure."}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage-3",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create trbconfig.yml in current directory\ntrc init\n\n# Interactive setup\ntrc init --interactive\n\n# Use a template\ntrc init --template rails\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-3",children:"Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Skip prompts and use defaults\ntrc init --yes\n\n# Specify project name\ntrc init --name my-project\n\n# Choose template (basic, rails, gem, sinatra)\ntrc init --template rails\n\n# Create directory structure\ntrc init --create-dirs\n\n# Initialize git repository\ntrc init --git\n"})}),"\n",(0,i.jsx)(n.h3,{id:"templates",children:"Templates"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Basic (default):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc init --template basic\n"})}),"\n",(0,i.jsx)(n.p,{children:"Creates:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"trbconfig.yml\nsrc/\nbuild/\nsig/\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rails:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc init --template rails\n"})}),"\n",(0,i.jsx)(n.p,{children:"Creates configuration for Rails projects:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"source:\n  include:\n    - app/models\n    - app/controllers\n    - app/services\n    - lib\n\noutput:\n  ruby_dir: app\n  preserve_structure: true\n\ncompiler:\n  strictness: standard\n\ntypes:\n  external:\n    - rails\n    - activerecord\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Gem:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc init --template gem\n"})}),"\n",(0,i.jsx)(n.p,{children:"Creates configuration for gem development:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'source:\n  include:\n    - lib\n  exclude:\n    - "**/*_spec.trb"\n\noutput:\n  ruby_dir: lib\n  rbs_dir: sig\n  preserve_structure: true\n\ncompiler:\n  strictness: strict\n  generate_rbs: true\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Sinatra:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc init --template sinatra\n"})}),"\n",(0,i.jsx)(n.p,{children:"Creates configuration for Sinatra apps:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"source:\n  include:\n    - app\n    - lib\n\noutput:\n  ruby_dir: build\n  rbs_dir: sig\n\ncompiler:\n  strictness: standard\n\ntypes:\n  external:\n    - sinatra\n"})}),"\n",(0,i.jsx)(n.h3,{id:"interactive-mode",children:"Interactive Mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc init --interactive\n"})}),"\n",(0,i.jsx)(n.p,{children:"Guides you through setup:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"T-Ruby Project Setup\n====================\n\n? Project name: my-awesome-project\n? Project type: (Use arrow keys)\n  \u276f Basic\n    Rails\n    Gem\n    Sinatra\n    Custom\n\n? Source directory: src\n? Output directory: build\n? RBS directory: sig\n\n? Strictness level: (Use arrow keys)\n    Strict (all code must be typed)\n  \u276f Standard (public APIs must be typed)\n    Permissive (minimal requirements)\n\n? Generate RBS files? Yes\n? Target Ruby version: 3.2\n\n? Create directory structure? Yes\n? Initialize git repository? Yes\n\n\u2713 Created trbconfig.yml\n\u2713 Created src/\n\u2713 Created build/\n\u2713 Created sig/\n\u2713 Initialized git repository\n\nYour T-Ruby project is ready! Try:\n\n  trc compile src/\n  trc watch src/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"examples-3",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Quick start a new project:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir my-project\ncd my-project\ntrc init --yes --create-dirs\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rails project setup:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd my-rails-app\ntrc init --template rails --interactive\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Gem development:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bundle gem my_gem\ncd my_gem\ntrc init --template gem --create-dirs\n"})}),"\n",(0,i.jsx)(n.h2,{id:"global-options",children:"Global Options"}),"\n",(0,i.jsx)(n.p,{children:"These options work with all commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Show version\ntrc --version\ntrc -v\n\n# Show help\ntrc --help\ntrc -h\n\n# Show help for specific command\ntrc compile --help\n\n# Use specific config file\ntrc --config path/to/trbconfig.yml\n\n# Set log level (debug, info, warn, error)\ntrc --log-level debug\n\n# Enable color output (default: auto)\ntrc --color\n\n# Disable color output\ntrc --no-color\n\n# Show stack traces on errors\ntrc --stack-trace\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-file",children:"Configuration File"}),"\n",(0,i.jsxs)(n.p,{children:["Commands respect the ",(0,i.jsx)(n.code,{children:"trbconfig.yml"})," configuration file. Command-line options override config file settings."]}),"\n",(0,i.jsx)(n.p,{children:"Example workflow:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="trbconfig.yml"',children:'source:\n  include:\n    - src\n  exclude:\n    - "**/*_test.trb"\n\noutput:\n  ruby_dir: build\n  rbs_dir: sig\n\ncompiler:\n  strictness: standard\n  generate_rbs: true\n'})}),"\n",(0,i.jsx)(n.p,{children:"Then simply run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Uses settings from trbconfig.yml\ntrc compile\ntrc watch\ntrc check\n"})}),"\n",(0,i.jsx)(n.h2,{id:"cicd-usage",children:"CI/CD Usage"}),"\n",(0,i.jsx)(n.h3,{id:"github-actions",children:"GitHub Actions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- name: Type Check\n  run: trc check . --format junit --output-file test-results.xml\n\n- name: Compile\n  run: trc compile . --quiet\n"})}),"\n",(0,i.jsx)(n.h3,{id:"gitlab-ci",children:"GitLab CI"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"typecheck:\n  script:\n    - trc check . --strict\n    - trc compile .\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pre-commit-hook",children:"Pre-commit Hook"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\n# .git/hooks/pre-commit\n\n# Get staged .trb files\nSTAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep \'\\.trb$\')\n\nif [ -n "$STAGED_FILES" ]; then\n  echo "Type checking staged files..."\n  trc check $STAGED_FILES --strict\n\n  if [ $? -ne 0 ]; then\n    echo "Type check failed. Commit aborted."\n    exit 1\n  fi\nfi\n'})}),"\n",(0,i.jsx)(n.h2,{id:"tips-and-best-practices",children:"Tips and Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use watch mode during development:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'trc watch src/ --clear --exec "bundle exec rspec"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Run check before committing:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc check . --strict\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use quiet mode in scripts:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc compile . --quiet || exit 1\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Compile specific files instead of entire directories when possible:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Faster\ntrc compile src/models/user.trb\n\n# Slower\ntrc compile src/\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"--no-rbs"})," if you don't need RBS files:"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc compile . --no-rbs\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Increase debounce in watch mode for large projects:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"trc watch --debounce 500\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Command not found:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check installation\nwhich trc\n\n# Reinstall if needed\ngem install t-ruby\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Slow compilation:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Use verbose mode to see what's taking time\ntrc compile . --verbose\n\n# Check configuration\ntrc compile . --log-level debug\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Unexpected output location:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check your configuration\ncat trbconfig.yml\n\n# Or specify explicitly\ntrc compile src/ --output build/ --rbs-dir sig/\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/cli/configuration",children:"Configuration Reference"})," - Learn about ",(0,i.jsx)(n.code,{children:"trbconfig.yml"})," options"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/cli/compiler-options",children:"Compiler Options"})," - Detailed compiler flags and settings"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/getting-started/project-configuration",children:"Project Configuration"})," - Set up your project"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8885:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(9378);const i={},c=s.createContext(i);function t(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);