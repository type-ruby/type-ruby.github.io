"use strict";(globalThis.webpackChunkt_ruby_docs=globalThis.webpackChunkt_ruby_docs||[]).push([[3365],{9731:(e,n,r)=>{r.r(n),r.d(n,{default:()=>c});var s=r(9378),a=r(5043),t=r(2623);const l={playground:"playground_es7I",header:"header_tRbQ",subtitle:"subtitle_KLfx",container:"container_tS08",panel:"panel_mskZ",panelHeader:"panelHeader_licZ",panelTitle:"panelTitle_fnkw",panelActions:"panelActions_kMKX",exampleSelect:"exampleSelect_zCyJ",compileButton:"compileButton_Ek8p",tabs:"tabs_SUXD",tab:"tab_CWX0",tabActive:"tabActive_kQNP",tabError:"tabError_MsEd",editorWrapper:"editorWrapper_acPh",filenameBar:"filenameBar_io_Y",editor:"editor_jOh4",output:"output_iH9E",outputCode:"outputCode_cHdv",errorList:"errorList_Ju6v",errorItem:"errorItem_PBDF",noErrors:"noErrors_eJUK",footer:"footer_ldla"};var i=r(2714);const o={"hello-world":{name:"Hello World",code:'# hello.trb\ndef greet(name: String): String\n  "Hello, #{name}!"\nend\n\nputs greet("World")'},"basic-types":{name:"Basic Types",code:"# Basic type annotations\ndef add(a: Integer, b: Integer): Integer\n  a + b\nend\n\ndef concat(str1: String, str2: String): String\n  str1 + str2\nend\n\ndef is_valid(flag: Bool): Bool\n  !flag\nend\n\nresult = add(10, 20)\nputs result"},"union-types":{name:"Union Types",code:"# Union types allow multiple types\ndef stringify(value: String | Integer | Float): String\n  value.to_s\nend\n\ndef find_user(id: Integer): User | nil\n  # Returns User or nil\n  nil\nend\n\n# Optional shorthand (same as T | nil)\ndef get_name(user: User?): String?\n  user&.name\nend"},generics:{name:"Generics",code:"# Generic functions\ndef first<T>(arr: Array<T>): T | nil\n  arr[0]\nend\n\ndef map<T, U>(arr: Array<T>, &block: (T) -> U): Array<U>\n  arr.map(&block)\nend\n\n# Generic class\nclass Box<T>\n  @value: T\n\n  def initialize(value: T): void\n    @value = value\n  end\n\n  def get: T\n    @value\n  end\nend\n\nbox = Box.new(42)\nputs box.get"},interfaces:{name:"Interfaces",code:'# Define an interface\ninterface Printable\n  def to_string: String\nend\n\ninterface Comparable<T>\n  def compare(other: T): Integer\nend\n\n# Implement interface\nclass User\n  implements Printable\n\n  @name: String\n  @age: Integer\n\n  def initialize(name: String, age: Integer): void\n    @name = name\n    @age = age\n  end\n\n  def to_string: String\n    "User(#{@name}, #{@age})"\n  end\nend'},classes:{name:"Classes",code:'# Class with type annotations\nclass Person\n  @name: String\n  @age: Integer\n  @@count: Integer = 0\n\n  def initialize(name: String, age: Integer): void\n    @name = name\n    @age = age\n    @@count += 1\n  end\n\n  def greet: String\n    "Hi, I\'m #{@name}"\n  end\n\n  def self.count: Integer\n    @@count\n  end\nend\n\nclass Employee < Person\n  @department: String\n\n  def initialize(name: String, age: Integer, dept: String): void\n    super(name, age)\n    @department = dept\n  end\nend'}};function c(){const[e,n]=(0,s.useState)(o["hello-world"].code),[r,c]=(0,s.useState)("hello-world"),[d,p]=(0,s.useState)("ruby"),[u,m]=(0,s.useState)({ruby:'# Click "Compile" to see output',rbs:'# Click "Compile" to generate RBS',errors:[]}),[g,b]=(0,s.useState)(!1),h=(0,s.useCallback)(e=>{const r=e.target.value;c(r),n(o[r].code)},[]),f=(0,s.useCallback)(async()=>{b(!0);try{const n=await async function(e){const n=e.split("\n"),r=[],s=[];for(const t of n){let e=t.replace(/\):\s*\w+(\s*\|\s*\w+)*(\?)?(\s*{|$)/g,")$3").replace(/(\w+):\s*([A-Z]\w*(\s*\|\s*\w+)*\??)/g,"$1").replace(/<[A-Z]\w*(,\s*[A-Z]\w*)*>/g,"").replace(/^interface\s+.*$/g,"# interface removed").replace(/^\s*implements\s+.*$/g,"").replace(/@(\w+):\s*([A-Z]\w*(\s*\|\s*\w+)*\??)(\s*=.*)?$/g,"@$1$4");r.push(e)}const a=e.matchAll(/def\s+(\w+)(\([^)]*\))?:\s*(\w+(\s*\|\s*\w+)*\??)/g);for(const t of a){const[,e,n,r]=t;s.push(`def ${e}: ${n||"()"} -> ${r}`)}return{ruby:r.join("\n"),rbs:s.length>0?s.join("\n\n"):"# No type signatures generated",errors:[]}}(e);m(n),n.errors.length>0?p("errors"):p("ruby")}catch(n){m({ruby:"",rbs:"",errors:[`Compilation error: ${n}`]}),p("errors")}finally{b(!1)}},[e]);return(0,i.jsx)(a.A,{title:"Playground",description:"Try T-Ruby in your browser",children:(0,i.jsxs)("div",{className:l.playground,children:[(0,i.jsxs)("div",{className:l.header,children:[(0,i.jsx)(t.A,{as:"h1",children:"Playground"}),(0,i.jsx)("p",{className:l.subtitle,children:"Write T-Ruby code and see the compiled output in real-time."})]}),(0,i.jsxs)("div",{className:l.container,children:[(0,i.jsxs)("div",{className:l.panel,children:[(0,i.jsxs)("div",{className:l.panelHeader,children:[(0,i.jsx)("span",{className:l.panelTitle,children:"Input"}),(0,i.jsxs)("div",{className:l.panelActions,children:[(0,i.jsx)("select",{value:r,onChange:h,className:l.exampleSelect,children:Object.entries(o).map(([e,{name:n}])=>(0,i.jsx)("option",{value:e,children:n},e))}),(0,i.jsx)("button",{onClick:f,disabled:g,className:l.compileButton,children:g?"Compiling...":"Compile"})]})]}),(0,i.jsxs)("div",{className:l.editorWrapper,children:[(0,i.jsx)("div",{className:l.filenameBar,children:(0,i.jsx)("span",{children:"example.trb"})}),(0,i.jsx)("textarea",{value:e,onChange:e=>n(e.target.value),className:l.editor,spellCheck:!1,placeholder:"Write your T-Ruby code here..."})]})]}),(0,i.jsxs)("div",{className:l.panel,children:[(0,i.jsxs)("div",{className:l.panelHeader,children:[(0,i.jsx)("span",{className:l.panelTitle,children:"Output"}),(0,i.jsxs)("div",{className:l.tabs,children:[(0,i.jsx)("button",{className:`${l.tab} ${"ruby"===d?l.tabActive:""}`,onClick:()=>p("ruby"),children:".rb"}),(0,i.jsx)("button",{className:`${l.tab} ${"rbs"===d?l.tabActive:""}`,onClick:()=>p("rbs"),children:".rbs"}),(0,i.jsxs)("button",{className:`${l.tab} ${"errors"===d?l.tabActive:""} ${u.errors.length>0?l.tabError:""}`,onClick:()=>p("errors"),children:["Errors ",u.errors.length>0&&`(${u.errors.length})`]})]})]}),(0,i.jsxs)("div",{className:l.editorWrapper,children:[(0,i.jsx)("div",{className:l.filenameBar,children:(0,i.jsxs)("span",{children:["ruby"===d&&"example.rb","rbs"===d&&"example.rbs","errors"===d&&"Compilation Errors"]})}),(0,i.jsx)("div",{className:l.output,children:"errors"===d?u.errors.length>0?(0,i.jsx)("ul",{className:l.errorList,children:u.errors.map((e,n)=>(0,i.jsx)("li",{className:l.errorItem,children:e},n))}):(0,i.jsx)("p",{className:l.noErrors,children:"No errors"}):(0,i.jsx)("pre",{className:l.outputCode,children:(0,i.jsx)("code",{children:"ruby"===d?u.ruby:u.rbs})})})]})]})]}),(0,i.jsx)("div",{className:l.footer,children:(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Note:"})," This playground uses a simplified compiler for demonstration. For full functionality, install T-Ruby locally with ",(0,i.jsx)("code",{children:"gem install t-ruby"}),"."]})})]})})}}}]);